(function(){const w=document.createElement("link").relList;if(w&&w.supports&&w.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))u(v);new MutationObserver(v=>{for(const E of v)if(E.type==="childList")for(const k of E.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&u(k)}).observe(document,{childList:!0,subtree:!0});function T(v){const E={};return v.integrity&&(E.integrity=v.integrity),v.referrerPolicy&&(E.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?E.credentials="include":v.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function u(v){if(v.ep)return;v.ep=!0;const E=T(v);fetch(v.href,E)}})();var dr={exports:{}},_i={};var _m;function dp(){if(_m)return _i;_m=1;var d=Symbol.for("react.transitional.element"),w=Symbol.for("react.fragment");function T(u,v,E){var k=null;if(E!==void 0&&(k=""+E),v.key!==void 0&&(k=""+v.key),"key"in v){E={};for(var B in v)B!=="key"&&(E[B]=v[B])}else E=v;return v=E.ref,{$$typeof:d,type:u,key:k,ref:v!==void 0?v:null,props:E}}return _i.Fragment=w,_i.jsx=T,_i.jsxs=T,_i}var Am;function mp(){return Am||(Am=1,dr.exports=dp()),dr.exports}var s=mp(),mr={exports:{}},Y={};var Nm;function fp(){if(Nm)return Y;Nm=1;var d=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),ne=Symbol.iterator;function Le(f){return f===null||typeof f!="object"?null:(f=ne&&f[ne]||f["@@iterator"],typeof f=="function"?f:null)}var De={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ee=Object.assign,Ot={};function $e(f,j,C){this.props=f,this.context=j,this.refs=Ot,this.updater=C||De}$e.prototype.isReactComponent={},$e.prototype.setState=function(f,j){if(typeof f!="object"&&typeof f!="function"&&f!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,f,j,"setState")},$e.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};function Ft(){}Ft.prototype=$e.prototype;function qe(f,j,C){this.props=f,this.context=j,this.refs=Ot,this.updater=C||De}var ct=qe.prototype=new Ft;ct.constructor=qe,Ee(ct,$e.prototype),ct.isPureReactComponent=!0;var _t=Array.isArray;function Ye(){}var F={H:null,A:null,T:null,S:null},Je=Object.prototype.hasOwnProperty;function At(f,j,C){var M=C.ref;return{$$typeof:d,type:f,key:j,ref:M!==void 0?M:null,props:C}}function Va(f,j){return At(f.type,j,f.props)}function Nt(f){return typeof f=="object"&&f!==null&&f.$$typeof===d}function Ve(f){var j={"=":"=0",":":"=2"};return"$"+f.replace(/[=:]/g,function(C){return j[C]})}var _a=/\/+/g;function Ct(f,j){return typeof f=="object"&&f!==null&&f.key!=null?Ve(""+f.key):j.toString(36)}function xt(f){switch(f.status){case"fulfilled":return f.value;case"rejected":throw f.reason;default:switch(typeof f.status=="string"?f.then(Ye,Ye):(f.status="pending",f.then(function(j){f.status==="pending"&&(f.status="fulfilled",f.value=j)},function(j){f.status==="pending"&&(f.status="rejected",f.reason=j)})),f.status){case"fulfilled":return f.value;case"rejected":throw f.reason}}throw f}function _(f,j,C,M,J){var Q=typeof f;(Q==="undefined"||Q==="boolean")&&(f=null);var ae=!1;if(f===null)ae=!0;else switch(Q){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(f.$$typeof){case d:case w:ae=!0;break;case L:return ae=f._init,_(ae(f._payload),j,C,M,J)}}if(ae)return J=J(f),ae=M===""?"."+Ct(f,0):M,_t(J)?(C="",ae!=null&&(C=ae.replace(_a,"$&/")+"/"),_(J,j,C,"",function(On){return On})):J!=null&&(Nt(J)&&(J=Va(J,C+(J.key==null||f&&f.key===J.key?"":(""+J.key).replace(_a,"$&/")+"/")+ae)),j.push(J)),1;ae=0;var He=M===""?".":M+":";if(_t(f))for(var be=0;be<f.length;be++)M=f[be],Q=He+Ct(M,be),ae+=_(M,j,C,Q,J);else if(be=Le(f),typeof be=="function")for(f=be.call(f),be=0;!(M=f.next()).done;)M=M.value,Q=He+Ct(M,be++),ae+=_(M,j,C,Q,J);else if(Q==="object"){if(typeof f.then=="function")return _(xt(f),j,C,M,J);throw j=String(f),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ae}function O(f,j,C){if(f==null)return f;var M=[],J=0;return _(f,M,"","",function(Q){return j.call(C,Q,J++)}),M}function H(f){if(f._status===-1){var j=f._result;j=j(),j.then(function(C){(f._status===0||f._status===-1)&&(f._status=1,f._result=C)},function(C){(f._status===0||f._status===-1)&&(f._status=2,f._result=C)}),f._status===-1&&(f._status=0,f._result=j)}if(f._status===1)return f._result.default;throw f._result}var se=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},ue={map:O,forEach:function(f,j,C){O(f,function(){j.apply(this,arguments)},C)},count:function(f){var j=0;return O(f,function(){j++}),j},toArray:function(f){return O(f,function(j){return j})||[]},only:function(f){if(!Nt(f))throw Error("React.Children.only expected to receive a single React element child.");return f}};return Y.Activity=q,Y.Children=ue,Y.Component=$e,Y.Fragment=T,Y.Profiler=v,Y.PureComponent=qe,Y.StrictMode=u,Y.Suspense=R,Y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Y.__COMPILER_RUNTIME={__proto__:null,c:function(f){return F.H.useMemoCache(f)}},Y.cache=function(f){return function(){return f.apply(null,arguments)}},Y.cacheSignal=function(){return null},Y.cloneElement=function(f,j,C){if(f==null)throw Error("The argument must be a React element, but you passed "+f+".");var M=Ee({},f.props),J=f.key;if(j!=null)for(Q in j.key!==void 0&&(J=""+j.key),j)!Je.call(j,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&j.ref===void 0||(M[Q]=j[Q]);var Q=arguments.length-2;if(Q===1)M.children=C;else if(1<Q){for(var ae=Array(Q),He=0;He<Q;He++)ae[He]=arguments[He+2];M.children=ae}return At(f.type,J,M)},Y.createContext=function(f){return f={$$typeof:k,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null},f.Provider=f,f.Consumer={$$typeof:E,_context:f},f},Y.createElement=function(f,j,C){var M,J={},Q=null;if(j!=null)for(M in j.key!==void 0&&(Q=""+j.key),j)Je.call(j,M)&&M!=="key"&&M!=="__self"&&M!=="__source"&&(J[M]=j[M]);var ae=arguments.length-2;if(ae===1)J.children=C;else if(1<ae){for(var He=Array(ae),be=0;be<ae;be++)He[be]=arguments[be+2];J.children=He}if(f&&f.defaultProps)for(M in ae=f.defaultProps,ae)J[M]===void 0&&(J[M]=ae[M]);return At(f,Q,J)},Y.createRef=function(){return{current:null}},Y.forwardRef=function(f){return{$$typeof:B,render:f}},Y.isValidElement=Nt,Y.lazy=function(f){return{$$typeof:L,_payload:{_status:-1,_result:f},_init:H}},Y.memo=function(f,j){return{$$typeof:x,type:f,compare:j===void 0?null:j}},Y.startTransition=function(f){var j=F.T,C={};F.T=C;try{var M=f(),J=F.S;J!==null&&J(C,M),typeof M=="object"&&M!==null&&typeof M.then=="function"&&M.then(Ye,se)}catch(Q){se(Q)}finally{j!==null&&C.types!==null&&(j.types=C.types),F.T=j}},Y.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Y.use=function(f){return F.H.use(f)},Y.useActionState=function(f,j,C){return F.H.useActionState(f,j,C)},Y.useCallback=function(f,j){return F.H.useCallback(f,j)},Y.useContext=function(f){return F.H.useContext(f)},Y.useDebugValue=function(){},Y.useDeferredValue=function(f,j){return F.H.useDeferredValue(f,j)},Y.useEffect=function(f,j){return F.H.useEffect(f,j)},Y.useEffectEvent=function(f){return F.H.useEffectEvent(f)},Y.useId=function(){return F.H.useId()},Y.useImperativeHandle=function(f,j,C){return F.H.useImperativeHandle(f,j,C)},Y.useInsertionEffect=function(f,j){return F.H.useInsertionEffect(f,j)},Y.useLayoutEffect=function(f,j){return F.H.useLayoutEffect(f,j)},Y.useMemo=function(f,j){return F.H.useMemo(f,j)},Y.useOptimistic=function(f,j){return F.H.useOptimistic(f,j)},Y.useReducer=function(f,j,C){return F.H.useReducer(f,j,C)},Y.useRef=function(f){return F.H.useRef(f)},Y.useState=function(f){return F.H.useState(f)},Y.useSyncExternalStore=function(f,j,C){return F.H.useSyncExternalStore(f,j,C)},Y.useTransition=function(){return F.H.useTransition()},Y.version="19.2.4",Y}var jm;function Sr(){return jm||(jm=1,mr.exports=fp()),mr.exports}var me=Sr(),fr={exports:{}},Ai={},hr={exports:{}},pr={};var Rm;function hp(){return Rm||(Rm=1,(function(d){function w(_,O){var H=_.length;_.push(O);e:for(;0<H;){var se=H-1>>>1,ue=_[se];if(0<v(ue,O))_[se]=O,_[H]=ue,H=se;else break e}}function T(_){return _.length===0?null:_[0]}function u(_){if(_.length===0)return null;var O=_[0],H=_.pop();if(H!==O){_[0]=H;e:for(var se=0,ue=_.length,f=ue>>>1;se<f;){var j=2*(se+1)-1,C=_[j],M=j+1,J=_[M];if(0>v(C,H))M<ue&&0>v(J,C)?(_[se]=J,_[M]=H,se=M):(_[se]=C,_[j]=H,se=j);else if(M<ue&&0>v(J,H))_[se]=J,_[M]=H,se=M;else break e}}return O}function v(_,O){var H=_.sortIndex-O.sortIndex;return H!==0?H:_.id-O.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;d.unstable_now=function(){return E.now()}}else{var k=Date,B=k.now();d.unstable_now=function(){return k.now()-B}}var R=[],x=[],L=1,q=null,ne=3,Le=!1,De=!1,Ee=!1,Ot=!1,$e=typeof setTimeout=="function"?setTimeout:null,Ft=typeof clearTimeout=="function"?clearTimeout:null,qe=typeof setImmediate<"u"?setImmediate:null;function ct(_){for(var O=T(x);O!==null;){if(O.callback===null)u(x);else if(O.startTime<=_)u(x),O.sortIndex=O.expirationTime,w(R,O);else break;O=T(x)}}function _t(_){if(Ee=!1,ct(_),!De)if(T(R)!==null)De=!0,Ye||(Ye=!0,Ve());else{var O=T(x);O!==null&&xt(_t,O.startTime-_)}}var Ye=!1,F=-1,Je=5,At=-1;function Va(){return Ot?!0:!(d.unstable_now()-At<Je)}function Nt(){if(Ot=!1,Ye){var _=d.unstable_now();At=_;var O=!0;try{e:{De=!1,Ee&&(Ee=!1,Ft(F),F=-1),Le=!0;var H=ne;try{t:{for(ct(_),q=T(R);q!==null&&!(q.expirationTime>_&&Va());){var se=q.callback;if(typeof se=="function"){q.callback=null,ne=q.priorityLevel;var ue=se(q.expirationTime<=_);if(_=d.unstable_now(),typeof ue=="function"){q.callback=ue,ct(_),O=!0;break t}q===T(R)&&u(R),ct(_)}else u(R);q=T(R)}if(q!==null)O=!0;else{var f=T(x);f!==null&&xt(_t,f.startTime-_),O=!1}}break e}finally{q=null,ne=H,Le=!1}O=void 0}}finally{O?Ve():Ye=!1}}}var Ve;if(typeof qe=="function")Ve=function(){qe(Nt)};else if(typeof MessageChannel<"u"){var _a=new MessageChannel,Ct=_a.port2;_a.port1.onmessage=Nt,Ve=function(){Ct.postMessage(null)}}else Ve=function(){$e(Nt,0)};function xt(_,O){F=$e(function(){_(d.unstable_now())},O)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(_){_.callback=null},d.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Je=0<_?Math.floor(1e3/_):5},d.unstable_getCurrentPriorityLevel=function(){return ne},d.unstable_next=function(_){switch(ne){case 1:case 2:case 3:var O=3;break;default:O=ne}var H=ne;ne=O;try{return _()}finally{ne=H}},d.unstable_requestPaint=function(){Ot=!0},d.unstable_runWithPriority=function(_,O){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var H=ne;ne=_;try{return O()}finally{ne=H}},d.unstable_scheduleCallback=function(_,O,H){var se=d.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?se+H:se):H=se,_){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=H+ue,_={id:L++,callback:O,priorityLevel:_,startTime:H,expirationTime:ue,sortIndex:-1},H>se?(_.sortIndex=H,w(x,_),T(R)===null&&_===T(x)&&(Ee?(Ft(F),F=-1):Ee=!0,xt(_t,H-se))):(_.sortIndex=ue,w(R,_),De||Le||(De=!0,Ye||(Ye=!0,Ve()))),_},d.unstable_shouldYield=Va,d.unstable_wrapCallback=function(_){var O=ne;return function(){var H=ne;ne=O;try{return _.apply(this,arguments)}finally{ne=H}}}})(pr)),pr}var Em;function pp(){return Em||(Em=1,hr.exports=hp()),hr.exports}var gr={exports:{}},Ge={};var km;function gp(){if(km)return Ge;km=1;var d=Sr();function w(R){var x="https://react.dev/errors/"+R;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var L=2;L<arguments.length;L++)x+="&args[]="+encodeURIComponent(arguments[L])}return"Minified React error #"+R+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T(){}var u={d:{f:T,r:function(){throw Error(w(522))},D:T,C:T,L:T,m:T,X:T,S:T,M:T},p:0,findDOMNode:null},v=Symbol.for("react.portal");function E(R,x,L){var q=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:q==null?null:""+q,children:R,containerInfo:x,implementation:L}}var k=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B(R,x){if(R==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,Ge.createPortal=function(R,x){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(w(299));return E(R,x,null,L)},Ge.flushSync=function(R){var x=k.T,L=u.p;try{if(k.T=null,u.p=2,R)return R()}finally{k.T=x,u.p=L,u.d.f()}},Ge.preconnect=function(R,x){typeof R=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,u.d.C(R,x))},Ge.prefetchDNS=function(R){typeof R=="string"&&u.d.D(R)},Ge.preinit=function(R,x){if(typeof R=="string"&&x&&typeof x.as=="string"){var L=x.as,q=B(L,x.crossOrigin),ne=typeof x.integrity=="string"?x.integrity:void 0,Le=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;L==="style"?u.d.S(R,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:q,integrity:ne,fetchPriority:Le}):L==="script"&&u.d.X(R,{crossOrigin:q,integrity:ne,fetchPriority:Le,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ge.preinitModule=function(R,x){if(typeof R=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var L=B(x.as,x.crossOrigin);u.d.M(R,{crossOrigin:L,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&u.d.M(R)},Ge.preload=function(R,x){if(typeof R=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var L=x.as,q=B(L,x.crossOrigin);u.d.L(R,L,{crossOrigin:q,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ge.preloadModule=function(R,x){if(typeof R=="string")if(x){var L=B(x.as,x.crossOrigin);u.d.m(R,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:L,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else u.d.m(R)},Ge.requestFormReset=function(R){u.d.r(R)},Ge.unstable_batchedUpdates=function(R,x){return R(x)},Ge.useFormState=function(R,x,L){return k.H.useFormState(R,x,L)},Ge.useFormStatus=function(){return k.H.useHostTransitionStatus()},Ge.version="19.2.4",Ge}var Om;function yp(){if(Om)return gr.exports;Om=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(w){console.error(w)}}return d(),gr.exports=gp(),gr.exports}var Cm;function bp(){if(Cm)return Ai;Cm=1;var d=pp(),w=Sr(),T=yp();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function k(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R(e){if(E(e)!==e)throw Error(u(188))}function x(e){var t=e.alternate;if(!t){if(t=E(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var l=i.alternate;if(l===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===a)return R(i),e;if(l===n)return R(i),t;l=l.sibling}throw Error(u(188))}if(a.return!==n.return)a=i,n=l;else{for(var o=!1,r=i.child;r;){if(r===a){o=!0,a=i,n=l;break}if(r===n){o=!0,n=i,a=l;break}r=r.sibling}if(!o){for(r=l.child;r;){if(r===a){o=!0,a=l,n=i;break}if(r===n){o=!0,n=l,a=i;break}r=r.sibling}if(!o)throw Error(u(189))}}if(a.alternate!==n)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function L(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=L(e),t!==null)return t;e=e.sibling}return null}var q=Object.assign,ne=Symbol.for("react.element"),Le=Symbol.for("react.transitional.element"),De=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),Ot=Symbol.for("react.strict_mode"),$e=Symbol.for("react.profiler"),Ft=Symbol.for("react.consumer"),qe=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),At=Symbol.for("react.activity"),Va=Symbol.for("react.memo_cache_sentinel"),Nt=Symbol.iterator;function Ve(e){return e===null||typeof e!="object"?null:(e=Nt&&e[Nt]||e["@@iterator"],typeof e=="function"?e:null)}var _a=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_a?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ee:return"Fragment";case $e:return"Profiler";case Ot:return"StrictMode";case _t:return"Suspense";case Ye:return"SuspenseList";case At:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case De:return"Portal";case qe:return e.displayName||"Context";case Ft:return(e._context.displayName||"Context")+".Consumer";case ct:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:Ct(e.type)||"Memo";case Je:t=e._payload,e=e._init;try{return Ct(e(t))}catch{}}return null}var xt=Array.isArray,_=w.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=T.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},se=[],ue=-1;function f(e){return{current:e}}function j(e){0>ue||(e.current=se[ue],se[ue]=null,ue--)}function C(e,t){ue++,se[ue]=e.current,e.current=t}var M=f(null),J=f(null),Q=f(null),ae=f(null);function He(e,t){switch(C(Q,t),C(J,e),C(M,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zd(t),e=Kd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}j(M),C(M,e)}function be(){j(M),j(J),j(Q)}function On(e){e.memoizedState!==null&&C(ae,e);var t=M.current,a=Kd(t,e.type);t!==a&&(C(J,e),C(M,a))}function Ri(e){J.current===e&&(j(M),j(J)),ae.current===e&&(j(ae),xi._currentValue=H)}var Ql,Tr;function Aa(e){if(Ql===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ql=t&&t[1]||"",Tr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+e+Tr}var Zl=!1;function Kl(e,t){if(!e||Zl)return"";Zl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var N=function(){throw Error()};if(Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(b){var y=b}Reflect.construct(e,[],N)}else{try{N.call()}catch(b){y=b}e.call(N.prototype)}}else{try{throw Error()}catch(b){y=b}(N=e())&&typeof N.catch=="function"&&N.catch(function(){})}}catch(b){if(b&&y&&typeof b.stack=="string")return[b.stack,y.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=n.DetermineComponentFrameRoot(),o=l[0],r=l[1];if(o&&r){var c=o.split(`
`),g=r.split(`
`);for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<g.length&&!g[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===g.length)for(n=c.length-1,i=g.length-1;1<=n&&0<=i&&c[n]!==g[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==g[i]){if(n!==1||i!==1)do if(n--,i--,0>i||c[n]!==g[i]){var S=`
`+c[n].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=n&&0<=i);break}}}finally{Zl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Aa(a):""}function Bm(e,t){switch(e.tag){case 26:case 27:case 5:return Aa(e.type);case 16:return Aa("Lazy");case 13:return e.child!==t&&t!==null?Aa("Suspense Fallback"):Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 15:return Kl(e.type,!1);case 11:return Kl(e.type.render,!1);case 1:return Kl(e.type,!0);case 31:return Aa("Activity");default:return""}}function _r(e){try{var t="",a=null;do t+=Bm(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Il=Object.prototype.hasOwnProperty,Wl=d.unstable_scheduleCallback,Fl=d.unstable_cancelCallback,Ym=d.unstable_shouldYield,Jm=d.unstable_requestPaint,Pe=d.unstable_now,Vm=d.unstable_getCurrentPriorityLevel,Ar=d.unstable_ImmediatePriority,Nr=d.unstable_UserBlockingPriority,Ei=d.unstable_NormalPriority,Xm=d.unstable_LowPriority,jr=d.unstable_IdlePriority,Qm=d.log,Zm=d.unstable_setDisableYieldValue,Cn=null,et=null;function $t(e){if(typeof Qm=="function"&&Zm(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Cn,e)}catch{}}var tt=Math.clz32?Math.clz32:Wm,Km=Math.log,Im=Math.LN2;function Wm(e){return e>>>=0,e===0?32:31-(Km(e)/Im|0)|0}var ki=256,Oi=262144,Ci=4194304;function Na(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zi(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,l=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~l,n!==0?i=Na(n):(o&=r,o!==0?i=Na(o):a||(a=r&~e,a!==0&&(i=Na(a))))):(r=n&~l,r!==0?i=Na(r):o!==0?i=Na(o):a||(a=n&~e,a!==0&&(i=Na(a)))),i===0?0:t!==0&&t!==i&&(t&l)===0&&(l=i&-i,a=t&-t,l>=a||l===32&&(a&4194048)!==0)?t:i}function zn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(){var e=Ci;return Ci<<=1,(Ci&62914560)===0&&(Ci=4194304),e}function $l(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Mn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $m(e,t,a,n,i,l){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,c=e.expirationTimes,g=e.hiddenUpdates;for(a=o&~a;0<a;){var S=31-tt(a),N=1<<S;r[S]=0,c[S]=-1;var y=g[S];if(y!==null)for(g[S]=null,S=0;S<y.length;S++){var b=y[S];b!==null&&(b.lane&=-536870913)}a&=~N}n!==0&&Er(e,n,0),l!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=l&~(o&~t))}function Er(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-tt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function kr(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-tt(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function Or(e,t){var a=t&-t;return a=(a&42)!==0?1:Pl(a),(a&(e.suspendedLanes|t))!==0?0:a}function Pl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function es(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Cr(){var e=O.p;return e!==0?e:(e=window.event,e===void 0?32:ym(e.type))}function zr(e,t){var a=O.p;try{return O.p=e,t()}finally{O.p=a}}var Pt=Math.random().toString(36).slice(2),ke="__reactFiber$"+Pt,Xe="__reactProps$"+Pt,Xa="__reactContainer$"+Pt,ts="__reactEvents$"+Pt,Pm="__reactListeners$"+Pt,ef="__reactHandles$"+Pt,Mr="__reactResources$"+Pt,Dn="__reactMarker$"+Pt;function as(e){delete e[ke],delete e[Xe],delete e[ts],delete e[Pm],delete e[ef]}function Qa(e){var t=e[ke];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Xa]||a[ke]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=tm(e);e!==null;){if(a=e[ke])return a;e=tm(e)}return t}e=a,a=e.parentNode}return null}function Za(e){if(e=e[ke]||e[Xa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function qn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Ka(e){var t=e[Mr];return t||(t=e[Mr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function je(e){e[Dn]=!0}var Dr=new Set,qr={};function ja(e,t){Ia(e,t),Ia(e+"Capture",t)}function Ia(e,t){for(qr[e]=t,e=0;e<t.length;e++)Dr.add(t[e])}var tf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gr={},Ur={};function af(e){return Il.call(Ur,e)?!0:Il.call(Gr,e)?!1:tf.test(e)?Ur[e]=!0:(Gr[e]=!0,!1)}function Mi(e,t,a){if(af(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Di(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function zt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nf(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){if(!e._valueTracker){var t=Lr(e)?"checked":"value";e._valueTracker=nf(e,t,""+e[t])}}function Hr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Lr(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lf=/[\n"\\]/g;function dt(e){return e.replace(lf,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function is(e,t,a,n,i,l,o,r){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ls(e,o,ut(t)):a!=null?ls(e,o,ut(a)):n!=null&&e.removeAttribute("value"),i==null&&l!=null&&(e.defaultChecked=!!l),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+ut(r):e.removeAttribute("name")}function Br(e,t,a,n,i,l,o,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||a!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){ns(e);return}a=a!=null?""+ut(a):"",t=t!=null?""+ut(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),ns(e)}function ls(e,t,a){t==="number"&&qi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wa(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+ut(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yr(e,t,a){if(t!=null&&(t=""+ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+ut(a):""}function Jr(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(u(92));if(xt(n)){if(1<n.length)throw Error(u(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=ut(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),ns(e)}function Fa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var sf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vr(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||sf.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Xr(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&Vr(e,i,n)}else for(var l in t)t.hasOwnProperty(l)&&Vr(e,l,t[l])}function ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gi(e){return rf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mt(){}var os=null;function rs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $a=null,Pa=null;function Qr(e){var t=Za(e);if(t&&(e=t.stateNode)){var a=e[Xe]||null;e:switch(e=t.stateNode,t.type){case"input":if(is(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[Xe]||null;if(!i)throw Error(u(90));is(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Hr(n)}break e;case"textarea":Yr(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Wa(e,!!a.multiple,t,!1)}}}var cs=!1;function Zr(e,t,a){if(cs)return e(t,a);cs=!0;try{var n=e(t);return n}finally{if(cs=!1,($a!==null||Pa!==null)&&(_l(),$a&&(t=$a,e=Pa,Pa=$a=null,Qr(t),e)))for(t=0;t<e.length;t++)Qr(e[t])}}function Gn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Xe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(Dt)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){us=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{us=!1}var ea=null,ds=null,Ui=null;function Kr(){if(Ui)return Ui;var e,t=ds,a=t.length,n,i="value"in ea?ea.value:ea.textContent,l=i.length;for(e=0;e<a&&t[e]===i[e];e++);var o=a-e;for(n=1;n<=o&&t[a-n]===i[l-n];n++);return Ui=i.slice(e,1<n?1-n:void 0)}function Li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Ir(){return!1}function Qe(e){function t(a,n,i,l,o){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Hi:Ir,this.isPropagationStopped=Ir,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Qe(Ra),Ln=q({},Ra,{view:0,detail:0}),cf=Qe(Ln),ms,fs,Hn,Yi=q({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(ms=e.screenX-Hn.screenX,fs=e.screenY-Hn.screenY):fs=ms=0,Hn=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:fs}}),Wr=Qe(Yi),uf=q({},Yi,{dataTransfer:0}),df=Qe(uf),mf=q({},Ln,{relatedTarget:0}),hs=Qe(mf),ff=q({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),hf=Qe(ff),pf=q({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gf=Qe(pf),yf=q({},Ra,{data:0}),Fr=Qe(yf),bf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xf[e])?!!t[e]:!1}function ps(){return Sf}var wf=q({},Ln,{key:function(e){if(e.key){var t=bf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tf=Qe(wf),_f=q({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$r=Qe(_f),Af=q({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),Nf=Qe(Af),jf=q({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=Qe(jf),Ef=q({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kf=Qe(Ef),Of=q({},Ra,{newState:0,oldState:0}),Cf=Qe(Of),zf=[9,13,27,32],gs=Dt&&"CompositionEvent"in window,Bn=null;Dt&&"documentMode"in document&&(Bn=document.documentMode);var Mf=Dt&&"TextEvent"in window&&!Bn,Pr=Dt&&(!gs||Bn&&8<Bn&&11>=Bn),ec=" ",tc=!1;function ac(e,t){switch(e){case"keyup":return zf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var en=!1;function Df(e,t){switch(e){case"compositionend":return nc(t);case"keypress":return t.which!==32?null:(tc=!0,ec);case"textInput":return e=t.data,e===ec&&tc?null:e;default:return null}}function qf(e,t){if(en)return e==="compositionend"||!gs&&ac(e,t)?(e=Kr(),Ui=ds=ea=null,en=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pr&&t.locale!=="ko"?null:t.data;default:return null}}var Gf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gf[e.type]:t==="textarea"}function lc(e,t,a,n){$a?Pa?Pa.push(n):Pa=[n]:$a=n,t=Ol(t,"onChange"),0<t.length&&(a=new Bi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Yn=null,Jn=null;function Uf(e){Bd(e,0)}function Ji(e){var t=qn(e);if(Hr(t))return e}function sc(e,t){if(e==="change")return t}var oc=!1;if(Dt){var ys;if(Dt){var bs="oninput"in document;if(!bs){var rc=document.createElement("div");rc.setAttribute("oninput","return;"),bs=typeof rc.oninput=="function"}ys=bs}else ys=!1;oc=ys&&(!document.documentMode||9<document.documentMode)}function cc(){Yn&&(Yn.detachEvent("onpropertychange",uc),Jn=Yn=null)}function uc(e){if(e.propertyName==="value"&&Ji(Jn)){var t=[];lc(t,Jn,e,rs(e)),Zr(Uf,t)}}function Lf(e,t,a){e==="focusin"?(cc(),Yn=t,Jn=a,Yn.attachEvent("onpropertychange",uc)):e==="focusout"&&cc()}function Hf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ji(Jn)}function Bf(e,t){if(e==="click")return Ji(t)}function Yf(e,t){if(e==="input"||e==="change")return Ji(t)}function Jf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Jf;function Vn(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!Il.call(t,i)||!at(e[i],t[i]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mc(e,t){var a=dc(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dc(a)}}function fc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=qi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=qi(e.document)}return t}function vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Vf=Dt&&"documentMode"in document&&11>=document.documentMode,tn=null,xs=null,Xn=null,Ss=!1;function pc(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ss||tn==null||tn!==qi(n)||(n=tn,"selectionStart"in n&&vs(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xn&&Vn(Xn,n)||(Xn=n,n=Ol(xs,"onSelect"),0<n.length&&(t=new Bi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=tn)))}function Ea(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var an={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},ws={},gc={};Dt&&(gc=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function ka(e){if(ws[e])return ws[e];if(!an[e])return e;var t=an[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in gc)return ws[e]=t[a];return e}var yc=ka("animationend"),bc=ka("animationiteration"),vc=ka("animationstart"),Xf=ka("transitionrun"),Qf=ka("transitionstart"),Zf=ka("transitioncancel"),xc=ka("transitionend"),Sc=new Map,Ts="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ts.push("scrollEnd");function St(e,t){Sc.set(e,t),ja(t,[e])}var Vi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mt=[],nn=0,_s=0;function Xi(){for(var e=nn,t=_s=nn=0;t<e;){var a=mt[t];mt[t++]=null;var n=mt[t];mt[t++]=null;var i=mt[t];mt[t++]=null;var l=mt[t];if(mt[t++]=null,n!==null&&i!==null){var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}l!==0&&wc(a,i,l)}}function Qi(e,t,a,n){mt[nn++]=e,mt[nn++]=t,mt[nn++]=a,mt[nn++]=n,_s|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function As(e,t,a,n){return Qi(e,t,a,n),Zi(e)}function Oa(e,t){return Qi(e,null,null,t),Zi(e)}function wc(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,l=e.return;l!==null;)l.childLanes|=a,n=l.alternate,n!==null&&(n.childLanes|=a),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(i=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,i&&t!==null&&(i=31-tt(a),e=l.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),l):null}function Zi(e){if(50<fi)throw fi=0,Do=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ln={};function Kf(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,a,n){return new Kf(e,t,a,n)}function Ns(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qt(e,t){var a=e.alternate;return a===null?(a=nt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Tc(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ki(e,t,a,n,i,l){var o=0;if(n=e,typeof e=="function")Ns(e)&&(o=1);else if(typeof e=="string")o=Ph(e,a,M.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case At:return e=nt(31,a,t,i),e.elementType=At,e.lanes=l,e;case Ee:return Ca(a.children,i,l,t);case Ot:o=8,i|=24;break;case $e:return e=nt(12,a,t,i|2),e.elementType=$e,e.lanes=l,e;case _t:return e=nt(13,a,t,i),e.elementType=_t,e.lanes=l,e;case Ye:return e=nt(19,a,t,i),e.elementType=Ye,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qe:o=10;break e;case Ft:o=9;break e;case ct:o=11;break e;case F:o=14;break e;case Je:o=16,n=null;break e}o=29,a=Error(u(130,e===null?"null":typeof e,"")),n=null}return t=nt(o,a,t,i),t.elementType=e,t.type=n,t.lanes=l,t}function Ca(e,t,a,n){return e=nt(7,e,n,t),e.lanes=a,e}function js(e,t,a){return e=nt(6,e,null,t),e.lanes=a,e}function _c(e){var t=nt(18,null,null,0);return t.stateNode=e,t}function Rs(e,t,a){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ac=new WeakMap;function ft(e,t){if(typeof e=="object"&&e!==null){var a=Ac.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_r(t)},Ac.set(e,t),t)}return{value:e,source:t,stack:_r(t)}}var sn=[],on=0,Ii=null,Qn=0,ht=[],pt=0,ta=null,jt=1,Rt="";function Gt(e,t){sn[on++]=Qn,sn[on++]=Ii,Ii=e,Qn=t}function Nc(e,t,a){ht[pt++]=jt,ht[pt++]=Rt,ht[pt++]=ta,ta=e;var n=jt;e=Rt;var i=32-tt(n)-1;n&=~(1<<i),a+=1;var l=32-tt(t)+i;if(30<l){var o=i-i%5;l=(n&(1<<o)-1).toString(32),n>>=o,i-=o,jt=1<<32-tt(t)+i|a<<i|n,Rt=l+e}else jt=1<<l|a<<i|n,Rt=e}function Es(e){e.return!==null&&(Gt(e,1),Nc(e,1,0))}function ks(e){for(;e===Ii;)Ii=sn[--on],sn[on]=null,Qn=sn[--on],sn[on]=null;for(;e===ta;)ta=ht[--pt],ht[pt]=null,Rt=ht[--pt],ht[pt]=null,jt=ht[--pt],ht[pt]=null}function jc(e,t){ht[pt++]=jt,ht[pt++]=Rt,ht[pt++]=ta,jt=t.id,Rt=t.overflow,ta=e}var Oe=null,fe=null,$=!1,aa=null,gt=!1,Os=Error(u(519));function na(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zn(ft(t,e)),Os}function Rc(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[ke]=e,t[Xe]=n,a){case"dialog":K("cancel",t),K("close",t);break;case"iframe":case"object":case"embed":K("load",t);break;case"video":case"audio":for(a=0;a<pi.length;a++)K(pi[a],t);break;case"source":K("error",t);break;case"img":case"image":case"link":K("error",t),K("load",t);break;case"details":K("toggle",t);break;case"input":K("invalid",t),Br(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":K("invalid",t);break;case"textarea":K("invalid",t),Jr(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Xd(t.textContent,a)?(n.popover!=null&&(K("beforetoggle",t),K("toggle",t)),n.onScroll!=null&&K("scroll",t),n.onScrollEnd!=null&&K("scrollend",t),n.onClick!=null&&(t.onclick=Mt),t=!0):t=!1,t||na(e,!0)}function Ec(e){for(Oe=e.return;Oe;)switch(Oe.tag){case 5:case 31:case 13:gt=!1;return;case 27:case 3:gt=!0;return;default:Oe=Oe.return}}function rn(e){if(e!==Oe)return!1;if(!$)return Ec(e),$=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Wo(e.type,e.memoizedProps)),a=!a),a&&fe&&na(e),Ec(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));fe=em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));fe=em(e)}else t===27?(t=fe,ya(e.type)?(e=tr,tr=null,fe=e):fe=t):fe=Oe?bt(e.stateNode.nextSibling):null;return!0}function za(){fe=Oe=null,$=!1}function Cs(){var e=aa;return e!==null&&(We===null?We=e:We.push.apply(We,e),aa=null),e}function Zn(e){aa===null?aa=[e]:aa.push(e)}var zs=f(null),Ma=null,Ut=null;function ia(e,t,a){C(zs,t._currentValue),t._currentValue=a}function Lt(e){e._currentValue=zs.current,j(zs)}function Ms(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Ds(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){var o=i.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=i;for(var c=0;c<t.length;c++)if(r.context===t[c]){l.lanes|=a,r=l.alternate,r!==null&&(r.lanes|=a),Ms(l.return,a,e),n||(o=null);break e}l=r.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(u(341));o.lanes|=a,l=o.alternate,l!==null&&(l.lanes|=a),Ms(o,a,e),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function cn(e,t,a,n){e=null;for(var i=t,l=!1;i!==null;){if(!l){if((i.flags&524288)!==0)l=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(u(387));if(o=o.memoizedProps,o!==null){var r=i.type;at(i.pendingProps.value,o.value)||(e!==null?e.push(r):e=[r])}}else if(i===ae.current){if(o=i.alternate,o===null)throw Error(u(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(xi):e=[xi])}i=i.return}e!==null&&Ds(t,e,a,n),t.flags|=262144}function Wi(e){for(e=e.firstContext;e!==null;){if(!at(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){Ma=e,Ut=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ce(e){return kc(Ma,e)}function Fi(e,t){return Ma===null&&Da(e),kc(e,t)}function kc(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ut===null){if(e===null)throw Error(u(308));Ut=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ut=Ut.next=t;return a}var If=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Wf=d.unstable_scheduleCallback,Ff=d.unstable_NormalPriority,Se={$$typeof:qe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qs(){return{controller:new If,data:new Map,refCount:0}}function Kn(e){e.refCount--,e.refCount===0&&Wf(Ff,function(){e.controller.abort()})}var In=null,Gs=0,un=0,dn=null;function $f(e,t){if(In===null){var a=In=[];Gs=0,un=Bo(),dn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Gs++,t.then(Oc,Oc),t}function Oc(){if(--Gs===0&&In!==null){dn!==null&&(dn.status="fulfilled");var e=In;In=null,un=0,dn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Pf(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var Cc=_.S;_.S=function(e,t){pd=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$f(e,t),Cc!==null&&Cc(e,t)};var qa=f(null);function Us(){var e=qa.current;return e!==null?e:de.pooledCache}function $i(e,t){t===null?C(qa,qa.current):C(qa,t.pool)}function zc(){var e=Us();return e===null?null:{parent:Se._currentValue,pool:e}}var mn=Error(u(460)),Ls=Error(u(474)),Pi=Error(u(542)),el={then:function(){}};function Mc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dc(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Mt,Mt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gc(e),e;default:if(typeof t.status=="string")t.then(Mt,Mt);else{if(e=de,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gc(e),e}throw Ua=t,mn}}function Ga(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ua=a,mn):a}}var Ua=null;function qc(){if(Ua===null)throw Error(u(459));var e=Ua;return Ua=null,e}function Gc(e){if(e===mn||e===Pi)throw Error(u(483))}var fn=null,Wn=0;function tl(e){var t=Wn;return Wn+=1,fn===null&&(fn=[]),Dc(fn,e,t)}function Fn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function al(e,t){throw t.$$typeof===ne?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Uc(e){function t(h,m){if(e){var p=h.deletions;p===null?(h.deletions=[m],h.flags|=16):p.push(m)}}function a(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function n(h){for(var m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(h,m){return h=qt(h,m),h.index=0,h.sibling=null,h}function l(h,m,p){return h.index=p,e?(p=h.alternate,p!==null?(p=p.index,p<m?(h.flags|=67108866,m):p):(h.flags|=67108866,m)):(h.flags|=1048576,m)}function o(h){return e&&h.alternate===null&&(h.flags|=67108866),h}function r(h,m,p,A){return m===null||m.tag!==6?(m=js(p,h.mode,A),m.return=h,m):(m=i(m,p),m.return=h,m)}function c(h,m,p,A){var G=p.type;return G===Ee?S(h,m,p.props.children,A,p.key):m!==null&&(m.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Je&&Ga(G)===m.type)?(m=i(m,p.props),Fn(m,p),m.return=h,m):(m=Ki(p.type,p.key,p.props,null,h.mode,A),Fn(m,p),m.return=h,m)}function g(h,m,p,A){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Rs(p,h.mode,A),m.return=h,m):(m=i(m,p.children||[]),m.return=h,m)}function S(h,m,p,A,G){return m===null||m.tag!==7?(m=Ca(p,h.mode,A,G),m.return=h,m):(m=i(m,p),m.return=h,m)}function N(h,m,p){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=js(""+m,h.mode,p),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Le:return p=Ki(m.type,m.key,m.props,null,h.mode,p),Fn(p,m),p.return=h,p;case De:return m=Rs(m,h.mode,p),m.return=h,m;case Je:return m=Ga(m),N(h,m,p)}if(xt(m)||Ve(m))return m=Ca(m,h.mode,p,null),m.return=h,m;if(typeof m.then=="function")return N(h,tl(m),p);if(m.$$typeof===qe)return N(h,Fi(h,m),p);al(h,m)}return null}function y(h,m,p,A){var G=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return G!==null?null:r(h,m,""+p,A);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Le:return p.key===G?c(h,m,p,A):null;case De:return p.key===G?g(h,m,p,A):null;case Je:return p=Ga(p),y(h,m,p,A)}if(xt(p)||Ve(p))return G!==null?null:S(h,m,p,A,null);if(typeof p.then=="function")return y(h,m,tl(p),A);if(p.$$typeof===qe)return y(h,m,Fi(h,p),A);al(h,p)}return null}function b(h,m,p,A,G){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return h=h.get(p)||null,r(m,h,""+A,G);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Le:return h=h.get(A.key===null?p:A.key)||null,c(m,h,A,G);case De:return h=h.get(A.key===null?p:A.key)||null,g(m,h,A,G);case Je:return A=Ga(A),b(h,m,p,A,G)}if(xt(A)||Ve(A))return h=h.get(p)||null,S(m,h,A,G,null);if(typeof A.then=="function")return b(h,m,p,tl(A),G);if(A.$$typeof===qe)return b(h,m,p,Fi(m,A),G);al(m,A)}return null}function z(h,m,p,A){for(var G=null,P=null,D=m,X=m=0,W=null;D!==null&&X<p.length;X++){D.index>X?(W=D,D=null):W=D.sibling;var ee=y(h,D,p[X],A);if(ee===null){D===null&&(D=W);break}e&&D&&ee.alternate===null&&t(h,D),m=l(ee,m,X),P===null?G=ee:P.sibling=ee,P=ee,D=W}if(X===p.length)return a(h,D),$&&Gt(h,X),G;if(D===null){for(;X<p.length;X++)D=N(h,p[X],A),D!==null&&(m=l(D,m,X),P===null?G=D:P.sibling=D,P=D);return $&&Gt(h,X),G}for(D=n(D);X<p.length;X++)W=b(D,h,X,p[X],A),W!==null&&(e&&W.alternate!==null&&D.delete(W.key===null?X:W.key),m=l(W,m,X),P===null?G=W:P.sibling=W,P=W);return e&&D.forEach(function(wa){return t(h,wa)}),$&&Gt(h,X),G}function U(h,m,p,A){if(p==null)throw Error(u(151));for(var G=null,P=null,D=m,X=m=0,W=null,ee=p.next();D!==null&&!ee.done;X++,ee=p.next()){D.index>X?(W=D,D=null):W=D.sibling;var wa=y(h,D,ee.value,A);if(wa===null){D===null&&(D=W);break}e&&D&&wa.alternate===null&&t(h,D),m=l(wa,m,X),P===null?G=wa:P.sibling=wa,P=wa,D=W}if(ee.done)return a(h,D),$&&Gt(h,X),G;if(D===null){for(;!ee.done;X++,ee=p.next())ee=N(h,ee.value,A),ee!==null&&(m=l(ee,m,X),P===null?G=ee:P.sibling=ee,P=ee);return $&&Gt(h,X),G}for(D=n(D);!ee.done;X++,ee=p.next())ee=b(D,h,X,ee.value,A),ee!==null&&(e&&ee.alternate!==null&&D.delete(ee.key===null?X:ee.key),m=l(ee,m,X),P===null?G=ee:P.sibling=ee,P=ee);return e&&D.forEach(function(up){return t(h,up)}),$&&Gt(h,X),G}function ce(h,m,p,A){if(typeof p=="object"&&p!==null&&p.type===Ee&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Le:e:{for(var G=p.key;m!==null;){if(m.key===G){if(G=p.type,G===Ee){if(m.tag===7){a(h,m.sibling),A=i(m,p.props.children),A.return=h,h=A;break e}}else if(m.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Je&&Ga(G)===m.type){a(h,m.sibling),A=i(m,p.props),Fn(A,p),A.return=h,h=A;break e}a(h,m);break}else t(h,m);m=m.sibling}p.type===Ee?(A=Ca(p.props.children,h.mode,A,p.key),A.return=h,h=A):(A=Ki(p.type,p.key,p.props,null,h.mode,A),Fn(A,p),A.return=h,h=A)}return o(h);case De:e:{for(G=p.key;m!==null;){if(m.key===G)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){a(h,m.sibling),A=i(m,p.children||[]),A.return=h,h=A;break e}else{a(h,m);break}else t(h,m);m=m.sibling}A=Rs(p,h.mode,A),A.return=h,h=A}return o(h);case Je:return p=Ga(p),ce(h,m,p,A)}if(xt(p))return z(h,m,p,A);if(Ve(p)){if(G=Ve(p),typeof G!="function")throw Error(u(150));return p=G.call(p),U(h,m,p,A)}if(typeof p.then=="function")return ce(h,m,tl(p),A);if(p.$$typeof===qe)return ce(h,m,Fi(h,p),A);al(h,p)}return typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint"?(p=""+p,m!==null&&m.tag===6?(a(h,m.sibling),A=i(m,p),A.return=h,h=A):(a(h,m),A=js(p,h.mode,A),A.return=h,h=A),o(h)):a(h,m)}return function(h,m,p,A){try{Wn=0;var G=ce(h,m,p,A);return fn=null,G}catch(D){if(D===mn||D===Pi)throw D;var P=nt(29,D,null,h.mode);return P.lanes=A,P.return=h,P}}}var La=Uc(!0),Lc=Uc(!1),la=!1;function Hs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(te&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Zi(e),wc(e,null,a),t}return Qi(e,n,t,a),Zi(e)}function $n(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,kr(e,a)}}function Ys(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?i=l=o:l=l.next=o,a=a.next}while(a!==null);l===null?i=l=t:l=l.next=t}else i=l=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Js=!1;function Pn(){if(Js){var e=dn;if(e!==null)throw e}}function ei(e,t,a,n){Js=!1;var i=e.updateQueue;la=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,r=i.shared.pending;if(r!==null){i.shared.pending=null;var c=r,g=c.next;c.next=null,o===null?l=g:o.next=g,o=c;var S=e.alternate;S!==null&&(S=S.updateQueue,r=S.lastBaseUpdate,r!==o&&(r===null?S.firstBaseUpdate=g:r.next=g,S.lastBaseUpdate=c))}if(l!==null){var N=i.baseState;o=0,S=g=c=null,r=l;do{var y=r.lane&-536870913,b=y!==r.lane;if(b?(I&y)===y:(n&y)===y){y!==0&&y===un&&(Js=!0),S!==null&&(S=S.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var z=e,U=r;y=t;var ce=a;switch(U.tag){case 1:if(z=U.payload,typeof z=="function"){N=z.call(ce,N,y);break e}N=z;break e;case 3:z.flags=z.flags&-65537|128;case 0:if(z=U.payload,y=typeof z=="function"?z.call(ce,N,y):z,y==null)break e;N=q({},N,y);break e;case 2:la=!0}}y=r.callback,y!==null&&(e.flags|=64,b&&(e.flags|=8192),b=i.callbacks,b===null?i.callbacks=[y]:b.push(y))}else b={lane:y,tag:r.tag,payload:r.payload,callback:r.callback,next:null},S===null?(g=S=b,c=N):S=S.next=b,o|=y;if(r=r.next,r===null){if(r=i.shared.pending,r===null)break;b=r,r=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);S===null&&(c=N),i.baseState=c,i.firstBaseUpdate=g,i.lastBaseUpdate=S,l===null&&(i.shared.lanes=0),ma|=o,e.lanes=o,e.memoizedState=N}}function Hc(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Bc(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hc(a[e],t)}var hn=f(null),nl=f(0);function Yc(e,t){e=Kt,C(nl,e),C(hn,t),Kt=e|t.baseLanes}function Vs(){C(nl,Kt),C(hn,hn.current)}function Xs(){Kt=nl.current,j(hn),j(nl)}var it=f(null),yt=null;function ra(e){var t=e.alternate;C(ve,ve.current&1),C(it,e),yt===null&&(t===null||hn.current!==null||t.memoizedState!==null)&&(yt=e)}function Qs(e){C(ve,ve.current),C(it,e),yt===null&&(yt=e)}function Jc(e){e.tag===22?(C(ve,ve.current),C(it,e),yt===null&&(yt=e)):ca()}function ca(){C(ve,ve.current),C(it,it.current)}function lt(e){j(it),yt===e&&(yt=null),j(ve)}var ve=f(0);function il(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Po(a)||er(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ht=0,V=null,oe=null,we=null,ll=!1,pn=!1,Ha=!1,sl=0,ti=0,gn=null,eh=0;function ge(){throw Error(u(321))}function Zs(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!at(e[a],t[a]))return!1;return!0}function Ks(e,t,a,n,i,l){return Ht=l,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?Nu:co,Ha=!1,l=a(n,i),Ha=!1,pn&&(l=Xc(t,a,n,i)),Vc(e),l}function Vc(e){_.H=ii;var t=oe!==null&&oe.next!==null;if(Ht=0,we=oe=V=null,ll=!1,ti=0,gn=null,t)throw Error(u(300));e===null||Te||(e=e.dependencies,e!==null&&Wi(e)&&(Te=!0))}function Xc(e,t,a,n){V=e;var i=0;do{if(pn&&(gn=null),ti=0,pn=!1,25<=i)throw Error(u(301));if(i+=1,we=oe=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}_.H=ju,l=t(a,n)}while(pn);return l}function th(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?ai(t):t,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(V.flags|=1024),t}function Is(){var e=sl!==0;return sl=0,e}function Ws(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Fs(e){if(ll){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ll=!1}Ht=0,we=oe=V=null,pn=!1,ti=sl=0,gn=null}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?V.memoizedState=we=e:we=we.next=e,we}function xe(){if(oe===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=we===null?V.memoizedState:we.next;if(t!==null)we=t,oe=e;else{if(e===null)throw V.alternate===null?Error(u(467)):Error(u(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},we===null?V.memoizedState=we=e:we=we.next=e}return we}function ol(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ai(e){var t=ti;return ti+=1,gn===null&&(gn=[]),e=Dc(gn,e,t),t=V,(we===null?t.memoizedState:we.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?Nu:co),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ai(e);if(e.$$typeof===qe)return Ce(e)}throw Error(u(438,String(e)))}function $s(e){var t=null,a=V.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=V.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ol(),V.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=Va;return t.index++,a}function Bt(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=xe();return Ps(t,oe,e)}function Ps(e,t,a){var n=e.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=a;var i=e.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}t.baseQueue=i=l,n.pending=null}if(l=e.baseState,i===null)e.memoizedState=l;else{t=i.next;var r=o=null,c=null,g=t,S=!1;do{var N=g.lane&-536870913;if(N!==g.lane?(I&N)===N:(Ht&N)===N){var y=g.revertLane;if(y===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),N===un&&(S=!0);else if((Ht&y)===y){g=g.next,y===un&&(S=!0);continue}else N={lane:0,revertLane:g.revertLane,gesture:null,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null},c===null?(r=c=N,o=l):c=c.next=N,V.lanes|=y,ma|=y;N=g.action,Ha&&a(l,N),l=g.hasEagerState?g.eagerState:a(l,N)}else y={lane:N,revertLane:g.revertLane,gesture:g.gesture,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null},c===null?(r=c=y,o=l):c=c.next=y,V.lanes|=N,ma|=N;g=g.next}while(g!==null&&g!==t);if(c===null?o=l:c.next=r,!at(l,e.memoizedState)&&(Te=!0,S&&(a=dn,a!==null)))throw a;e.memoizedState=l,e.baseState=o,e.baseQueue=c,n.lastRenderedState=l}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function eo(e){var t=xe(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,l=t.memoizedState;if(i!==null){a.pending=null;var o=i=i.next;do l=e(l,o.action),o=o.next;while(o!==i);at(l,t.memoizedState)||(Te=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function Qc(e,t,a){var n=V,i=xe(),l=$;if(l){if(a===void 0)throw Error(u(407));a=a()}else a=t();var o=!at((oe||i).memoizedState,a);if(o&&(i.memoizedState=a,Te=!0),i=i.queue,no(Ic.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,yn(9,{destroy:void 0},Kc.bind(null,n,i,a,t),null),de===null)throw Error(u(349));l||(Ht&127)!==0||Zc(n,t,a)}return a}function Zc(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=V.updateQueue,t===null?(t=ol(),V.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Kc(e,t,a,n){t.value=a,t.getSnapshot=n,Wc(t)&&Fc(e)}function Ic(e,t,a){return a(function(){Wc(t)&&Fc(e)})}function Wc(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!at(e,a)}catch{return!0}}function Fc(e){var t=Oa(e,2);t!==null&&Fe(t,e,2)}function to(e){var t=Be();if(typeof e=="function"){var a=e;if(e=a(),Ha){$t(!0);try{a()}finally{$t(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:e},t}function $c(e,t,a,n){return e.baseState=a,Ps(e,oe,typeof n=="function"?n:Bt)}function ah(e,t,a,n,i){if(ml(e))throw Error(u(485));if(e=t.action,e!==null){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){l.listeners.push(o)}};_.T!==null?a(!0):l.isTransition=!1,n(l),a=t.pending,a===null?(l.next=t.pending=l,Pc(t,l)):(l.next=a.next,t.pending=a.next=l)}}function Pc(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var l=_.T,o={};_.T=o;try{var r=a(i,n),c=_.S;c!==null&&c(o,r),eu(e,t,r)}catch(g){ao(e,t,g)}finally{l!==null&&o.types!==null&&(l.types=o.types),_.T=l}}else try{l=a(i,n),eu(e,t,l)}catch(g){ao(e,t,g)}}function eu(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){tu(e,t,n)},function(n){return ao(e,t,n)}):tu(e,t,a)}function tu(e,t,a){t.status="fulfilled",t.value=a,au(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Pc(e,a)))}function ao(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,au(t),t=t.next;while(t!==n)}e.action=null}function au(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function nu(e,t){return t}function iu(e,t){if($){var a=de.formState;if(a!==null){e:{var n=V;if($){if(fe){t:{for(var i=fe,l=gt;i.nodeType!==8;){if(!l){i=null;break t}if(i=bt(i.nextSibling),i===null){i=null;break t}}l=i.data,i=l==="F!"||l==="F"?i:null}if(i){fe=bt(i.nextSibling),n=i.data==="F!";break e}}na(n)}n=!1}n&&(t=a[0])}}return a=Be(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:t},a.queue=n,a=Tu.bind(null,V,n),n.dispatch=a,n=to(!1),l=ro.bind(null,V,!1,n.queue),n=Be(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=ah.bind(null,V,i,l,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function lu(e){var t=xe();return su(t,oe,e)}function su(e,t,a){if(t=Ps(e,t,nu)[0],e=cl(Bt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ai(t)}catch(o){throw o===mn?Pi:o}else n=t;t=xe();var i=t.queue,l=i.dispatch;return a!==t.memoizedState&&(V.flags|=2048,yn(9,{destroy:void 0},nh.bind(null,i,a),null)),[n,l,e]}function nh(e,t){e.action=t}function ou(e){var t=xe(),a=oe;if(a!==null)return su(t,a,e);xe(),t=t.memoizedState,a=xe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function yn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=V.updateQueue,t===null&&(t=ol(),V.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function ru(){return xe().memoizedState}function ul(e,t,a,n){var i=Be();V.flags|=e,i.memoizedState=yn(1|t,{destroy:void 0},a,n===void 0?null:n)}function dl(e,t,a,n){var i=xe();n=n===void 0?null:n;var l=i.memoizedState.inst;oe!==null&&n!==null&&Zs(n,oe.memoizedState.deps)?i.memoizedState=yn(t,l,a,n):(V.flags|=e,i.memoizedState=yn(1|t,l,a,n))}function cu(e,t){ul(8390656,8,e,t)}function no(e,t){dl(2048,8,e,t)}function ih(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=ol(),V.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function uu(e){var t=xe().memoizedState;return ih({ref:t,nextImpl:e}),function(){if((te&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function du(e,t){return dl(4,2,e,t)}function mu(e,t){return dl(4,4,e,t)}function fu(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hu(e,t,a){a=a!=null?a.concat([e]):null,dl(4,4,fu.bind(null,t,e),a)}function io(){}function pu(e,t){var a=xe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Zs(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function gu(e,t){var a=xe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Zs(t,n[1]))return n[0];if(n=e(),Ha){$t(!0);try{e()}finally{$t(!1)}}return a.memoizedState=[n,t],n}function lo(e,t,a){return a===void 0||(Ht&1073741824)!==0&&(I&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=yd(),V.lanes|=e,ma|=e,a)}function yu(e,t,a,n){return at(a,t)?a:hn.current!==null?(e=lo(e,a,n),at(e,t)||(Te=!0),e):(Ht&42)===0||(Ht&1073741824)!==0&&(I&261930)===0?(Te=!0,e.memoizedState=a):(e=yd(),V.lanes|=e,ma|=e,t)}function bu(e,t,a,n,i){var l=O.p;O.p=l!==0&&8>l?l:8;var o=_.T,r={};_.T=r,ro(e,!1,t,a);try{var c=i(),g=_.S;if(g!==null&&g(r,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var S=Pf(c,n);ni(e,t,S,rt(e))}else ni(e,t,n,rt(e))}catch(N){ni(e,t,{then:function(){},status:"rejected",reason:N},rt())}finally{O.p=l,o!==null&&r.types!==null&&(o.types=r.types),_.T=o}}function lh(){}function so(e,t,a,n){if(e.tag!==5)throw Error(u(476));var i=vu(e).queue;bu(e,i,t,H,a===null?lh:function(){return xu(e),a(n)})}function vu(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:H},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xu(e){var t=vu(e);t.next===null&&(t=e.alternate.memoizedState),ni(e,t.next.queue,{},rt())}function oo(){return Ce(xi)}function Su(){return xe().memoizedState}function wu(){return xe().memoizedState}function sh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=rt();e=sa(a);var n=oa(t,e,a);n!==null&&(Fe(n,t,a),$n(n,t,a)),t={cache:qs()},e.payload=t;return}t=t.return}}function oh(e,t,a){var n=rt();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ml(e)?_u(t,a):(a=As(e,t,a,n),a!==null&&(Fe(a,e,n),Au(a,t,n)))}function Tu(e,t,a){var n=rt();ni(e,t,a,n)}function ni(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ml(e))_u(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,r=l(o,a);if(i.hasEagerState=!0,i.eagerState=r,at(r,o))return Qi(e,t,i,0),de===null&&Xi(),!1}catch{}if(a=As(e,t,i,n),a!==null)return Fe(a,e,n),Au(a,t,n),!0}return!1}function ro(e,t,a,n){if(n={lane:2,revertLane:Bo(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ml(e)){if(t)throw Error(u(479))}else t=As(e,a,n,2),t!==null&&Fe(t,e,2)}function ml(e){var t=e.alternate;return e===V||t!==null&&t===V}function _u(e,t){pn=ll=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Au(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,kr(e,a)}}var ii={readContext:Ce,use:rl,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};ii.useEffectEvent=ge;var Nu={readContext:Ce,use:rl,useCallback:function(e,t){return Be().memoizedState=[e,t===void 0?null:t],e},useContext:Ce,useEffect:cu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ul(4194308,4,fu.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var a=Be();t=t===void 0?null:t;var n=e();if(Ha){$t(!0);try{e()}finally{$t(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Be();if(a!==void 0){var i=a(t);if(Ha){$t(!0);try{a(t)}finally{$t(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=oh.bind(null,V,e),[n.memoizedState,e]},useRef:function(e){var t=Be();return e={current:e},t.memoizedState=e},useState:function(e){e=to(e);var t=e.queue,a=Tu.bind(null,V,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:io,useDeferredValue:function(e,t){var a=Be();return lo(a,e,t)},useTransition:function(){var e=to(!1);return e=bu.bind(null,V,e.queue,!0,!1),Be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=V,i=Be();if($){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),de===null)throw Error(u(349));(I&127)!==0||Zc(n,t,a)}i.memoizedState=a;var l={value:a,getSnapshot:t};return i.queue=l,cu(Ic.bind(null,n,l,e),[e]),n.flags|=2048,yn(9,{destroy:void 0},Kc.bind(null,n,l,a,t),null),a},useId:function(){var e=Be(),t=de.identifierPrefix;if($){var a=Rt,n=jt;a=(n&~(1<<32-tt(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=sl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=eh++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:oo,useFormState:iu,useActionState:iu,useOptimistic:function(e){var t=Be();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ro.bind(null,V,!0,a),a.dispatch=t,[e,t]},useMemoCache:$s,useCacheRefresh:function(){return Be().memoizedState=sh.bind(null,V)},useEffectEvent:function(e){var t=Be(),a={impl:e};return t.memoizedState=a,function(){if((te&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},co={readContext:Ce,use:rl,useCallback:pu,useContext:Ce,useEffect:no,useImperativeHandle:hu,useInsertionEffect:du,useLayoutEffect:mu,useMemo:gu,useReducer:cl,useRef:ru,useState:function(){return cl(Bt)},useDebugValue:io,useDeferredValue:function(e,t){var a=xe();return yu(a,oe.memoizedState,e,t)},useTransition:function(){var e=cl(Bt)[0],t=xe().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Qc,useId:Su,useHostTransitionStatus:oo,useFormState:lu,useActionState:lu,useOptimistic:function(e,t){var a=xe();return $c(a,oe,e,t)},useMemoCache:$s,useCacheRefresh:wu};co.useEffectEvent=uu;var ju={readContext:Ce,use:rl,useCallback:pu,useContext:Ce,useEffect:no,useImperativeHandle:hu,useInsertionEffect:du,useLayoutEffect:mu,useMemo:gu,useReducer:eo,useRef:ru,useState:function(){return eo(Bt)},useDebugValue:io,useDeferredValue:function(e,t){var a=xe();return oe===null?lo(a,e,t):yu(a,oe.memoizedState,e,t)},useTransition:function(){var e=eo(Bt)[0],t=xe().memoizedState;return[typeof e=="boolean"?e:ai(e),t]},useSyncExternalStore:Qc,useId:Su,useHostTransitionStatus:oo,useFormState:ou,useActionState:ou,useOptimistic:function(e,t){var a=xe();return oe!==null?$c(a,oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:$s,useCacheRefresh:wu};ju.useEffectEvent=uu;function uo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:q({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var mo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=rt(),i=sa(n);i.payload=t,a!=null&&(i.callback=a),t=oa(e,i,n),t!==null&&(Fe(t,e,n),$n(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=rt(),i=sa(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=oa(e,i,n),t!==null&&(Fe(t,e,n),$n(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=rt(),n=sa(a);n.tag=2,t!=null&&(n.callback=t),t=oa(e,n,a),t!==null&&(Fe(t,e,a),$n(t,e,a))}};function Ru(e,t,a,n,i,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,o):t.prototype&&t.prototype.isPureReactComponent?!Vn(a,n)||!Vn(i,l):!0}function Eu(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=q({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function ku(e){Vi(e)}function Ou(e){console.error(e)}function Cu(e){Vi(e)}function fl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function zu(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fo(e,t,a){return a=sa(a),a.tag=3,a.payload={element:null},a.callback=function(){fl(e,t)},a}function Mu(e){return e=sa(e),e.tag=3,e}function Du(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var l=n.value;e.payload=function(){return i(l)},e.callback=function(){zu(t,a,n)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){zu(t,a,n),typeof i!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function rh(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&cn(t,a,i,!0),a=it.current,a!==null){switch(a.tag){case 31:case 13:return yt===null?Al():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===el?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Uo(e,n,i)),!1;case 22:return a.flags|=65536,n===el?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Uo(e,n,i)),!1}throw Error(u(435,a.tag))}return Uo(e,n,i),Al(),!1}if($)return t=it.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Os&&(e=Error(u(422),{cause:n}),Zn(ft(e,a)))):(n!==Os&&(t=Error(u(423),{cause:n}),Zn(ft(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=ft(n,a),i=fo(e.stateNode,n,i),Ys(e,i),ye!==4&&(ye=2)),!1;var l=Error(u(520),{cause:n});if(l=ft(l,a),mi===null?mi=[l]:mi.push(l),ye!==4&&(ye=2),t===null)return!0;n=ft(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=fo(a.stateNode,n,e),Ys(a,e),!1;case 1:if(t=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(fa===null||!fa.has(l))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Mu(i),Du(i,e,a,n),Ys(a,i),!1}a=a.return}while(a!==null);return!1}var ho=Error(u(461)),Te=!1;function ze(e,t,a,n){t.child=e===null?Lc(t,null,a,n):La(t,e.child,a,n)}function qu(e,t,a,n,i){a=a.render;var l=t.ref;if("ref"in n){var o={};for(var r in n)r!=="ref"&&(o[r]=n[r])}else o=n;return Da(t),n=Ks(e,t,a,o,l,i),r=Is(),e!==null&&!Te?(Ws(e,t,i),Yt(e,t,i)):($&&r&&Es(t),t.flags|=1,ze(e,t,n,i),t.child)}function Gu(e,t,a,n,i){if(e===null){var l=a.type;return typeof l=="function"&&!Ns(l)&&l.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=l,Uu(e,t,l,n,i)):(e=Ki(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!wo(e,i)){var o=l.memoizedProps;if(a=a.compare,a=a!==null?a:Vn,a(o,n)&&e.ref===t.ref)return Yt(e,t,i)}return t.flags|=1,e=qt(l,n),e.ref=t.ref,e.return=t,t.child=e}function Uu(e,t,a,n,i){if(e!==null){var l=e.memoizedProps;if(Vn(l,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=l,wo(e,i))(e.flags&131072)!==0&&(Te=!0);else return t.lanes=e.lanes,Yt(e,t,i)}return po(e,t,a,n,i)}function Lu(e,t,a,n){var i=n.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(l=l!==null?l.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~l}else n=0,t.child=null;return Hu(e,t,l,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&$i(t,l!==null?l.cachePool:null),l!==null?Yc(t,l):Vs(),Jc(t);else return n=t.lanes=536870912,Hu(e,t,l!==null?l.baseLanes|a:a,a,n)}else l!==null?($i(t,l.cachePool),Yc(t,l),ca(),t.memoizedState=null):(e!==null&&$i(t,null),Vs(),ca());return ze(e,t,i,a),t.child}function li(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Hu(e,t,a,n,i){var l=Us();return l=l===null?null:{parent:Se._currentValue,pool:l},t.memoizedState={baseLanes:a,cachePool:l},e!==null&&$i(t,null),Vs(),Jc(t),e!==null&&cn(e,t,n,!0),t.childLanes=i,null}function hl(e,t){return t=gl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Bu(e,t,a){return La(t,e.child,null,a),e=hl(t,t.pendingProps),e.flags|=2,lt(t),t.memoizedState=null,e}function ch(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if($){if(n.mode==="hidden")return e=hl(t,n),t.lanes=536870912,li(null,e);if(Qs(t),(e=fe)?(e=Pd(e,gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ta!==null?{id:jt,overflow:Rt}:null,retryLane:536870912,hydrationErrors:null},a=_c(e),a.return=t,t.child=a,Oe=t,fe=null)):e=null,e===null)throw na(t);return t.lanes=536870912,null}return hl(t,n)}var l=e.memoizedState;if(l!==null){var o=l.dehydrated;if(Qs(t),i)if(t.flags&256)t.flags&=-257,t=Bu(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(Te||cn(e,t,a,!1),i=(a&e.childLanes)!==0,Te||i){if(n=de,n!==null&&(o=Or(n,a),o!==0&&o!==l.retryLane))throw l.retryLane=o,Oa(e,o),Fe(n,e,o),ho;Al(),t=Bu(e,t,a)}else e=l.treeContext,fe=bt(o.nextSibling),Oe=t,$=!0,aa=null,gt=!1,e!==null&&jc(t,e),t=hl(t,n),t.flags|=4096;return t}return e=qt(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function pl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function po(e,t,a,n,i){return Da(t),a=Ks(e,t,a,n,void 0,i),n=Is(),e!==null&&!Te?(Ws(e,t,i),Yt(e,t,i)):($&&n&&Es(t),t.flags|=1,ze(e,t,a,i),t.child)}function Yu(e,t,a,n,i,l){return Da(t),t.updateQueue=null,a=Xc(t,n,a,i),Vc(e),n=Is(),e!==null&&!Te?(Ws(e,t,l),Yt(e,t,l)):($&&n&&Es(t),t.flags|=1,ze(e,t,a,l),t.child)}function Ju(e,t,a,n,i){if(Da(t),t.stateNode===null){var l=ln,o=a.contextType;typeof o=="object"&&o!==null&&(l=Ce(o)),l=new a(n,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=mo,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=n,l.state=t.memoizedState,l.refs={},Hs(t),o=a.contextType,l.context=typeof o=="object"&&o!==null?Ce(o):ln,l.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(uo(t,a,o,n),l.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(o=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),o!==l.state&&mo.enqueueReplaceState(l,l.state,null),ei(t,n,l,i),Pn(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){l=t.stateNode;var r=t.memoizedProps,c=Ba(a,r);l.props=c;var g=l.context,S=a.contextType;o=ln,typeof S=="object"&&S!==null&&(o=Ce(S));var N=a.getDerivedStateFromProps;S=typeof N=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,S||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||g!==o)&&Eu(t,l,n,o),la=!1;var y=t.memoizedState;l.state=y,ei(t,n,l,i),Pn(),g=t.memoizedState,r||y!==g||la?(typeof N=="function"&&(uo(t,a,N,n),g=t.memoizedState),(c=la||Ru(t,a,c,n,y,g,o))?(S||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=o,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Bs(e,t),o=t.memoizedProps,S=Ba(a,o),l.props=S,N=t.pendingProps,y=l.context,g=a.contextType,c=ln,typeof g=="object"&&g!==null&&(c=Ce(g)),r=a.getDerivedStateFromProps,(g=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==N||y!==c)&&Eu(t,l,n,c),la=!1,y=t.memoizedState,l.state=y,ei(t,n,l,i),Pn();var b=t.memoizedState;o!==N||y!==b||la||e!==null&&e.dependencies!==null&&Wi(e.dependencies)?(typeof r=="function"&&(uo(t,a,r,n),b=t.memoizedState),(S=la||Ru(t,a,S,n,y,b,c)||e!==null&&e.dependencies!==null&&Wi(e.dependencies))?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,b,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,b,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),l.props=n,l.state=b,l.context=c,n=S):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return l=n,pl(e,t),n=(t.flags&128)!==0,l||n?(l=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&n?(t.child=La(t,e.child,null,i),t.child=La(t,null,a,i)):ze(e,t,a,i),t.memoizedState=l.state,e=t.child):e=Yt(e,t,i),e}function Vu(e,t,a,n){return za(),t.flags|=256,ze(e,t,a,n),t.child}var go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yo(e){return{baseLanes:e,cachePool:zc()}}function bo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ot),e}function Xu(e,t,a){var n=t.pendingProps,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if($){if(i?ra(t):ca(),(e=fe)?(e=Pd(e,gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ta!==null?{id:jt,overflow:Rt}:null,retryLane:536870912,hydrationErrors:null},a=_c(e),a.return=t,t.child=a,Oe=t,fe=null)):e=null,e===null)throw na(t);return er(e)?t.lanes=32:t.lanes=536870912,null}var r=n.children;return n=n.fallback,i?(ca(),i=t.mode,r=gl({mode:"hidden",children:r},i),n=Ca(n,i,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n=t.child,n.memoizedState=yo(a),n.childLanes=bo(e,o,a),t.memoizedState=go,li(null,n)):(ra(t),vo(t,r))}var c=e.memoizedState;if(c!==null&&(r=c.dehydrated,r!==null)){if(l)t.flags&256?(ra(t),t.flags&=-257,t=xo(e,t,a)):t.memoizedState!==null?(ca(),t.child=e.child,t.flags|=128,t=null):(ca(),r=n.fallback,i=t.mode,n=gl({mode:"visible",children:n.children},i),r=Ca(r,i,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,La(t,e.child,null,a),n=t.child,n.memoizedState=yo(a),n.childLanes=bo(e,o,a),t.memoizedState=go,t=li(null,n));else if(ra(t),er(r)){if(o=r.nextSibling&&r.nextSibling.dataset,o)var g=o.dgst;o=g,n=Error(u(419)),n.stack="",n.digest=o,Zn({value:n,source:null,stack:null}),t=xo(e,t,a)}else if(Te||cn(e,t,a,!1),o=(a&e.childLanes)!==0,Te||o){if(o=de,o!==null&&(n=Or(o,a),n!==0&&n!==c.retryLane))throw c.retryLane=n,Oa(e,n),Fe(o,e,n),ho;Po(r)||Al(),t=xo(e,t,a)}else Po(r)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,fe=bt(r.nextSibling),Oe=t,$=!0,aa=null,gt=!1,e!==null&&jc(t,e),t=vo(t,n.children),t.flags|=4096);return t}return i?(ca(),r=n.fallback,i=t.mode,c=e.child,g=c.sibling,n=qt(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,g!==null?r=qt(g,r):(r=Ca(r,i,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,li(null,n),n=t.child,r=e.child.memoizedState,r===null?r=yo(a):(i=r.cachePool,i!==null?(c=Se._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=zc(),r={baseLanes:r.baseLanes|a,cachePool:i}),n.memoizedState=r,n.childLanes=bo(e,o,a),t.memoizedState=go,li(e.child,n)):(ra(t),a=e.child,e=a.sibling,a=qt(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function vo(e,t){return t=gl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function gl(e,t){return e=nt(22,e,null,t),e.lanes=0,e}function xo(e,t,a){return La(t,e.child,null,a),e=vo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qu(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ms(e.return,t,a)}function So(e,t,a,n,i,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=a,o.tailMode=i,o.treeForkCount=l)}function Zu(e,t,a){var n=t.pendingProps,i=n.revealOrder,l=n.tail;n=n.children;var o=ve.current,r=(o&2)!==0;if(r?(o=o&1|2,t.flags|=128):o&=1,C(ve,o),ze(e,t,n,a),n=$?Qn:0,!r&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qu(e,a,t);else if(e.tag===19)Qu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&il(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),So(t,!1,i,a,l,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&il(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}So(t,!0,a,null,l,n);break;case"together":So(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Yt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(cn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=qt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=qt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function wo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Wi(e)))}function uh(e,t,a){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),ia(t,Se,e.memoizedState.cache),za();break;case 27:case 5:On(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qs(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ra(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Xu(e,t,a):(ra(t),e=Yt(e,t,a),e!==null?e.sibling:null);ra(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(cn(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Zu(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),C(ve,ve.current),n)break;return null;case 22:return t.lanes=0,Lu(e,t,a,t.pendingProps);case 24:ia(t,Se,e.memoizedState.cache)}return Yt(e,t,a)}function Ku(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Te=!0;else{if(!wo(e,a)&&(t.flags&128)===0)return Te=!1,uh(e,t,a);Te=(e.flags&131072)!==0}else Te=!1,$&&(t.flags&1048576)!==0&&Nc(t,Qn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ga(t.elementType),t.type=e,typeof e=="function")Ns(e)?(n=Ba(e,n),t.tag=1,t=Ju(null,t,e,n,a)):(t.tag=0,t=po(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===ct){t.tag=11,t=qu(null,t,e,n,a);break e}else if(i===F){t.tag=14,t=Gu(null,t,e,n,a);break e}}throw t=Ct(e)||e,Error(u(306,t,""))}}return t;case 0:return po(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=Ba(n,t.pendingProps),Ju(e,t,n,i,a);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(u(387));n=t.pendingProps;var l=t.memoizedState;i=l.element,Bs(e,t),ei(t,n,null,a);var o=t.memoizedState;if(n=o.cache,ia(t,Se,n),n!==l.cache&&Ds(t,[Se],a,!0),Pn(),n=o.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=Vu(e,t,n,a);break e}else if(n!==i){i=ft(Error(u(424)),t),Zn(i),t=Vu(e,t,n,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,fe=bt(e.firstChild),Oe=t,$=!0,aa=null,gt=!0,a=Lc(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(za(),n===i){t=Yt(e,t,a);break e}ze(e,t,n,a)}t=t.child}return t;case 26:return pl(e,t),e===null?(a=lm(t.type,null,t.pendingProps,null))?t.memoizedState=a:$||(a=t.type,e=t.pendingProps,n=Cl(Q.current).createElement(a),n[ke]=t,n[Xe]=e,Me(n,a,e),je(n),t.stateNode=n):t.memoizedState=lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return On(t),e===null&&$&&(n=t.stateNode=am(t.type,t.pendingProps,Q.current),Oe=t,gt=!0,i=fe,ya(t.type)?(tr=i,fe=bt(n.firstChild)):fe=i),ze(e,t,t.pendingProps.children,a),pl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$&&((i=n=fe)&&(n=Hh(n,t.type,t.pendingProps,gt),n!==null?(t.stateNode=n,Oe=t,fe=bt(n.firstChild),gt=!1,i=!0):i=!1),i||na(t)),On(t),i=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,n=l.children,Wo(i,l)?n=null:o!==null&&Wo(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=Ks(e,t,th,null,null,a),xi._currentValue=i),pl(e,t),ze(e,t,n,a),t.child;case 6:return e===null&&$&&((e=a=fe)&&(a=Bh(a,t.pendingProps,gt),a!==null?(t.stateNode=a,Oe=t,fe=null,e=!0):e=!1),e||na(t)),null;case 13:return Xu(e,t,a);case 4:return He(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=La(t,null,n,a):ze(e,t,n,a),t.child;case 11:return qu(e,t,t.type,t.pendingProps,a);case 7:return ze(e,t,t.pendingProps,a),t.child;case 8:return ze(e,t,t.pendingProps.children,a),t.child;case 12:return ze(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ia(t,t.type,n.value),ze(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Da(t),i=Ce(i),n=n(i),t.flags|=1,ze(e,t,n,a),t.child;case 14:return Gu(e,t,t.type,t.pendingProps,a);case 15:return Uu(e,t,t.type,t.pendingProps,a);case 19:return Zu(e,t,a);case 31:return ch(e,t,a);case 22:return Lu(e,t,a,t.pendingProps);case 24:return Da(t),n=Ce(Se),e===null?(i=Us(),i===null&&(i=de,l=qs(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=a),i=l),t.memoizedState={parent:n,cache:i},Hs(t),ia(t,Se,i)):((e.lanes&a)!==0&&(Bs(e,t),ei(t,null,null,a),Pn()),i=e.memoizedState,l=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),ia(t,Se,n)):(n=l.cache,ia(t,Se,n),n!==i.cache&&Ds(t,[Se],a,!0))),ze(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Jt(e){e.flags|=4}function To(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Sd())e.flags|=8192;else throw Ua=el,Ls}else e.flags&=-16777217}function Iu(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!um(t))if(Sd())e.flags|=8192;else throw Ua=el,Ls}function yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rr():536870912,e.lanes|=t,Sn|=t)}function si(e,t){if(!$)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function dh(e,t,a){var n=t.pendingProps;switch(ks(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return he(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Lt(Se),be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rn(t)?Jt(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cs())),he(t),null;case 26:var i=t.type,l=t.memoizedState;return e===null?(Jt(t),l!==null?(he(t),Iu(t,l)):(he(t),To(t,i,null,n,a))):l?l!==e.memoizedState?(Jt(t),he(t),Iu(t,l)):(he(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Jt(t),he(t),To(t,i,e,n,a)),null;case 27:if(Ri(t),a=Q.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return he(t),null}e=M.current,rn(t)?Rc(t):(e=am(i,n,a),t.stateNode=e,Jt(t))}return he(t),null;case 5:if(Ri(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(!n){if(t.stateNode===null)throw Error(u(166));return he(t),null}if(l=M.current,rn(t))Rc(t);else{var o=Cl(Q.current);switch(l){case 1:l=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":l=o.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?l.multiple=!0:n.size&&(l.size=n.size);break;default:l=typeof n.is=="string"?o.createElement(i,{is:n.is}):o.createElement(i)}}l[ke]=t,l[Xe]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)l.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=l;e:switch(Me(l,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Jt(t)}}return he(t),To(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Jt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(u(166));if(e=Q.current,rn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=Oe,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[ke]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Xd(e.nodeValue,a)),e||na(t,!0)}else e=Cl(e).createTextNode(n),e[ke]=t,t.stateNode=e}return he(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=rn(t),a!==null){if(e===null){if(!n)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[ke]=t}else za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;he(t),e=!1}else a=Cs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(lt(t),t):(lt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return he(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=rn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(u(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(u(317));i[ke]=t}else za(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;he(t),i=!1}else i=Cs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(lt(t),t):(lt(t),null)}return lt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),yl(t,t.updateQueue),he(t),null);case 4:return be(),e===null&&Xo(t.stateNode.containerInfo),he(t),null;case 10:return Lt(t.type),he(t),null;case 19:if(j(ve),n=t.memoizedState,n===null)return he(t),null;if(i=(t.flags&128)!==0,l=n.rendering,l===null)if(i)si(n,!1);else{if(ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(l=il(e),l!==null){for(t.flags|=128,si(n,!1),e=l.updateQueue,t.updateQueue=e,yl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Tc(a,e),a=a.sibling;return C(ve,ve.current&1|2),$&&Gt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Pe()>wl&&(t.flags|=128,i=!0,si(n,!1),t.lanes=4194304)}else{if(!i)if(e=il(l),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,yl(t,e),si(n,!0),n.tail===null&&n.tailMode==="hidden"&&!l.alternate&&!$)return he(t),null}else 2*Pe()-n.renderingStartTime>wl&&a!==536870912&&(t.flags|=128,i=!0,si(n,!1),t.lanes=4194304);n.isBackwards?(l.sibling=t.child,t.child=l):(e=n.last,e!==null?e.sibling=l:t.child=l,n.last=l)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Pe(),e.sibling=null,a=ve.current,C(ve,i?a&1|2:a&1),$&&Gt(t,n.treeForkCount),e):(he(t),null);case 22:case 23:return lt(t),Xs(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),a=t.updateQueue,a!==null&&yl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&j(qa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Lt(Se),he(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function mh(e,t){switch(ks(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lt(Se),be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ri(t),null;case 31:if(t.memoizedState!==null){if(lt(t),t.alternate===null)throw Error(u(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));za()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return j(ve),null;case 4:return be(),null;case 10:return Lt(t.type),null;case 22:case 23:return lt(t),Xs(),e!==null&&j(qa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Lt(Se),null;case 25:return null;default:return null}}function Wu(e,t){switch(ks(t),t.tag){case 3:Lt(Se),be();break;case 26:case 27:case 5:Ri(t);break;case 4:be();break;case 31:t.memoizedState!==null&&lt(t);break;case 13:lt(t);break;case 19:j(ve);break;case 10:Lt(t.type);break;case 22:case 23:lt(t),Xs(),e!==null&&j(qa);break;case 24:Lt(Se)}}function oi(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var l=a.create,o=a.inst;n=l(),o.destroy=n}a=a.next}while(a!==i)}}catch(r){le(t,t.return,r)}}function ua(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){var o=n.inst,r=o.destroy;if(r!==void 0){o.destroy=void 0,i=t;var c=a,g=r;try{g()}catch(S){le(i,c,S)}}}n=n.next}while(n!==l)}}catch(S){le(t,t.return,S)}}function Fu(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Bc(t,a)}catch(n){le(e,e.return,n)}}}function $u(e,t,a){a.props=Ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){le(e,t,n)}}function ri(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){le(e,t,i)}}function Et(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){le(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){le(e,t,i)}else a.current=null}function Pu(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){le(e,e.return,i)}}function _o(e,t,a){try{var n=e.stateNode;Mh(n,e.type,a,t),n[Xe]=t}catch(i){le(e,e.return,i)}}function ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ya(e.type)||e.tag===4}function Ao(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function No(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Mt));else if(n!==4&&(n===27&&ya(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(No(e,t,a),e=e.sibling;e!==null;)No(e,t,a),e=e.sibling}function bl(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&ya(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(bl(e,t,a),e=e.sibling;e!==null;)bl(e,t,a),e=e.sibling}function td(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Me(t,n,a),t[ke]=e,t[Xe]=a}catch(l){le(e,e.return,l)}}var Vt=!1,_e=!1,jo=!1,ad=typeof WeakSet=="function"?WeakSet:Set,Re=null;function fh(e,t){if(e=e.containerInfo,Ko=Ll,e=hc(e),vs(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var o=0,r=-1,c=-1,g=0,S=0,N=e,y=null;t:for(;;){for(var b;N!==a||i!==0&&N.nodeType!==3||(r=o+i),N!==l||n!==0&&N.nodeType!==3||(c=o+n),N.nodeType===3&&(o+=N.nodeValue.length),(b=N.firstChild)!==null;)y=N,N=b;for(;;){if(N===e)break t;if(y===a&&++g===i&&(r=o),y===l&&++S===n&&(c=o),(b=N.nextSibling)!==null)break;N=y,y=N.parentNode}N=b}a=r===-1||c===-1?null:{start:r,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(Io={focusedElem:e,selectionRange:a},Ll=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){switch(t=Re,l=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&l!==null){e=void 0,a=t,i=l.memoizedProps,l=l.memoizedState,n=a.stateNode;try{var z=Ba(a.type,i);e=n.getSnapshotBeforeUpdate(z,l),n.__reactInternalSnapshotBeforeUpdate=e}catch(U){le(a,a.return,U)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)$o(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":$o(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}}function nd(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Qt(e,a),n&4&&oi(5,a);break;case 1:if(Qt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){le(a,a.return,o)}else{var i=Ba(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){le(a,a.return,o)}}n&64&&Fu(a),n&512&&ri(a,a.return);break;case 3:if(Qt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Bc(e,t)}catch(o){le(a,a.return,o)}}break;case 27:t===null&&n&4&&td(a);case 26:case 5:Qt(e,a),t===null&&n&4&&Pu(a),n&512&&ri(a,a.return);break;case 12:Qt(e,a);break;case 31:Qt(e,a),n&4&&sd(e,a);break;case 13:Qt(e,a),n&4&&od(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wh.bind(null,a),Yh(e,a))));break;case 22:if(n=a.memoizedState!==null||Vt,!n){t=t!==null&&t.memoizedState!==null||_e,i=Vt;var l=_e;Vt=n,(_e=t)&&!l?Zt(e,a,(a.subtreeFlags&8772)!==0):Qt(e,a),Vt=i,_e=l}break;case 30:break;default:Qt(e,a)}}function id(e){var t=e.alternate;t!==null&&(e.alternate=null,id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&as(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,Ze=!1;function Xt(e,t,a){for(a=a.child;a!==null;)ld(e,t,a),a=a.sibling}function ld(e,t,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Cn,a)}catch{}switch(a.tag){case 26:_e||Et(a,t),Xt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:_e||Et(a,t);var n=pe,i=Ze;ya(a.type)&&(pe=a.stateNode,Ze=!1),Xt(e,t,a),yi(a.stateNode),pe=n,Ze=i;break;case 5:_e||Et(a,t);case 6:if(n=pe,i=Ze,pe=null,Xt(e,t,a),pe=n,Ze=i,pe!==null)if(Ze)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(a.stateNode)}catch(l){le(a,t,l)}else try{pe.removeChild(a.stateNode)}catch(l){le(a,t,l)}break;case 18:pe!==null&&(Ze?(e=pe,Fd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),En(e)):Fd(pe,a.stateNode));break;case 4:n=pe,i=Ze,pe=a.stateNode.containerInfo,Ze=!0,Xt(e,t,a),pe=n,Ze=i;break;case 0:case 11:case 14:case 15:ua(2,a,t),_e||ua(4,a,t),Xt(e,t,a);break;case 1:_e||(Et(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&$u(a,t,n)),Xt(e,t,a);break;case 21:Xt(e,t,a);break;case 22:_e=(n=_e)||a.memoizedState!==null,Xt(e,t,a),_e=n;break;default:Xt(e,t,a)}}function sd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{En(e)}catch(a){le(t,t.return,a)}}}function od(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{En(e)}catch(a){le(t,t.return,a)}}function hh(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ad),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ad),t;default:throw Error(u(435,e.tag))}}function vl(e,t){var a=hh(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=Th.bind(null,e,n);n.then(i,i)}})}function Ke(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],l=e,o=t,r=o;e:for(;r!==null;){switch(r.tag){case 27:if(ya(r.type)){pe=r.stateNode,Ze=!1;break e}break;case 5:pe=r.stateNode,Ze=!1;break e;case 3:case 4:pe=r.stateNode.containerInfo,Ze=!0;break e}r=r.return}if(pe===null)throw Error(u(160));ld(l,o,i),pe=null,Ze=!1,l=i.alternate,l!==null&&(l.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)rd(t,e),t=t.sibling}var wt=null;function rd(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ke(t,e),Ie(e),n&4&&(ua(3,e,e.return),oi(3,e),ua(5,e,e.return));break;case 1:Ke(t,e),Ie(e),n&512&&(_e||a===null||Et(a,a.return)),n&64&&Vt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=wt;if(Ke(t,e),Ie(e),n&512&&(_e||a===null||Et(a,a.return)),n&4){var l=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":l=i.getElementsByTagName("title")[0],(!l||l[Dn]||l[ke]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=i.createElement(n),i.head.insertBefore(l,i.querySelector("head > title"))),Me(l,n,a),l[ke]=e,je(l),n=l;break e;case"link":var o=rm("link","href",i).get(n+(a.href||""));if(o){for(var r=0;r<o.length;r++)if(l=o[r],l.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&l.getAttribute("rel")===(a.rel==null?null:a.rel)&&l.getAttribute("title")===(a.title==null?null:a.title)&&l.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(r,1);break t}}l=i.createElement(n),Me(l,n,a),i.head.appendChild(l);break;case"meta":if(o=rm("meta","content",i).get(n+(a.content||""))){for(r=0;r<o.length;r++)if(l=o[r],l.getAttribute("content")===(a.content==null?null:""+a.content)&&l.getAttribute("name")===(a.name==null?null:a.name)&&l.getAttribute("property")===(a.property==null?null:a.property)&&l.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&l.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(r,1);break t}}l=i.createElement(n),Me(l,n,a),i.head.appendChild(l);break;default:throw Error(u(468,n))}l[ke]=e,je(l),n=l}e.stateNode=n}else cm(i,e.type,e.stateNode);else e.stateNode=om(i,n,e.memoizedProps);else l!==n?(l===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):l.count--,n===null?cm(i,e.type,e.stateNode):om(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&_o(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ke(t,e),Ie(e),n&512&&(_e||a===null||Et(a,a.return)),a!==null&&n&4&&_o(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ke(t,e),Ie(e),n&512&&(_e||a===null||Et(a,a.return)),e.flags&32){i=e.stateNode;try{Fa(i,"")}catch(z){le(e,e.return,z)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,_o(e,i,a!==null?a.memoizedProps:i)),n&1024&&(jo=!0);break;case 6:if(Ke(t,e),Ie(e),n&4){if(e.stateNode===null)throw Error(u(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(z){le(e,e.return,z)}}break;case 3:if(Dl=null,i=wt,wt=zl(t.containerInfo),Ke(t,e),wt=i,Ie(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{En(t.containerInfo)}catch(z){le(e,e.return,z)}jo&&(jo=!1,cd(e));break;case 4:n=wt,wt=zl(e.stateNode.containerInfo),Ke(t,e),Ie(e),wt=n;break;case 12:Ke(t,e),Ie(e);break;case 31:Ke(t,e),Ie(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,vl(e,n)));break;case 13:Ke(t,e),Ie(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sl=Pe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,vl(e,n)));break;case 22:i=e.memoizedState!==null;var c=a!==null&&a.memoizedState!==null,g=Vt,S=_e;if(Vt=g||i,_e=S||c,Ke(t,e),_e=S,Vt=g,Ie(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||c||Vt||_e||Ya(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){c=a=t;try{if(l=c.stateNode,i)o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{r=c.stateNode;var N=c.memoizedProps.style,y=N!=null&&N.hasOwnProperty("display")?N.display:null;r.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(z){le(c,c.return,z)}}}else if(t.tag===6){if(a===null){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(z){le(c,c.return,z)}}}else if(t.tag===18){if(a===null){c=t;try{var b=c.stateNode;i?$d(b,!0):$d(c.stateNode,!1)}catch(z){le(c,c.return,z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,vl(e,a))));break;case 19:Ke(t,e),Ie(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,vl(e,n)));break;case 30:break;case 21:break;default:Ke(t,e),Ie(e)}}function Ie(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ed(n)){a=n;break}n=n.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var i=a.stateNode,l=Ao(e);bl(e,l,i);break;case 5:var o=a.stateNode;a.flags&32&&(Fa(o,""),a.flags&=-33);var r=Ao(e);bl(e,r,o);break;case 3:case 4:var c=a.stateNode.containerInfo,g=Ao(e);No(e,g,c);break;default:throw Error(u(161))}}catch(S){le(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)nd(e,t.alternate,t),t=t.sibling}function Ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ua(4,t,t.return),Ya(t);break;case 1:Et(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&$u(t,t.return,a),Ya(t);break;case 27:yi(t.stateNode);case 26:case 5:Et(t,t.return),Ya(t);break;case 22:t.memoizedState===null&&Ya(t);break;case 30:Ya(t);break;default:Ya(t)}e=e.sibling}}function Zt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,l=t,o=l.flags;switch(l.tag){case 0:case 11:case 15:Zt(i,l,a),oi(4,l);break;case 1:if(Zt(i,l,a),n=l,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(g){le(n,n.return,g)}if(n=l,i=n.updateQueue,i!==null){var r=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Hc(c[i],r)}catch(g){le(n,n.return,g)}}a&&o&64&&Fu(l),ri(l,l.return);break;case 27:td(l);case 26:case 5:Zt(i,l,a),a&&n===null&&o&4&&Pu(l),ri(l,l.return);break;case 12:Zt(i,l,a);break;case 31:Zt(i,l,a),a&&o&4&&sd(i,l);break;case 13:Zt(i,l,a),a&&o&4&&od(i,l);break;case 22:l.memoizedState===null&&Zt(i,l,a),ri(l,l.return);break;case 30:break;default:Zt(i,l,a)}t=t.sibling}}function Ro(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Kn(a))}function Eo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e))}function Tt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ud(e,t,a,n),t=t.sibling}function ud(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Tt(e,t,a,n),i&2048&&oi(9,t);break;case 1:Tt(e,t,a,n);break;case 3:Tt(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e)));break;case 12:if(i&2048){Tt(e,t,a,n),e=t.stateNode;try{var l=t.memoizedProps,o=l.id,r=l.onPostCommit;typeof r=="function"&&r(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){le(t,t.return,c)}}else Tt(e,t,a,n);break;case 31:Tt(e,t,a,n);break;case 13:Tt(e,t,a,n);break;case 23:break;case 22:l=t.stateNode,o=t.alternate,t.memoizedState!==null?l._visibility&2?Tt(e,t,a,n):ci(e,t):l._visibility&2?Tt(e,t,a,n):(l._visibility|=2,bn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Ro(o,t);break;case 24:Tt(e,t,a,n),i&2048&&Eo(t.alternate,t);break;default:Tt(e,t,a,n)}}function bn(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,o=t,r=a,c=n,g=o.flags;switch(o.tag){case 0:case 11:case 15:bn(l,o,r,c,i),oi(8,o);break;case 23:break;case 22:var S=o.stateNode;o.memoizedState!==null?S._visibility&2?bn(l,o,r,c,i):ci(l,o):(S._visibility|=2,bn(l,o,r,c,i)),i&&g&2048&&Ro(o.alternate,o);break;case 24:bn(l,o,r,c,i),i&&g&2048&&Eo(o.alternate,o);break;default:bn(l,o,r,c,i)}t=t.sibling}}function ci(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:ci(a,n),i&2048&&Ro(n.alternate,n);break;case 24:ci(a,n),i&2048&&Eo(n.alternate,n);break;default:ci(a,n)}t=t.sibling}}var ui=8192;function vn(e,t,a){if(e.subtreeFlags&ui)for(e=e.child;e!==null;)dd(e,t,a),e=e.sibling}function dd(e,t,a){switch(e.tag){case 26:vn(e,t,a),e.flags&ui&&e.memoizedState!==null&&ep(a,wt,e.memoizedState,e.memoizedProps);break;case 5:vn(e,t,a);break;case 3:case 4:var n=wt;wt=zl(e.stateNode.containerInfo),vn(e,t,a),wt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ui,ui=16777216,vn(e,t,a),ui=n):vn(e,t,a));break;default:vn(e,t,a)}}function md(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function di(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Re=n,hd(n,e)}md(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)fd(e),e=e.sibling}function fd(e){switch(e.tag){case 0:case 11:case 15:di(e),e.flags&2048&&ua(9,e,e.return);break;case 3:di(e);break;case 12:di(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,xl(e)):di(e);break;default:di(e)}}function xl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Re=n,hd(n,e)}md(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ua(8,t,t.return),xl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,xl(t));break;default:xl(t)}e=e.sibling}}function hd(e,t){for(;Re!==null;){var a=Re;switch(a.tag){case 0:case 11:case 15:ua(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Kn(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Re=n;else e:for(a=e;Re!==null;){n=Re;var i=n.sibling,l=n.return;if(id(n),n===a){Re=null;break e}if(i!==null){i.return=l,Re=i;break e}Re=l}}}var ph={getCacheForType:function(e){var t=Ce(Se),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Ce(Se).controller.signal}},gh=typeof WeakMap=="function"?WeakMap:Map,te=0,de=null,Z=null,I=0,ie=0,st=null,da=!1,xn=!1,ko=!1,Kt=0,ye=0,ma=0,Ja=0,Oo=0,ot=0,Sn=0,mi=null,We=null,Co=!1,Sl=0,pd=0,wl=1/0,Tl=null,fa=null,Ne=0,ha=null,wn=null,It=0,zo=0,Mo=null,gd=null,fi=0,Do=null;function rt(){return(te&2)!==0&&I!==0?I&-I:_.T!==null?Bo():Cr()}function yd(){if(ot===0)if((I&536870912)===0||$){var e=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),ot=e}else ot=536870912;return e=it.current,e!==null&&(e.flags|=32),ot}function Fe(e,t,a){(e===de&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(Tn(e,0),pa(e,I,ot,!1)),Mn(e,a),((te&2)===0||e!==de)&&(e===de&&((te&2)===0&&(Ja|=a),ye===4&&pa(e,I,ot,!1)),kt(e))}function bd(e,t,a){if((te&6)!==0)throw Error(u(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||zn(e,t),i=n?vh(e,t):Go(e,t,!0),l=n;do{if(i===0){xn&&!n&&pa(e,t,0,!1);break}else{if(a=e.current.alternate,l&&!yh(a)){i=Go(e,t,!1),l=!1;continue}if(i===2){if(l=t,e.errorRecoveryDisabledLanes&l)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var r=e;i=mi;var c=r.current.memoizedState.isDehydrated;if(c&&(Tn(r,o).flags|=256),o=Go(r,o,!1),o!==2){if(ko&&!c){r.errorRecoveryDisabledLanes|=l,Ja|=l,i=4;break e}l=We,We=i,l!==null&&(We===null?We=l:We.push.apply(We,l))}i=o}if(l=!1,i!==2)continue}}if(i===1){Tn(e,0),pa(e,t,0,!0);break}e:{switch(n=e,l=i,l){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:pa(n,t,ot,!da);break e;case 2:We=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(i=Sl+300-Pe(),10<i)){if(pa(n,t,ot,!da),zi(n,0,!0)!==0)break e;It=t,n.timeoutHandle=Id(vd.bind(null,n,a,We,Tl,Co,t,ot,Ja,Sn,da,l,"Throttled",-0,0),i);break e}vd(n,a,We,Tl,Co,t,ot,Ja,Sn,da,l,null,-0,0)}}break}while(!0);kt(e)}function vd(e,t,a,n,i,l,o,r,c,g,S,N,y,b){if(e.timeoutHandle=-1,N=t.subtreeFlags,N&8192||(N&16785408)===16785408){N={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt},dd(t,l,N);var z=(l&62914560)===l?Sl-Pe():(l&4194048)===l?pd-Pe():0;if(z=tp(N,z),z!==null){It=l,e.cancelPendingCommit=z(jd.bind(null,e,t,l,a,n,i,o,r,c,S,N,null,y,b)),pa(e,l,o,!g);return}}jd(e,t,l,a,n,i,o,r,c)}function yh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],l=i.getSnapshot;i=i.value;try{if(!at(l(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pa(e,t,a,n){t&=~Oo,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var l=31-tt(i),o=1<<l;n[l]=-1,i&=~o}a!==0&&Er(e,a,t)}function _l(){return(te&6)===0?(hi(0),!1):!0}function qo(){if(Z!==null){if(ie===0)var e=Z.return;else e=Z,Ut=Ma=null,Fs(e),fn=null,Wn=0,e=Z;for(;e!==null;)Wu(e.alternate,e),e=e.return;Z=null}}function Tn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Gh(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),It=0,qo(),de=e,Z=a=qt(e.current,null),I=t,ie=0,st=null,da=!1,xn=zn(e,t),ko=!1,Sn=ot=Oo=Ja=ma=ye=0,We=mi=null,Co=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-tt(n),l=1<<i;t|=e[i],n&=~l}return Kt=t,Xi(),a}function xd(e,t){V=null,_.H=ii,t===mn||t===Pi?(t=qc(),ie=3):t===Ls?(t=qc(),ie=4):ie=t===ho?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,st=t,Z===null&&(ye=1,fl(e,ft(t,e.current)))}function Sd(){var e=it.current;return e===null?!0:(I&4194048)===I?yt===null:(I&62914560)===I||(I&536870912)!==0?e===yt:!1}function wd(){var e=_.H;return _.H=ii,e===null?ii:e}function Td(){var e=_.A;return _.A=ph,e}function Al(){ye=4,da||(I&4194048)!==I&&it.current!==null||(xn=!0),(ma&134217727)===0&&(Ja&134217727)===0||de===null||pa(de,I,ot,!1)}function Go(e,t,a){var n=te;te|=2;var i=wd(),l=Td();(de!==e||I!==t)&&(Tl=null,Tn(e,t)),t=!1;var o=ye;e:do try{if(ie!==0&&Z!==null){var r=Z,c=st;switch(ie){case 8:qo(),o=6;break e;case 3:case 2:case 9:case 6:it.current===null&&(t=!0);var g=ie;if(ie=0,st=null,_n(e,r,c,g),a&&xn){o=0;break e}break;default:g=ie,ie=0,st=null,_n(e,r,c,g)}}bh(),o=ye;break}catch(S){xd(e,S)}while(!0);return t&&e.shellSuspendCounter++,Ut=Ma=null,te=n,_.H=i,_.A=l,Z===null&&(de=null,I=0,Xi()),o}function bh(){for(;Z!==null;)_d(Z)}function vh(e,t){var a=te;te|=2;var n=wd(),i=Td();de!==e||I!==t?(Tl=null,wl=Pe()+500,Tn(e,t)):xn=zn(e,t);e:do try{if(ie!==0&&Z!==null){t=Z;var l=st;t:switch(ie){case 1:ie=0,st=null,_n(e,t,l,1);break;case 2:case 9:if(Mc(l)){ie=0,st=null,Ad(t);break}t=function(){ie!==2&&ie!==9||de!==e||(ie=7),kt(e)},l.then(t,t);break e;case 3:ie=7;break e;case 4:ie=5;break e;case 7:Mc(l)?(ie=0,st=null,Ad(t)):(ie=0,st=null,_n(e,t,l,7));break;case 5:var o=null;switch(Z.tag){case 26:o=Z.memoizedState;case 5:case 27:var r=Z;if(o?um(o):r.stateNode.complete){ie=0,st=null;var c=r.sibling;if(c!==null)Z=c;else{var g=r.return;g!==null?(Z=g,Nl(g)):Z=null}break t}}ie=0,st=null,_n(e,t,l,5);break;case 6:ie=0,st=null,_n(e,t,l,6);break;case 8:qo(),ye=6;break e;default:throw Error(u(462))}}xh();break}catch(S){xd(e,S)}while(!0);return Ut=Ma=null,_.H=n,_.A=i,te=a,Z!==null?0:(de=null,I=0,Xi(),ye)}function xh(){for(;Z!==null&&!Ym();)_d(Z)}function _d(e){var t=Ku(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?Nl(e):Z=t}function Ad(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Yu(a,t,t.pendingProps,t.type,void 0,I);break;case 11:t=Yu(a,t,t.pendingProps,t.type.render,t.ref,I);break;case 5:Fs(t);default:Wu(a,t),t=Z=Tc(t,Kt),t=Ku(a,t,Kt)}e.memoizedProps=e.pendingProps,t===null?Nl(e):Z=t}function _n(e,t,a,n){Ut=Ma=null,Fs(t),fn=null,Wn=0;var i=t.return;try{if(rh(e,i,t,a,I)){ye=1,fl(e,ft(a,e.current)),Z=null;return}}catch(l){if(i!==null)throw Z=i,l;ye=1,fl(e,ft(a,e.current)),Z=null;return}t.flags&32768?($||n===1?e=!0:xn||(I&536870912)!==0?e=!1:(da=e=!0,(n===2||n===9||n===3||n===6)&&(n=it.current,n!==null&&n.tag===13&&(n.flags|=16384))),Nd(t,e)):Nl(t)}function Nl(e){var t=e;do{if((t.flags&32768)!==0){Nd(t,da);return}e=t.return;var a=dh(t.alternate,t,Kt);if(a!==null){Z=a;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);ye===0&&(ye=5)}function Nd(e,t){do{var a=mh(e.alternate,e);if(a!==null){a.flags&=32767,Z=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Z=e;return}Z=e=a}while(e!==null);ye=6,Z=null}function jd(e,t,a,n,i,l,o,r,c){e.cancelPendingCommit=null;do jl();while(Ne!==0);if((te&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(l=t.lanes|t.childLanes,l|=_s,$m(e,a,l,o,r,c),e===de&&(Z=de=null,I=0),wn=t,ha=e,It=a,zo=l,Mo=i,gd=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_h(Ei,function(){return Cd(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=_.T,_.T=null,i=O.p,O.p=2,o=te,te|=4;try{fh(e,t,a)}finally{te=o,O.p=i,_.T=n}}Ne=1,Rd(),Ed(),kd()}}function Rd(){if(Ne===1){Ne=0;var e=ha,t=wn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=_.T,_.T=null;var n=O.p;O.p=2;var i=te;te|=4;try{rd(t,e);var l=Io,o=hc(e.containerInfo),r=l.focusedElem,c=l.selectionRange;if(o!==r&&r&&r.ownerDocument&&fc(r.ownerDocument.documentElement,r)){if(c!==null&&vs(r)){var g=c.start,S=c.end;if(S===void 0&&(S=g),"selectionStart"in r)r.selectionStart=g,r.selectionEnd=Math.min(S,r.value.length);else{var N=r.ownerDocument||document,y=N&&N.defaultView||window;if(y.getSelection){var b=y.getSelection(),z=r.textContent.length,U=Math.min(c.start,z),ce=c.end===void 0?U:Math.min(c.end,z);!b.extend&&U>ce&&(o=ce,ce=U,U=o);var h=mc(r,U),m=mc(r,ce);if(h&&m&&(b.rangeCount!==1||b.anchorNode!==h.node||b.anchorOffset!==h.offset||b.focusNode!==m.node||b.focusOffset!==m.offset)){var p=N.createRange();p.setStart(h.node,h.offset),b.removeAllRanges(),U>ce?(b.addRange(p),b.extend(m.node,m.offset)):(p.setEnd(m.node,m.offset),b.addRange(p))}}}}for(N=[],b=r;b=b.parentNode;)b.nodeType===1&&N.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<N.length;r++){var A=N[r];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}Ll=!!Ko,Io=Ko=null}finally{te=i,O.p=n,_.T=a}}e.current=t,Ne=2}}function Ed(){if(Ne===2){Ne=0;var e=ha,t=wn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=_.T,_.T=null;var n=O.p;O.p=2;var i=te;te|=4;try{nd(e,t.alternate,t)}finally{te=i,O.p=n,_.T=a}}Ne=3}}function kd(){if(Ne===4||Ne===3){Ne=0,Jm();var e=ha,t=wn,a=It,n=gd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ne=5:(Ne=0,wn=ha=null,Od(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(fa=null),es(a),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Cn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=_.T,i=O.p,O.p=2,_.T=null;try{for(var l=e.onRecoverableError,o=0;o<n.length;o++){var r=n[o];l(r.value,{componentStack:r.stack})}}finally{_.T=t,O.p=i}}(It&3)!==0&&jl(),kt(e),i=e.pendingLanes,(a&261930)!==0&&(i&42)!==0?e===Do?fi++:(fi=0,Do=e):fi=0,hi(0)}}function Od(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kn(t)))}function jl(){return Rd(),Ed(),kd(),Cd()}function Cd(){if(Ne!==5)return!1;var e=ha,t=zo;zo=0;var a=es(It),n=_.T,i=O.p;try{O.p=32>a?32:a,_.T=null,a=Mo,Mo=null;var l=ha,o=It;if(Ne=0,wn=ha=null,It=0,(te&6)!==0)throw Error(u(331));var r=te;if(te|=4,fd(l.current),ud(l,l.current,o,a),te=r,hi(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Cn,l)}catch{}return!0}finally{O.p=i,_.T=n,Od(e,t)}}function zd(e,t,a){t=ft(a,t),t=fo(e.stateNode,t,2),e=oa(e,t,2),e!==null&&(Mn(e,2),kt(e))}function le(e,t,a){if(e.tag===3)zd(e,e,a);else for(;t!==null;){if(t.tag===3){zd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fa===null||!fa.has(n))){e=ft(a,e),a=Mu(2),n=oa(t,a,2),n!==null&&(Du(a,n,t,e),Mn(n,2),kt(n));break}}t=t.return}}function Uo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new gh;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(ko=!0,i.add(a),e=Sh.bind(null,e,t,a),t.then(e,e))}function Sh(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,de===e&&(I&a)===a&&(ye===4||ye===3&&(I&62914560)===I&&300>Pe()-Sl?(te&2)===0&&Tn(e,0):Oo|=a,Sn===I&&(Sn=0)),kt(e)}function Md(e,t){t===0&&(t=Rr()),e=Oa(e,t),e!==null&&(Mn(e,t),kt(e))}function wh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Md(e,a)}function Th(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(u(314))}n!==null&&n.delete(t),Md(e,a)}function _h(e,t){return Wl(e,t)}var Rl=null,An=null,Lo=!1,El=!1,Ho=!1,ga=0;function kt(e){e!==An&&e.next===null&&(An===null?Rl=An=e:An=An.next=e),El=!0,Lo||(Lo=!0,Nh())}function hi(e,t){if(!Ho&&El){Ho=!0;do for(var a=!1,n=Rl;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var l=0;else{var o=n.suspendedLanes,r=n.pingedLanes;l=(1<<31-tt(42|e)+1)-1,l&=i&~(o&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,Ud(n,l))}else l=I,l=zi(n,n===de?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(l&3)===0||zn(n,l)||(a=!0,Ud(n,l));n=n.next}while(a);Ho=!1}}function Ah(){Dd()}function Dd(){El=Lo=!1;var e=0;ga!==0&&qh()&&(e=ga);for(var t=Pe(),a=null,n=Rl;n!==null;){var i=n.next,l=qd(n,t);l===0?(n.next=null,a===null?Rl=i:a.next=i,i===null&&(An=a)):(a=n,(e!==0||(l&3)!==0)&&(El=!0)),n=i}Ne!==0&&Ne!==5||hi(e),ga!==0&&(ga=0)}function qd(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var o=31-tt(l),r=1<<o,c=i[o];c===-1?((r&a)===0||(r&n)!==0)&&(i[o]=Fm(r,t)):c<=t&&(e.expiredLanes|=r),l&=~r}if(t=de,a=I,a=zi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Fl(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||zn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Fl(n),es(a)){case 2:case 8:a=Nr;break;case 32:a=Ei;break;case 268435456:a=jr;break;default:a=Ei}return n=Gd.bind(null,e),a=Wl(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Fl(n),e.callbackPriority=2,e.callbackNode=null,2}function Gd(e,t){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(jl()&&e.callbackNode!==a)return null;var n=I;return n=zi(e,e===de?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(bd(e,n,t),qd(e,Pe()),e.callbackNode!=null&&e.callbackNode===a?Gd.bind(null,e):null)}function Ud(e,t){if(jl())return null;bd(e,t,!0)}function Nh(){Uh(function(){(te&6)!==0?Wl(Ar,Ah):Dd()})}function Bo(){if(ga===0){var e=un;e===0&&(e=ki,ki<<=1,(ki&261888)===0&&(ki=256)),ga=e}return ga}function Ld(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gi(""+e)}function Hd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function jh(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var l=Ld((i[Xe]||null).action),o=n.submitter;o&&(t=(t=o[Xe]||null)?Ld(t.formAction):o.getAttribute("formAction"),t!==null&&(l=t,o=null));var r=new Bi("action","action",null,n,i);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ga!==0){var c=o?Hd(i,o):new FormData(i);so(a,{pending:!0,data:c,method:i.method,action:l},null,c)}}else typeof l=="function"&&(r.preventDefault(),c=o?Hd(i,o):new FormData(i),so(a,{pending:!0,data:c,method:i.method,action:l},l,c))},currentTarget:i}]})}}for(var Yo=0;Yo<Ts.length;Yo++){var Jo=Ts[Yo],Rh=Jo.toLowerCase(),Eh=Jo[0].toUpperCase()+Jo.slice(1);St(Rh,"on"+Eh)}St(yc,"onAnimationEnd"),St(bc,"onAnimationIteration"),St(vc,"onAnimationStart"),St("dblclick","onDoubleClick"),St("focusin","onFocus"),St("focusout","onBlur"),St(Xf,"onTransitionRun"),St(Qf,"onTransitionStart"),St(Zf,"onTransitionCancel"),St(xc,"onTransitionEnd"),Ia("onMouseEnter",["mouseout","mouseover"]),Ia("onMouseLeave",["mouseout","mouseover"]),Ia("onPointerEnter",["pointerout","pointerover"]),Ia("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pi));function Bd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var o=n.length-1;0<=o;o--){var r=n[o],c=r.instance,g=r.currentTarget;if(r=r.listener,c!==l&&i.isPropagationStopped())break e;l=r,i.currentTarget=g;try{l(i)}catch(S){Vi(S)}i.currentTarget=null,l=c}else for(o=0;o<n.length;o++){if(r=n[o],c=r.instance,g=r.currentTarget,r=r.listener,c!==l&&i.isPropagationStopped())break e;l=r,i.currentTarget=g;try{l(i)}catch(S){Vi(S)}i.currentTarget=null,l=c}}}}function K(e,t){var a=t[ts];a===void 0&&(a=t[ts]=new Set);var n=e+"__bubble";a.has(n)||(Yd(t,e,2,!1),a.add(n))}function Vo(e,t,a){var n=0;t&&(n|=4),Yd(a,e,n,t)}var kl="_reactListening"+Math.random().toString(36).slice(2);function Xo(e){if(!e[kl]){e[kl]=!0,Dr.forEach(function(a){a!=="selectionchange"&&(kh.has(a)||Vo(a,!1,e),Vo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kl]||(t[kl]=!0,Vo("selectionchange",!1,t))}}function Yd(e,t,a,n){switch(ym(t)){case 2:var i=ip;break;case 8:i=lp;break;default:i=sr}a=i.bind(null,t,a,e),i=void 0,!us||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Qo(e,t,a,n,i){var l=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var r=n.stateNode.containerInfo;if(r===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;r!==null;){if(o=Qa(r),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=l=o;continue e}r=r.parentNode}}n=n.return}Zr(function(){var g=l,S=rs(a),N=[];e:{var y=Sc.get(e);if(y!==void 0){var b=Bi,z=e;switch(e){case"keypress":if(Li(a)===0)break e;case"keydown":case"keyup":b=Tf;break;case"focusin":z="focus",b=hs;break;case"focusout":z="blur",b=hs;break;case"beforeblur":case"afterblur":b=hs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Nf;break;case yc:case bc:case vc:b=hf;break;case xc:b=Rf;break;case"scroll":case"scrollend":b=cf;break;case"wheel":b=kf;break;case"copy":case"cut":case"paste":b=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=$r;break;case"toggle":case"beforetoggle":b=Cf}var U=(t&4)!==0,ce=!U&&(e==="scroll"||e==="scrollend"),h=U?y!==null?y+"Capture":null:y;U=[];for(var m=g,p;m!==null;){var A=m;if(p=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||p===null||h===null||(A=Gn(m,h),A!=null&&U.push(gi(m,A,p))),ce)break;m=m.return}0<U.length&&(y=new b(y,z,null,a,S),N.push({event:y,listeners:U}))}}if((t&7)===0){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&a!==os&&(z=a.relatedTarget||a.fromElement)&&(Qa(z)||z[Xa]))break e;if((b||y)&&(y=S.window===S?S:(y=S.ownerDocument)?y.defaultView||y.parentWindow:window,b?(z=a.relatedTarget||a.toElement,b=g,z=z?Qa(z):null,z!==null&&(ce=E(z),U=z.tag,z!==ce||U!==5&&U!==27&&U!==6)&&(z=null)):(b=null,z=g),b!==z)){if(U=Wr,A="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(U=$r,A="onPointerLeave",h="onPointerEnter",m="pointer"),ce=b==null?y:qn(b),p=z==null?y:qn(z),y=new U(A,m+"leave",b,a,S),y.target=ce,y.relatedTarget=p,A=null,Qa(S)===g&&(U=new U(h,m+"enter",z,a,S),U.target=p,U.relatedTarget=ce,A=U),ce=A,b&&z)t:{for(U=Oh,h=b,m=z,p=0,A=h;A;A=U(A))p++;A=0;for(var G=m;G;G=U(G))A++;for(;0<p-A;)h=U(h),p--;for(;0<A-p;)m=U(m),A--;for(;p--;){if(h===m||m!==null&&h===m.alternate){U=h;break t}h=U(h),m=U(m)}U=null}else U=null;b!==null&&Jd(N,y,b,U,!1),z!==null&&ce!==null&&Jd(N,ce,z,U,!0)}}e:{if(y=g?qn(g):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var P=sc;else if(ic(y))if(oc)P=Yf;else{P=Hf;var D=Lf}else b=y.nodeName,!b||b.toLowerCase()!=="input"||y.type!=="checkbox"&&y.type!=="radio"?g&&ss(g.elementType)&&(P=sc):P=Bf;if(P&&(P=P(e,g))){lc(N,P,a,S);break e}D&&D(e,y,g),e==="focusout"&&g&&y.type==="number"&&g.memoizedProps.value!=null&&ls(y,"number",y.value)}switch(D=g?qn(g):window,e){case"focusin":(ic(D)||D.contentEditable==="true")&&(tn=D,xs=g,Xn=null);break;case"focusout":Xn=xs=tn=null;break;case"mousedown":Ss=!0;break;case"contextmenu":case"mouseup":case"dragend":Ss=!1,pc(N,a,S);break;case"selectionchange":if(Vf)break;case"keydown":case"keyup":pc(N,a,S)}var X;if(gs)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else en?ac(e,a)&&(W="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(W="onCompositionStart");W&&(Pr&&a.locale!=="ko"&&(en||W!=="onCompositionStart"?W==="onCompositionEnd"&&en&&(X=Kr()):(ea=S,ds="value"in ea?ea.value:ea.textContent,en=!0)),D=Ol(g,W),0<D.length&&(W=new Fr(W,e,null,a,S),N.push({event:W,listeners:D}),X?W.data=X:(X=nc(a),X!==null&&(W.data=X)))),(X=Mf?Df(e,a):qf(e,a))&&(W=Ol(g,"onBeforeInput"),0<W.length&&(D=new Fr("onBeforeInput","beforeinput",null,a,S),N.push({event:D,listeners:W}),D.data=X)),jh(N,e,g,a,S)}Bd(N,t)})}function gi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ol(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,l=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||l===null||(i=Gn(e,a),i!=null&&n.unshift(gi(e,i,l)),i=Gn(e,t),i!=null&&n.push(gi(e,i,l))),e.tag===3)return n;e=e.return}return[]}function Oh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jd(e,t,a,n,i){for(var l=t._reactName,o=[];a!==null&&a!==n;){var r=a,c=r.alternate,g=r.stateNode;if(r=r.tag,c!==null&&c===n)break;r!==5&&r!==26&&r!==27||g===null||(c=g,i?(g=Gn(a,l),g!=null&&o.unshift(gi(a,g,c))):i||(g=Gn(a,l),g!=null&&o.push(gi(a,g,c)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var Ch=/\r\n?/g,zh=/\u0000|\uFFFD/g;function Vd(e){return(typeof e=="string"?e:""+e).replace(Ch,`
`).replace(zh,"")}function Xd(e,t){return t=Vd(t),Vd(e)===t}function re(e,t,a,n,i,l){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Fa(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Fa(e,""+n);break;case"className":Di(e,"class",n);break;case"tabIndex":Di(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Di(e,a,n);break;case"style":Xr(e,n,l);break;case"data":if(t!=="object"){Di(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Gi(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(a==="formAction"?(t!=="input"&&re(e,t,"name",i.name,i,null),re(e,t,"formEncType",i.formEncType,i,null),re(e,t,"formMethod",i.formMethod,i,null),re(e,t,"formTarget",i.formTarget,i,null)):(re(e,t,"encType",i.encType,i,null),re(e,t,"method",i.method,i,null),re(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Gi(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Mt);break;case"onScroll":n!=null&&K("scroll",e);break;case"onScrollEnd":n!=null&&K("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Gi(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":K("beforetoggle",e),K("toggle",e),Mi(e,"popover",n);break;case"xlinkActuate":zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":zt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":zt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":zt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":zt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Mi(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,Mi(e,a,n))}}function Zo(e,t,a,n,i,l){switch(a){case"style":Xr(e,n,l);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(u(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Fa(e,n):(typeof n=="number"||typeof n=="bigint")&&Fa(e,""+n);break;case"onScroll":n!=null&&K("scroll",e);break;case"onScrollEnd":n!=null&&K("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),l=e[Xe]||null,l=l!=null?l[a]:null,typeof l=="function"&&e.removeEventListener(t,l,i),typeof n=="function")){typeof l!="function"&&l!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Mi(e,a,n)}}}function Me(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":K("error",e),K("load",e);var n=!1,i=!1,l;for(l in a)if(a.hasOwnProperty(l)){var o=a[l];if(o!=null)switch(l){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:re(e,t,l,o,a,null)}}i&&re(e,t,"srcSet",a.srcSet,a,null),n&&re(e,t,"src",a.src,a,null);return;case"input":K("invalid",e);var r=l=o=i=null,c=null,g=null;for(n in a)if(a.hasOwnProperty(n)){var S=a[n];if(S!=null)switch(n){case"name":i=S;break;case"type":o=S;break;case"checked":c=S;break;case"defaultChecked":g=S;break;case"value":l=S;break;case"defaultValue":r=S;break;case"children":case"dangerouslySetInnerHTML":if(S!=null)throw Error(u(137,t));break;default:re(e,t,n,S,a,null)}}Br(e,l,r,c,g,o,i,!1);return;case"select":K("invalid",e),n=o=l=null;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r!=null))switch(i){case"value":l=r;break;case"defaultValue":o=r;break;case"multiple":n=r;default:re(e,t,i,r,a,null)}t=l,a=o,e.multiple=!!n,t!=null?Wa(e,!!n,t,!1):a!=null&&Wa(e,!!n,a,!0);return;case"textarea":K("invalid",e),l=i=n=null;for(o in a)if(a.hasOwnProperty(o)&&(r=a[o],r!=null))switch(o){case"value":n=r;break;case"defaultValue":i=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(u(91));break;default:re(e,t,o,r,a,null)}Jr(e,n,i,l);return;case"option":for(c in a)a.hasOwnProperty(c)&&(n=a[c],n!=null)&&(c==="selected"?e.selected=n&&typeof n!="function"&&typeof n!="symbol":re(e,t,c,n,a,null));return;case"dialog":K("beforetoggle",e),K("toggle",e),K("cancel",e),K("close",e);break;case"iframe":case"object":K("load",e);break;case"video":case"audio":for(n=0;n<pi.length;n++)K(pi[n],e);break;case"image":K("error",e),K("load",e);break;case"details":K("toggle",e);break;case"embed":case"source":case"link":K("error",e),K("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(g in a)if(a.hasOwnProperty(g)&&(n=a[g],n!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:re(e,t,g,n,a,null)}return;default:if(ss(t)){for(S in a)a.hasOwnProperty(S)&&(n=a[S],n!==void 0&&Zo(e,t,S,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&re(e,t,r,n,a,null))}function Mh(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,o=null,r=null,c=null,g=null,S=null;for(b in a){var N=a[b];if(a.hasOwnProperty(b)&&N!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":c=N;default:n.hasOwnProperty(b)||re(e,t,b,null,n,N)}}for(var y in n){var b=n[y];if(N=a[y],n.hasOwnProperty(y)&&(b!=null||N!=null))switch(y){case"type":l=b;break;case"name":i=b;break;case"checked":g=b;break;case"defaultChecked":S=b;break;case"value":o=b;break;case"defaultValue":r=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(u(137,t));break;default:b!==N&&re(e,t,y,b,n,N)}}is(e,o,r,c,g,S,l,i);return;case"select":b=o=r=y=null;for(l in a)if(c=a[l],a.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":b=c;default:n.hasOwnProperty(l)||re(e,t,l,null,n,c)}for(i in n)if(l=n[i],c=a[i],n.hasOwnProperty(i)&&(l!=null||c!=null))switch(i){case"value":y=l;break;case"defaultValue":r=l;break;case"multiple":o=l;default:l!==c&&re(e,t,i,l,n,c)}t=r,a=o,n=b,y!=null?Wa(e,!!a,y,!1):!!n!=!!a&&(t!=null?Wa(e,!!a,t,!0):Wa(e,!!a,a?[]:"",!1));return;case"textarea":b=y=null;for(r in a)if(i=a[r],a.hasOwnProperty(r)&&i!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:re(e,t,r,null,n,i)}for(o in n)if(i=n[o],l=a[o],n.hasOwnProperty(o)&&(i!=null||l!=null))switch(o){case"value":y=i;break;case"defaultValue":b=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(u(91));break;default:i!==l&&re(e,t,o,i,n,l)}Yr(e,y,b);return;case"option":for(var z in a)y=a[z],a.hasOwnProperty(z)&&y!=null&&!n.hasOwnProperty(z)&&(z==="selected"?e.selected=!1:re(e,t,z,null,n,y));for(c in n)y=n[c],b=a[c],n.hasOwnProperty(c)&&y!==b&&(y!=null||b!=null)&&(c==="selected"?e.selected=y&&typeof y!="function"&&typeof y!="symbol":re(e,t,c,y,n,b));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var U in a)y=a[U],a.hasOwnProperty(U)&&y!=null&&!n.hasOwnProperty(U)&&re(e,t,U,null,n,y);for(g in n)if(y=n[g],b=a[g],n.hasOwnProperty(g)&&y!==b&&(y!=null||b!=null))switch(g){case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(u(137,t));break;default:re(e,t,g,y,n,b)}return;default:if(ss(t)){for(var ce in a)y=a[ce],a.hasOwnProperty(ce)&&y!==void 0&&!n.hasOwnProperty(ce)&&Zo(e,t,ce,void 0,n,y);for(S in n)y=n[S],b=a[S],!n.hasOwnProperty(S)||y===b||y===void 0&&b===void 0||Zo(e,t,S,y,n,b);return}}for(var h in a)y=a[h],a.hasOwnProperty(h)&&y!=null&&!n.hasOwnProperty(h)&&re(e,t,h,null,n,y);for(N in n)y=n[N],b=a[N],!n.hasOwnProperty(N)||y===b||y==null&&b==null||re(e,t,N,y,n,b)}function Qd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dh(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],l=i.transferSize,o=i.initiatorType,r=i.duration;if(l&&r&&Qd(o)){for(o=0,r=i.responseEnd,n+=1;n<a.length;n++){var c=a[n],g=c.startTime;if(g>r)break;var S=c.transferSize,N=c.initiatorType;S&&Qd(N)&&(c=c.responseEnd,o+=S*(c<r?1:(r-g)/(c-g)))}if(--n,t+=8*(l+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ko=null,Io=null;function Cl(e){return e.nodeType===9?e:e.ownerDocument}function Zd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fo=null;function qh(){var e=window.event;return e&&e.type==="popstate"?e===Fo?!1:(Fo=e,!0):(Fo=null,!1)}var Id=typeof setTimeout=="function"?setTimeout:void 0,Gh=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,Uh=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(Lh)}:Id;function Lh(e){setTimeout(function(){throw e})}function ya(e){return e==="head"}function Fd(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),En(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")yi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yi(a);for(var l=a.firstChild;l;){var o=l.nextSibling,r=l.nodeName;l[Dn]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&l.rel.toLowerCase()==="stylesheet"||a.removeChild(l),l=o}}else a==="body"&&yi(e.ownerDocument.body);a=i}while(a);En(t)}function $d(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function $o(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$o(a),as(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Hh(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Dn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=bt(e.nextSibling),e===null)break}return null}function Bh(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=bt(e.nextSibling),e===null))return null;return e}function Pd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=bt(e.nextSibling),e===null))return null;return e}function Po(e){return e.data==="$?"||e.data==="$~"}function er(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Yh(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var tr=null;function em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return bt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function am(e,t,a){switch(t=Cl(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function yi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);as(e)}var vt=new Map,nm=new Set;function zl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wt=O.d;O.d={f:Jh,r:Vh,D:Xh,C:Qh,L:Zh,m:Kh,X:Wh,S:Ih,M:Fh};function Jh(){var e=Wt.f(),t=_l();return e||t}function Vh(e){var t=Za(e);t!==null&&t.tag===5&&t.type==="form"?xu(t):Wt.r(e)}var Nn=typeof document>"u"?null:document;function im(e,t,a){var n=Nn;if(n&&typeof t=="string"&&t){var i=dt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),nm.has(i)||(nm.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Me(t,"link",e),je(t),n.head.appendChild(t)))}}function Xh(e){Wt.D(e),im("dns-prefetch",e,null)}function Qh(e,t){Wt.C(e,t),im("preconnect",e,t)}function Zh(e,t,a){Wt.L(e,t,a);var n=Nn;if(n&&e&&t){var i='link[rel="preload"][as="'+dt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+dt(a.imageSizes)+'"]')):i+='[href="'+dt(e)+'"]';var l=i;switch(t){case"style":l=jn(e);break;case"script":l=Rn(e)}vt.has(l)||(e=q({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),vt.set(l,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(bi(l))||t==="script"&&n.querySelector(vi(l))||(t=n.createElement("link"),Me(t,"link",e),je(t),n.head.appendChild(t)))}}function Kh(e,t){Wt.m(e,t);var a=Nn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+dt(n)+'"][href="'+dt(e)+'"]',l=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Rn(e)}if(!vt.has(l)&&(e=q({rel:"modulepreload",href:e},t),vt.set(l,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vi(l)))return}n=a.createElement("link"),Me(n,"link",e),je(n),a.head.appendChild(n)}}}function Ih(e,t,a){Wt.S(e,t,a);var n=Nn;if(n&&e){var i=Ka(n).hoistableStyles,l=jn(e);t=t||"default";var o=i.get(l);if(!o){var r={loading:0,preload:null};if(o=n.querySelector(bi(l)))r.loading=5;else{e=q({rel:"stylesheet",href:e,"data-precedence":t},a),(a=vt.get(l))&&ar(e,a);var c=o=n.createElement("link");je(c),Me(c,"link",e),c._p=new Promise(function(g,S){c.onload=g,c.onerror=S}),c.addEventListener("load",function(){r.loading|=1}),c.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Ml(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:r},i.set(l,o)}}}function Wh(e,t){Wt.X(e,t);var a=Nn;if(a&&e){var n=Ka(a).hoistableScripts,i=Rn(e),l=n.get(i);l||(l=a.querySelector(vi(i)),l||(e=q({src:e,async:!0},t),(t=vt.get(i))&&nr(e,t),l=a.createElement("script"),je(l),Me(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(i,l))}}function Fh(e,t){Wt.M(e,t);var a=Nn;if(a&&e){var n=Ka(a).hoistableScripts,i=Rn(e),l=n.get(i);l||(l=a.querySelector(vi(i)),l||(e=q({src:e,async:!0,type:"module"},t),(t=vt.get(i))&&nr(e,t),l=a.createElement("script"),je(l),Me(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(i,l))}}function lm(e,t,a,n){var i=(i=Q.current)?zl(i):null;if(!i)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=jn(a.href),a=Ka(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=jn(a.href);var l=Ka(i).hoistableStyles,o=l.get(e);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,o),(l=i.querySelector(bi(e)))&&!l._p&&(o.instance=l,o.state.loading=5),vt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},vt.set(e,a),l||$h(i,e,a,o.state))),t&&n===null)throw Error(u(528,""));return o}if(t&&n!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rn(a),a=Ka(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function jn(e){return'href="'+dt(e)+'"'}function bi(e){return'link[rel="stylesheet"]['+e+"]"}function sm(e){return q({},e,{"data-precedence":e.precedence,precedence:null})}function $h(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Me(t,"link",a),je(t),e.head.appendChild(t))}function Rn(e){return'[src="'+dt(e)+'"]'}function vi(e){return"script[async]"+e}function om(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+dt(a.href)+'"]');if(n)return t.instance=n,je(n),n;var i=q({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),je(n),Me(n,"style",i),Ml(n,a.precedence,e),t.instance=n;case"stylesheet":i=jn(a.href);var l=e.querySelector(bi(i));if(l)return t.state.loading|=4,t.instance=l,je(l),l;n=sm(a),(i=vt.get(i))&&ar(n,i),l=(e.ownerDocument||e).createElement("link"),je(l);var o=l;return o._p=new Promise(function(r,c){o.onload=r,o.onerror=c}),Me(l,"link",n),t.state.loading|=4,Ml(l,a.precedence,e),t.instance=l;case"script":return l=Rn(a.src),(i=e.querySelector(vi(l)))?(t.instance=i,je(i),i):(n=a,(i=vt.get(l))&&(n=q({},a),nr(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),je(i),Me(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Ml(n,a.precedence,e));return t.instance}function Ml(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,l=i,o=0;o<n.length;o++){var r=n[o];if(r.dataset.precedence===t)l=r;else if(l!==i)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ar(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Dl=null;function rm(e,t,a){if(Dl===null){var n=new Map,i=Dl=new Map;i.set(a,n)}else i=Dl,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var l=a[i];if(!(l[Dn]||l[ke]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var o=l.getAttribute(t)||"";o=e+o;var r=n.get(o);r?r.push(l):n.set(o,[l])}}return n}function cm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Ph(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function um(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ep(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var i=jn(n.href),l=t.querySelector(bi(i));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ql.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=l,je(l);return}l=t.ownerDocument||t,n=sm(n),(i=vt.get(i))&&ar(n,i),l=l.createElement("link"),je(l);var o=l;o._p=new Promise(function(r,c){o.onload=r,o.onerror=c}),Me(l,"link",n),a.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ql.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var ir=0;function tp(e,t){return e.stylesheets&&e.count===0&&Ul(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&Ul(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&ir===0&&(ir=62500*Dh());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ul(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>ir?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ul(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gl=null;function Ul(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gl=new Map,t.forEach(ap,e),Gl=null,ql.call(e))}function ap(e,t){if(!(t.state.loading&4)){var a=Gl.get(e);if(a)var n=a.get(null);else{a=new Map,Gl.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<i.length;l++){var o=i[l];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),n=o)}n&&a.set(null,n)}i=t.instance,o=i.getAttribute("data-precedence"),l=a.get(o)||n,l===n&&a.set(null,i),a.set(o,i),this.count++,n=ql.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),l?l.parentNode.insertBefore(i,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var xi={$$typeof:qe,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function np(e,t,a,n,i,l,o,r,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.hiddenUpdates=$l(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function dm(e,t,a,n,i,l,o,r,c,g,S,N){return e=new np(e,t,a,o,c,g,S,N,r),t=1,l===!0&&(t|=24),l=nt(3,null,null,t),e.current=l,l.stateNode=e,t=qs(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:n,isDehydrated:a,cache:t},Hs(l),e}function mm(e){return e?(e=ln,e):ln}function fm(e,t,a,n,i,l){i=mm(i),n.context===null?n.context=i:n.pendingContext=i,n=sa(t),n.payload={element:a},l=l===void 0?null:l,l!==null&&(n.callback=l),a=oa(e,n,t),a!==null&&(Fe(a,e,t),$n(a,e,t))}function hm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function lr(e,t){hm(e,t),(e=e.alternate)&&hm(e,t)}function pm(e){if(e.tag===13||e.tag===31){var t=Oa(e,67108864);t!==null&&Fe(t,e,67108864),lr(e,67108864)}}function gm(e){if(e.tag===13||e.tag===31){var t=rt();t=Pl(t);var a=Oa(e,t);a!==null&&Fe(a,e,t),lr(e,t)}}var Ll=!0;function ip(e,t,a,n){var i=_.T;_.T=null;var l=O.p;try{O.p=2,sr(e,t,a,n)}finally{O.p=l,_.T=i}}function lp(e,t,a,n){var i=_.T;_.T=null;var l=O.p;try{O.p=8,sr(e,t,a,n)}finally{O.p=l,_.T=i}}function sr(e,t,a,n){if(Ll){var i=or(n);if(i===null)Qo(e,t,n,Hl,a),bm(e,n);else if(op(i,e,t,a,n))n.stopPropagation();else if(bm(e,n),t&4&&-1<sp.indexOf(e)){for(;i!==null;){var l=Za(i);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var o=Na(l.pendingLanes);if(o!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;o;){var c=1<<31-tt(o);r.entanglements[1]|=c,o&=~c}kt(l),(te&6)===0&&(wl=Pe()+500,hi(0))}}break;case 31:case 13:r=Oa(l,2),r!==null&&Fe(r,l,2),_l(),lr(l,2)}if(l=or(n),l===null&&Qo(e,t,n,Hl,a),l===i)break;i=l}i!==null&&n.stopPropagation()}else Qo(e,t,n,null,a)}}function or(e){return e=rs(e),rr(e)}var Hl=null;function rr(e){if(Hl=null,e=Qa(e),e!==null){var t=E(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=k(t),e!==null)return e;e=null}else if(a===31){if(e=B(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Hl=e,null}function ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vm()){case Ar:return 2;case Nr:return 8;case Ei:case Xm:return 32;case jr:return 268435456;default:return 32}default:return 32}}var cr=!1,ba=null,va=null,xa=null,Si=new Map,wi=new Map,Sa=[],sp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,t){switch(e){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Ti(e,t,a,n,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Za(t),t!==null&&pm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function op(e,t,a,n,i){switch(t){case"focusin":return ba=Ti(ba,e,t,a,n,i),!0;case"dragenter":return va=Ti(va,e,t,a,n,i),!0;case"mouseover":return xa=Ti(xa,e,t,a,n,i),!0;case"pointerover":var l=i.pointerId;return Si.set(l,Ti(Si.get(l)||null,e,t,a,n,i)),!0;case"gotpointercapture":return l=i.pointerId,wi.set(l,Ti(wi.get(l)||null,e,t,a,n,i)),!0}return!1}function vm(e){var t=Qa(e.target);if(t!==null){var a=E(t);if(a!==null){if(t=a.tag,t===13){if(t=k(a),t!==null){e.blockedOn=t,zr(e.priority,function(){gm(a)});return}}else if(t===31){if(t=B(a),t!==null){e.blockedOn=t,zr(e.priority,function(){gm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=or(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);os=n,a.target.dispatchEvent(n),os=null}else return t=Za(a),t!==null&&pm(t),e.blockedOn=a,!1;t.shift()}return!0}function xm(e,t,a){Bl(e)&&a.delete(t)}function rp(){cr=!1,ba!==null&&Bl(ba)&&(ba=null),va!==null&&Bl(va)&&(va=null),xa!==null&&Bl(xa)&&(xa=null),Si.forEach(xm),wi.forEach(xm)}function Yl(e,t){e.blockedOn===t&&(e.blockedOn=null,cr||(cr=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,rp)))}var Jl=null;function Sm(e){Jl!==e&&(Jl=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Jl===e&&(Jl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(rr(n||a)===null)continue;break}var l=Za(a);l!==null&&(e.splice(t,3),t-=3,so(l,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function En(e){function t(c){return Yl(c,e)}ba!==null&&Yl(ba,e),va!==null&&Yl(va,e),xa!==null&&Yl(xa,e),Si.forEach(t),wi.forEach(t);for(var a=0;a<Sa.length;a++){var n=Sa[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Sa.length&&(a=Sa[0],a.blockedOn===null);)vm(a),a.blockedOn===null&&Sa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],l=a[n+1],o=i[Xe]||null;if(typeof l=="function")o||Sm(a);else if(o){var r=null;if(l&&l.hasAttribute("formAction")){if(i=l,o=l[Xe]||null)r=o.formAction;else if(rr(i)!==null)continue}else r=o.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),Sm(a)}}}function wm(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function ur(e){this._internalRoot=e}Vl.prototype.render=ur.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,n=rt();fm(a,n,e,t,null,null)},Vl.prototype.unmount=ur.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fm(e.current,2,null,e,null,null),_l(),t[Xa]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cr();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Sa.length&&t!==0&&t<Sa[a].priority;a++);Sa.splice(a,0,e),a===0&&vm(e)}};var Tm=w.version;if(Tm!=="19.2.4")throw Error(u(527,Tm,"19.2.4"));O.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=x(t),e=e!==null?L(e):null,e=e===null?null:e.stateNode,e};var cp={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Cn=Xl.inject(cp),et=Xl}catch{}}return Ai.createRoot=function(e,t){if(!v(e))throw Error(u(299));var a=!1,n="",i=ku,l=Ou,o=Cu;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=dm(e,1,!1,null,null,a,n,null,i,l,o,wm),e[Xa]=t.current,Xo(e),new ur(t)},Ai.hydrateRoot=function(e,t,a){if(!v(e))throw Error(u(299));var n=!1,i="",l=ku,o=Ou,r=Cu,c=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(c=a.formState)),t=dm(e,1,!0,t,a??null,n,i,c,l,o,r,wm),t.context=mm(null),a=t.current,n=rt(),n=Pl(n),i=sa(n),i.callback=null,oa(a,i,n),a=n,t.current.lanes=a,Mn(t,a),kt(t),e[Xa]=t.current,Xo(e),new Vl(t)},Ai.version="19.2.4",Ai}var zm;function vp(){if(zm)return fr.exports;zm=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(w){console.error(w)}}return d(),fr.exports=bp(),fr.exports}var xp=vp();const wr=[{part:1,label:"The Big Picture",icon:"",items:[{id:"overview",label:"System Overview",icon:"",color:"text-indigo-400"}]},{part:2,label:"Layer Explorer",icon:"",items:[{id:"frontend",label:"Frontend",icon:"",color:"text-cyan-400"},{id:"tauri-bridge",label:"Tauri Bridge",icon:"",color:"text-amber-400"},{id:"audio",label:"Audio Pipeline",icon:"",color:"text-emerald-400"},{id:"browser",label:"Browser & Extractors",icon:"",color:"text-violet-400"},{id:"intelligence",label:"Intelligence / AI",icon:"",color:"text-rose-400"},{id:"gems",label:"Gems",icon:"",color:"text-yellow-400"}]},{part:3,label:"Data Flows",icon:"",items:[{id:"flow-recording",label:"Recording Flow",icon:"",color:"text-emerald-400"},{id:"flow-browser",label:"Browser Capture Flow",icon:"",color:"text-violet-400"},{id:"flow-gem",label:"Gem Lifecycle",icon:"",color:"text-yellow-400"}]},{part:4,label:"Spec Map",icon:"",items:[{id:"specs",label:"Kiro Specifications",icon:"",color:"text-indigo-400"}]},{part:5,label:"Tech Stack 101",icon:"",items:[{id:"guide-rust",label:"Rust 101",icon:"",color:"text-orange-400"},{id:"guide-tauri",label:"Tauri 101",icon:"",color:"text-teal-400"},{id:"guide-swift",label:"Swift 101",icon:"",color:"text-orange-400"},{id:"guide-react",label:"React + TS 101",icon:"",color:"text-blue-400"},{id:"guide-sqlite",label:"SQLite + FTS5 101",icon:"",color:"text-yellow-400"},{id:"guide-macos",label:"macOS APIs 101",icon:"",color:"text-slate-400"},{id:"guide-spec",label:"Spec-Driven Dev 101",icon:"",color:"text-indigo-400"},{id:"guide-sidecar",label:"Sidecar Pattern 101",icon:"",color:"text-teal-400"}]}],Sp={part:0,section:"home"};function wp({activeView:d,onNavigate:w}){const[T,u]=me.useState(!1),[v,E]=me.useState(new Set([d.part]));function k(R){E(x=>{const L=new Set(x);return L.has(R)?L.delete(R):L.add(R),L})}const B=d.part===0;return s.jsxs("aside",{className:`fixed top-0 left-0 h-screen bg-slate-900/80 backdrop-blur-sm border-r border-slate-800 flex flex-col z-50 transition-sidebar ${T?"w-16":"w-70"}`,children:[s.jsxs("div",{className:`flex items-center border-b border-slate-800 h-14 shrink-0 ${T?"justify-center px-2":"justify-between px-4"}`,children:[!T&&s.jsxs("button",{onClick:()=>w({part:0,section:"home"}),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsx("span",{className:"font-semibold text-sm text-slate-100 tracking-tight",children:"Jarvis Visualizer"})]}),s.jsx("button",{onClick:()=>u(!T),className:"p-1.5 rounded-md hover:bg-slate-800 text-slate-400 hover:text-slate-200 transition-colors",title:T?"Expand sidebar":"Collapse sidebar",children:T?"":""})]}),s.jsxs("nav",{className:"flex-1 overflow-y-auto py-2",children:[s.jsxs("button",{onClick:()=>w({part:0,section:"home"}),className:`w-full flex items-center gap-3 px-4 py-2 text-sm transition-colors ${B?"text-indigo-400 bg-indigo-400/10":"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"} ${T?"justify-center px-2":""}`,children:[s.jsx("span",{className:"text-base shrink-0",children:""}),!T&&s.jsx("span",{children:"Home"})]}),s.jsx("div",{className:"h-px bg-slate-800 my-2"}),wr.map(R=>s.jsx(Tp,{section:R,collapsed:T,expanded:v.has(R.part),activeView:d,onToggle:()=>k(R.part),onNavigate:w},R.part))]}),!T&&s.jsx("div",{className:"border-t border-slate-800 px-4 py-3",children:s.jsx("p",{className:"text-[10px] text-slate-600 leading-tight",children:"Jarvis AWS Architecture"})})]})}function Tp({section:d,collapsed:w,expanded:T,activeView:u,onToggle:v,onNavigate:E}){const k=u.part===d.part,B=d.items.length===1;function R(){B?E({part:d.part,section:d.items[0].id}):v()}return s.jsxs("div",{className:"mb-1",children:[s.jsxs("button",{onClick:R,className:`w-full flex items-center gap-3 px-4 py-2 text-xs font-medium uppercase tracking-wider transition-colors ${k?"text-slate-200":"text-slate-500 hover:text-slate-300"} ${w?"justify-center px-2":""}`,children:[s.jsx("span",{className:"text-base shrink-0",children:d.icon}),!w&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"flex-1 text-left",children:d.label}),!B&&s.jsx("span",{className:`text-[10px] transition-transform duration-200 ${T?"rotate-90":""}`,children:""})]})]}),!w&&T&&!B&&s.jsx("div",{className:"animate-fade-in-left",children:d.items.map(x=>{const L=u.part===d.part&&u.section===x.id;return s.jsxs("button",{onClick:()=>E({part:d.part,section:x.id}),className:`w-full flex items-center gap-2.5 pl-10 pr-4 py-1.5 text-sm transition-colors ${L?`${x.color} bg-white/5`:"text-slate-400 hover:text-slate-200 hover:bg-slate-800/50"}`,children:[s.jsx("span",{className:"text-xs shrink-0",children:x.icon}),s.jsx("span",{className:"truncate",children:x.label})]},x.id)})})]})}function Ta({title:d,icon:w,description:T,color:u="border-slate-700",badge:v,badgeColor:E="text-slate-500",defaultExpanded:k=!1,children:B}){const[R,x]=me.useState(k);return s.jsxs("div",{className:`rounded-lg border ${u} bg-slate-900/50 transition-all`,children:[s.jsxs("button",{onClick:()=>x(!R),className:"w-full flex items-center gap-3 p-3 text-left hover:bg-slate-800/30 transition-colors rounded-lg",children:[w&&s.jsx("span",{className:"text-lg shrink-0",children:w}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"text-sm font-medium text-slate-200 truncate",children:d}),v&&s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full bg-slate-800 font-medium ${E}`,children:v})]}),T&&!R&&s.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:T})]}),s.jsx("span",{className:`text-xs text-slate-600 transition-transform duration-200 shrink-0 ${R?"rotate-90":""}`,children:""})]}),R&&B&&s.jsx("div",{className:"px-3 pb-3 pt-1 border-t border-slate-800/50 animate-fade-in",children:B})]})}function _p(d,w){return d}function Ue({code:d,language:w,caption:T}){const[u,v]=me.useState(!1);function E(){navigator.clipboard.writeText(d).then(()=>{v(!0),setTimeout(()=>v(!1),1500)})}const k=_p(d,w);return s.jsxs("div",{className:"rounded-lg bg-slate-950 border border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-slate-900/60 border-b border-slate-800/50",children:[s.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-medium",children:w??"code"}),s.jsx("button",{onClick:E,className:"text-[10px] text-slate-500 hover:text-slate-300 transition-colors px-1.5 py-0.5 rounded hover:bg-slate-800",children:u?" Copied":"Copy"})]}),s.jsx("pre",{className:"p-3 font-mono text-xs text-slate-300 overflow-x-auto whitespace-pre-wrap leading-relaxed",children:k}),T&&s.jsx("div",{className:"px-3 pb-2",children:s.jsx("p",{className:"text-[11px] text-slate-500 italic",children:T})})]})}function Ae({title:d,description:w}){return s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-base font-semibold text-slate-200",children:d}),w&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:w})]})}function Lm({content:d,children:w}){const[T,u]=me.useState(!1);return s.jsxs("span",{className:"relative inline-block",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[w,T&&s.jsxs("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2.5 py-1.5 rounded-md bg-slate-800 border border-slate-700 text-xs text-slate-300 whitespace-nowrap z-50 animate-fade-in pointer-events-none",children:[d,s.jsx("span",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-px border-4 border-transparent border-t-slate-800"})]})]})}function kn({files:d,color:w="text-slate-400"}){return s.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-800/50",children:[s.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3",children:"Key Files"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(T=>s.jsx(Lm,{content:T.description,children:s.jsx("span",{className:`inline-block font-mono text-xs px-2.5 py-1 rounded-md bg-slate-800/60 border border-slate-700/50 ${w} hover:bg-slate-800 transition-colors cursor-default`,children:T.path})},T.path))})]})}const Ap=[{name:"App",icon:"",description:"Root component  layout, state reducer, conditional rendering",commands:["get_recordings","get_settings"],events:["recording-started","recording-stopped"],file:"src/App.tsx"},{name:"RecordButton",icon:"",description:"Start/stop recording  main user interaction entry point",commands:["start_recording","stop_recording"],events:[],file:"src/components/RecordButton.tsx"},{name:"RecordingsList",icon:"",description:"Lists all recordings with timestamps and durations",commands:["get_recordings"],events:[],file:"src/components/RecordingsList.tsx"},{name:"RecordingRow",icon:"",description:"Single recording entry  play, delete, view transcript",commands:["delete_recording"],events:[],file:"src/components/RecordingRow.tsx"},{name:"AudioPlayer",icon:"",description:"HTML5 audio playback controls",commands:[],events:[],file:"src/components/AudioPlayer.tsx"},{name:"TranscriptDisplay",icon:"",description:"Real-time transcription  partial (gray) + final (white)",commands:[],events:["transcription-update"],file:"src/components/TranscriptDisplay.tsx"},{name:"StatusIndicator",icon:"",description:"Recording status dot  idle/processing/recording",commands:[],events:[],file:"src/components/StatusIndicator.tsx"},{name:"Settings",icon:"",description:"VAD, Vosk, Whisper toggles  engine configuration",commands:["get_settings","update_settings"],events:[],file:"src/components/Settings.tsx"},{name:"ModelList",icon:"",description:"Download and manage Whisper models",commands:["get_available_models","download_model","delete_model"],events:["model-download-progress"],file:"src/components/ModelList.tsx"},{name:"BrowserTool",icon:"",description:"Browser tab listing  capture content from open tabs",commands:["get_browser_tabs","capture_tab"],events:[],file:"src/components/BrowserTool.tsx"},{name:"YouTubeSection",icon:"",description:"YouTube video detection badge and metadata display",commands:["fetch_youtube_gist"],events:["youtube-video-detected"],file:"src/components/YouTubeSection.tsx"},{name:"GemsPanel",icon:"",description:"Knowledge base browser  search, filter, manage gems",commands:["list_gems","search_gems","delete_gem"],events:[],file:"src/components/GemsPanel.tsx"},{name:"PermissionDialog",icon:"",description:"macOS permission prompts for screen recording / accessibility",commands:[],events:[],file:"src/components/PermissionDialog.tsx"},{name:"DeleteConfirmDialog",icon:"",description:"Confirmation modal before destructive actions",commands:[],events:[],file:"src/components/DeleteConfirmDialog.tsx"},{name:"ErrorToast",icon:"",description:"Error notification  auto-dismiss after timeout",commands:[],events:[],file:"src/components/ErrorToast.tsx"}],Np=[{from:"idle",to:"processing",action:"START_RECORDING"},{from:"processing",to:"recording",action:"RECORDING_STARTED"},{from:"recording",to:"processing",action:"STOP_RECORDING"},{from:"processing",to:"idle",action:"RECORDING_STOPPED"}],jp=[{name:"useRecording",description:"Manages recording lifecycle  start, stop, status, current recording",params:"none",returns:"{ isRecording, start, stop, currentRecording }",usedBy:["App","RecordButton"],file:"src/hooks/useRecording.ts"},{name:"useTauriCommand",description:"Generic wrapper around Tauri invoke()  handles loading, error, data",params:"<T>(command: string, args?: object)",returns:"{ data, loading, error, execute }",usedBy:["BrowserTool","GemsPanel","Settings"],file:"src/hooks/useTauriCommand.ts"},{name:"useTauriEvent",description:"Subscribes to Tauri events  auto-cleanup on unmount",params:"<T>(event: string, handler: (payload: T) => void)",returns:"void",usedBy:["TranscriptDisplay","YouTubeSection","ModelList"],file:"src/hooks/useTauriEvent.ts"}];function Rp(){const[d,w]=me.useState("idle"),T={idle:"border-slate-500 bg-slate-500/10 text-slate-300",processing:"border-cyan-500 bg-cyan-500/10 text-cyan-400",recording:"border-red-500 bg-red-500/10 text-red-400"};function u(v){w(v)}return s.jsxs("div",{className:"space-y-10",children:[s.jsxs("section",{children:[s.jsx(Ae,{title:"Component Tree",description:"14 React components  click any to see its Tauri commands and event subscriptions"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:Ap.map(v=>s.jsx(Ta,{title:v.name,icon:v.icon,description:v.description,color:"border-cyan-500/20",children:s.jsxs("div",{className:"space-y-3 text-xs",children:[s.jsx("p",{className:"text-slate-400",children:v.description}),v.commands.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-cyan-500 font-medium",children:"Commands:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.commands.map(E=>s.jsx("span",{className:"font-mono px-1.5 py-0.5 rounded bg-cyan-500/10 text-cyan-300 text-[11px]",children:E},E))})]}),v.events.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-amber-500 font-medium",children:"Listens to:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:v.events.map(E=>s.jsx("span",{className:"font-mono px-1.5 py-0.5 rounded bg-amber-500/10 text-amber-300 text-[11px]",children:E},E))})]}),s.jsx("p",{className:"font-mono text-slate-600",children:v.file})]})},v.name))})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"State Machine",description:"Click a state to simulate transitions  the app uses useReducer with atomic state changes"}),s.jsx("div",{className:"flex items-center justify-center gap-4 flex-wrap py-6",children:["idle","processing","recording"].map(v=>{const E=d===v,k=Np.filter(B=>B.from===v);return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>u(v),className:`px-5 py-3 rounded-xl border-2 font-mono text-sm font-medium transition-all ${E?`${T[v]} scale-110 shadow-lg`:"border-slate-700 bg-slate-900/50 text-slate-500 hover:border-slate-600"}`,children:v}),k.length>0&&v!=="recording"&&s.jsxs("div",{className:"flex items-center gap-1 text-slate-600",children:[s.jsx("span",{className:"text-xs",children:""}),s.jsx("span",{className:"text-[10px] font-mono text-slate-500",children:k[0].action}),s.jsx("span",{className:"text-xs",children:""})]})]},v)})}),s.jsx("div",{className:"text-center mt-2",children:s.jsxs("span",{className:"text-xs text-slate-600",children:["Current: ",s.jsx("span",{className:`font-mono font-medium ${d==="idle"?"text-slate-300":d==="processing"?"text-cyan-400":"text-red-400"}`,children:d})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(Ue,{language:"typescript",code:`// state/reducer.ts
type AppState = {
  status: 'idle' | 'processing' | 'recording'
  recordings: Recording[]
  error: string | null
}

type Action =
  | { type: 'START_RECORDING' }
  | { type: 'RECORDING_STARTED'; recording: Recording }
  | { type: 'STOP_RECORDING' }
  | { type: 'RECORDING_STOPPED' }
  | { type: 'SET_ERROR'; error: string }`})})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"Custom Hooks",description:"Three hooks bridge React components to Tauri's backend"}),s.jsx("div",{className:"space-y-2",children:jp.map(v=>s.jsx(Ta,{title:v.name,icon:"",description:v.description,color:"border-cyan-500/20",badge:v.file.split("/").pop(),badgeColor:"text-cyan-500/60",children:s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsx("p",{className:"text-slate-400",children:v.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 font-medium",children:"Params:"}),s.jsx("p",{className:"font-mono text-cyan-300/80 mt-0.5",children:v.params})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 font-medium",children:"Returns:"}),s.jsx("p",{className:"font-mono text-cyan-300/80 mt-0.5",children:v.returns})]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500 font-medium",children:"Used by:"}),s.jsx("div",{className:"flex gap-1 mt-1",children:v.usedBy.map(E=>s.jsx("span",{className:"px-1.5 py-0.5 rounded bg-slate-800 text-slate-300 text-[11px]",children:E},E))})]})]})},v.name))})]}),s.jsx(kn,{color:"text-cyan-400",files:[{path:"src/App.tsx",description:"Root component  state reducer, conditional rendering, layout"},{path:"src/state/reducer.ts",description:"State machine  atomic transitions between idle/processing/recording"},{path:"src/state/types.ts",description:"TypeScript types mirroring Rust structs"},{path:"src/hooks/useRecording.ts",description:"Recording lifecycle hook  start, stop, status"},{path:"src/hooks/useTauriCommand.ts",description:"Generic Tauri invoke() wrapper"},{path:"src/hooks/useTauriEvent.ts",description:"Tauri event listener with auto-cleanup"},{path:"src/App.css",description:"35KB monolithic CSS  component-specific sections"}]})]})}const yr=[{category:"Recording",color:"text-emerald-400",commands:[{name:"start_recording",params:"()",returns:"Result<(), String>",caller:"RecordButton",snippet:`#[tauri::command]
async fn start_recording(
    rec: State<'_, Mutex<RecordingManager>>,
    app: AppHandle,
) -> Result<(), String> {
    let mut mgr = rec.lock().unwrap();
    mgr.start(&app).map_err(|e| e.to_string())
}`},{name:"stop_recording",params:"()",returns:"Result<Recording, String>",caller:"RecordButton",snippet:`#[tauri::command]
async fn stop_recording(
    rec: State<'_, Mutex<RecordingManager>>,
) -> Result<Recording, String> { ... }`},{name:"get_recordings",params:"()",returns:"Result<Vec<Recording>, String>",caller:"App",snippet:`#[tauri::command]
fn get_recordings(
    files: State<'_, FileManager>,
) -> Result<Vec<Recording>, String> { ... }`},{name:"delete_recording",params:"(id: String)",returns:"Result<(), String>",caller:"RecordingRow",snippet:`#[tauri::command]
fn delete_recording(
    id: String,
    files: State<'_, FileManager>,
) -> Result<(), String> { ... }`}]},{category:"Browser",color:"text-violet-400",commands:[{name:"get_browser_tabs",params:"()",returns:"Result<Vec<BrowserTab>, String>",caller:"BrowserTool",snippet:`#[tauri::command]
async fn get_browser_tabs() -> Result<Vec<BrowserTab>, String> {
    let adapter = ChromeAdapter::new();
    adapter.get_tabs().await
}`},{name:"capture_tab",params:"(url: String)",returns:"Result<PageGist, String>",caller:"BrowserTool",snippet:`#[tauri::command]
async fn capture_tab(url: String) -> Result<PageGist, String> {
    let gist = extractors::extract(&url).await?;
    Ok(gist)
}`},{name:"fetch_youtube_gist",params:"(url: String)",returns:"Result<YouTubeGist, String>",caller:"YouTubeSection",snippet:`#[tauri::command]
async fn fetch_youtube_gist(url: String) -> Result<YouTubeGist, String> { ... }`},{name:"start_browser_observer",params:"()",returns:"Result<(), String>",caller:"App (on mount)",snippet:`#[tauri::command]
async fn start_browser_observer(
    observer: State<'_, Arc<tokio::sync::Mutex<BrowserObserver>>>,
    app: AppHandle,
) -> Result<(), String> { ... }`}]},{category:"Gems",color:"text-yellow-400",commands:[{name:"save_gem",params:"(gem: GemInput)",returns:"Result<Gem, String>",caller:"BrowserTool",snippet:`#[tauri::command]
async fn save_gem(
    input: GemInput,
    store: State<'_, Arc<dyn GemStore>>,
    intel: State<'_, Arc<dyn IntelProvider>>,
) -> Result<Gem, String> { ... }`},{name:"list_gems",params:"(limit: u32, offset: u32)",returns:"Result<Vec<Gem>, String>",caller:"GemsPanel",snippet:`#[tauri::command]
async fn list_gems(
    limit: u32, offset: u32,
    store: State<'_, Arc<dyn GemStore>>,
) -> Result<Vec<Gem>, String> { ... }`},{name:"search_gems",params:"(query: String)",returns:"Result<Vec<Gem>, String>",caller:"GemsPanel",snippet:`#[tauri::command]
async fn search_gems(
    query: String,
    store: State<'_, Arc<dyn GemStore>>,
) -> Result<Vec<Gem>, String> { ... }`},{name:"delete_gem",params:"(id: String)",returns:"Result<(), String>",caller:"GemsPanel",snippet:`#[tauri::command]
async fn delete_gem(
    id: String,
    store: State<'_, Arc<dyn GemStore>>,
) -> Result<(), String> { ... }`}]},{category:"Settings",color:"text-slate-400",commands:[{name:"get_settings",params:"()",returns:"Result<Settings, String>",caller:"Settings",snippet:`#[tauri::command]
fn get_settings(
    mgr: State<'_, Arc<RwLock<SettingsManager>>>,
) -> Result<Settings, String> { ... }`},{name:"update_settings",params:"(settings: Settings)",returns:"Result<(), String>",caller:"Settings",snippet:`#[tauri::command]
fn update_settings(
    settings: Settings,
    mgr: State<'_, Arc<RwLock<SettingsManager>>>,
) -> Result<(), String> { ... }`}]},{category:"Intelligence",color:"text-rose-400",commands:[{name:"check_intelligence",params:"()",returns:"Result<bool, String>",caller:"App",snippet:`#[tauri::command]
async fn check_intelligence(
    intel: State<'_, Arc<dyn IntelProvider>>,
) -> Result<bool, String> {
    intel.check_availability().await
}`},{name:"enrich_gem",params:"(id: String)",returns:"Result<Gem, String>",caller:"GemsPanel",snippet:`#[tauri::command]
async fn enrich_gem(
    id: String,
    store: State<'_, Arc<dyn GemStore>>,
    intel: State<'_, Arc<dyn IntelProvider>>,
) -> Result<Gem, String> { ... }`}]},{category:"Models",color:"text-blue-400",commands:[{name:"get_available_models",params:"()",returns:"Result<Vec<Model>, String>",caller:"ModelList",snippet:`#[tauri::command]
async fn get_available_models(
    mgr: State<'_, Arc<ModelManager>>,
) -> Result<Vec<Model>, String> { ... }`},{name:"download_model",params:"(name: String)",returns:"Result<(), String>",caller:"ModelList",snippet:`#[tauri::command]
async fn download_model(
    name: String,
    mgr: State<'_, Arc<ModelManager>>,
    app: AppHandle,
) -> Result<(), String> { ... }`}]}],Ep=[{name:"recording-started",emitter:"recording.rs",listener:"App",payload:"Recording",direction:"Backend  Frontend"},{name:"recording-stopped",emitter:"recording.rs",listener:"App",payload:"()",direction:"Backend  Frontend"},{name:"transcription-update",emitter:"transcription/manager.rs",listener:"TranscriptDisplay",payload:"TranscriptSegment",direction:"Backend  Frontend"},{name:"youtube-video-detected",emitter:"browser/observer.rs",listener:"YouTubeSection",payload:"YouTubeGist",direction:"Backend  Frontend"},{name:"model-download-progress",emitter:"settings/model_manager.rs",listener:"ModelList",payload:"{ name, progress, total }",direction:"Backend  Frontend"}],kp=[{name:"FileManager",lockType:"Direct",typeSignature:"FileManager",accessedBy:["get_recordings","delete_recording"],color:"border-slate-600"},{name:"RecordingManager",lockType:"Mutex",typeSignature:"Mutex<RecordingManager>",accessedBy:["start_recording","stop_recording"],color:"border-emerald-500/30"},{name:"TranscriptionManager",lockType:"tokio::Mutex",typeSignature:"tokio::sync::Mutex<TranscriptionManager>",accessedBy:["start_recording","stop_recording"],color:"border-emerald-500/30"},{name:"GemStore",lockType:"Arc<dyn Trait>",typeSignature:"Arc<dyn GemStore>",accessedBy:["save_gem","list_gems","search_gems","delete_gem"],color:"border-yellow-500/30"},{name:"IntelProvider",lockType:"Arc<dyn Trait>",typeSignature:"Arc<dyn IntelProvider>",accessedBy:["check_intelligence","enrich_gem","save_gem"],color:"border-rose-500/30"},{name:"SettingsManager",lockType:"Arc<RwLock>",typeSignature:"Arc<RwLock<SettingsManager>>",accessedBy:["get_settings","update_settings"],color:"border-slate-500/30"},{name:"ModelManager",lockType:"Arc",typeSignature:"Arc<ModelManager>",accessedBy:["get_available_models","download_model","delete_model"],color:"border-blue-500/30"},{name:"BrowserObserver",lockType:"Arc<tokio::Mutex>",typeSignature:"Arc<tokio::sync::Mutex<BrowserObserver>>",accessedBy:["start_browser_observer","stop_browser_observer"],color:"border-violet-500/30"}];function Op(){const[d,w]=me.useState(yr[0].category),T=yr.find(u=>u.category===d);return s.jsxs("div",{className:"space-y-10",children:[s.jsxs("section",{children:[s.jsx(Ae,{title:"Command Catalog",description:"37 Tauri commands  grouped by subsystem, click any to see its signature and code"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:yr.map(u=>s.jsxs("button",{onClick:()=>w(u.category),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${d===u.category?`${u.color} bg-white/5`:"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[u.category,s.jsx("span",{className:"ml-1 text-slate-600",children:u.commands.length})]},u.category))}),T&&s.jsx("div",{className:"space-y-2 animate-fade-in",children:T.commands.map(u=>s.jsx(Ta,{title:u.name,icon:"",description:`${u.params}  ${u.returns}`,color:"border-amber-500/20",badge:u.caller,badgeColor:"text-amber-500/60",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Params:"}),s.jsx("p",{className:"font-mono text-amber-300/80 mt-0.5",children:u.params})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Returns:"}),s.jsx("p",{className:"font-mono text-amber-300/80 mt-0.5",children:u.returns})]})]}),s.jsx(Ue,{code:u.snippet,language:"rust"})]})},u.name))})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"Event System",description:"Backend emits events, frontend listens  all events flow from Rust to React via Tauri"}),s.jsx("div",{className:"space-y-1.5",children:Ep.map(u=>s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2.5 rounded-lg bg-slate-900/40 border border-slate-800/50 text-xs group hover:bg-slate-800/40 transition-colors",children:[s.jsx("span",{className:"font-mono text-amber-400 font-medium min-w-48",children:u.name}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 flex-1",children:[s.jsx("span",{className:"font-mono text-slate-400",children:u.emitter}),s.jsx("span",{className:"text-amber-500/60 animate-pulse",children:""}),s.jsx("span",{className:"font-mono text-slate-400",children:u.listener})]}),s.jsx("span",{className:"font-mono text-slate-600 hidden group-hover:inline",children:u.payload})]},u.name))})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"State Management",description:"8 managed state objects  each with a specific concurrency strategy"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:kp.map(u=>s.jsx(Ta,{title:u.name,icon:"",description:u.typeSignature,color:u.color,badge:u.lockType,badgeColor:"text-amber-400/70",children:s.jsxs("div",{className:"text-xs space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Type:"}),s.jsx("p",{className:"font-mono text-amber-300/70 mt-0.5",children:u.typeSignature})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-500",children:"Accessed by:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:u.accessedBy.map(v=>s.jsx("span",{className:"font-mono px-1.5 py-0.5 rounded bg-amber-500/10 text-amber-300/70 text-[11px]",children:v},v))})]})]})},u.name))})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"Plugin Registry",description:"Tauri v2 plugins configured in lib.rs"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{name:"tauri-plugin-shell",purpose:"Sidecar process management"},{name:"tauri-plugin-global-shortcut",purpose:"Cmd+Shift+R to record"},{name:"tauri-plugin-notification",purpose:"Native macOS notifications"},{name:"tauri-plugin-opener",purpose:"Open URLs in default browser"}].map(u=>s.jsxs("div",{className:"px-3 py-2 rounded-lg bg-slate-900/40 border border-slate-800/50 text-xs",children:[s.jsx("span",{className:"font-mono text-amber-400",children:u.name}),s.jsx("p",{className:"text-slate-500 mt-0.5",children:u.purpose})]},u.name))})]}),s.jsx(kn,{color:"text-amber-400",files:[{path:"src-tauri/src/commands.rs",description:"58KB  all 37 Tauri command handlers"},{path:"src-tauri/src/lib.rs",description:"App builder  plugin init, state management, command registration"},{path:"src-tauri/tauri.conf.json",description:"Window config, external binaries, permissions"}]})]})}const Mm=[{name:"JarvisListen",icon:"",tech:"Swift  ScreenCaptureKit",description:"macOS sidecar that captures system audio + microphone. Outputs raw PCM to a file via --output flag.",details:"Runs as an external binary spawned by Tauri. Captures at 16kHz, 16-bit signed integer, mono. Writes directly to ~/.jarvis/recordings/",color:"border-emerald-500/30"},{name:"PCM File",icon:"",tech:"16kHz  16-bit  Mono",description:"Raw audio stored at ~/.jarvis/recordings/<timestamp>.pcm  growing file during recording.",details:"File grows in real-time as JarvisListen appends audio data. RecordingManager tracks the file path.",color:"border-emerald-500/20"},{name:"FIFO Pipe",icon:"",tech:"Named pipe (mkfifo)",description:"Named pipe bridges the PCM file to the transcription pipeline  AudioRouter tails the PCM and writes to FIFO.",details:"Created by RecordingManager, read by TranscriptionManager. Solves the producer-consumer coordination problem.",color:"border-emerald-500/20"},{name:"AudioRouter",icon:"",tech:"Rust  mpsc channel",description:"Tails the PCM file, chunks audio into windows, sends via mpsc channel to TranscriptionManager.",details:"Reads in 3-second windows with 0.5s overlap. Runs in a background tokio task.",color:"border-emerald-500/20"},{name:"TranscriptionManager",icon:"",tech:"Rust  tokio::sync::Mutex",description:"Orchestrates the hybrid transcription pipeline  distributes audio to VAD, Vosk, and Whisper.",details:"Manages provider lifecycle, emits transcription-update events to frontend in real-time.",color:"border-emerald-500/30"}],Cp=[{name:"Silero VAD",icon:"",purpose:"Voice Activity Detection",timing:"~instant",description:"Detects whether audio contains speech. Gates the transcription pipeline  no speech = no processing.",tech:"ONNX Runtime (ort crate)",color:"text-emerald-400"},{name:"Vosk",icon:"",purpose:"Fast partial transcription",timing:"~instant",description:"Produces immediate, rough transcription (shown as gray text in UI). Good enough for real-time feedback.",tech:"libvosk.dylib (bundled as macOS framework)",color:"text-slate-400"},{name:"Whisper",icon:"",purpose:"High-quality final transcription",timing:"~2-5s",description:"Produces accurate, final transcription (replaces gray Vosk text). Runs after VAD confirms speech.",tech:"whisper.cpp (whisper-rs crate)",color:"text-white"}];function zp(){const[d,w]=me.useState(null);return s.jsxs("div",{className:"space-y-10",children:[s.jsxs("section",{children:[s.jsx(Ae,{title:"Audio Pipeline",description:"5-stage pipeline from microphone to transcription  click any stage to see its internals"}),s.jsx("div",{className:"flex items-stretch gap-1 overflow-x-auto pb-2",children:Mm.map((T,u)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ta,{title:T.name,icon:T.icon,description:T.tech,color:T.color,children:s.jsxs("div",{className:"text-xs space-y-2",children:[s.jsx("p",{className:"text-slate-400",children:T.description}),s.jsx("p",{className:"text-slate-500",children:T.details})]})}),u<Mm.length-1&&s.jsxs("div",{className:"flex items-center px-1 shrink-0",children:[s.jsx("div",{className:"w-6 h-px bg-emerald-500/30"}),s.jsx("span",{className:"text-emerald-500/50 text-xs",children:""})]})]},T.name))})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"Hybrid Transcription",description:"Three engines work together  VAD gates, Vosk gives instant feedback, Whisper delivers accuracy"}),s.jsxs("div",{className:"mb-6 p-3 rounded-lg bg-emerald-500/5 border border-emerald-500/20 flex flex-wrap gap-6 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-emerald-400 font-medium",children:"Sample Rate:"})," ",s.jsx("span",{className:"text-slate-300 font-mono",children:"16,000 Hz"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-emerald-400 font-medium",children:"Bit Depth:"})," ",s.jsx("span",{className:"text-slate-300 font-mono",children:"16-bit signed int"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-emerald-400 font-medium",children:"Channels:"})," ",s.jsx("span",{className:"text-slate-300 font-mono",children:"Mono"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-emerald-400 font-medium",children:"Window:"})," ",s.jsx("span",{className:"text-slate-300 font-mono",children:"3s (0.5s overlap)"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Cp.map(T=>s.jsxs("button",{onClick:()=>w(d===T.name?null:T.name),className:`text-left p-4 rounded-xl border transition-all ${d===T.name?"border-emerald-500/40 bg-emerald-500/5 scale-[1.02]":"border-slate-800 bg-slate-900/40 hover:border-slate-700"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-xl",children:T.icon}),s.jsx("span",{className:`font-semibold text-sm ${T.color}`,children:T.name})]}),s.jsx("p",{className:"text-xs text-slate-500 mb-2",children:T.purpose}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-slate-800 font-mono text-emerald-400",children:T.timing}),s.jsx("span",{className:"text-[10px] text-slate-600",children:T.tech})]}),d===T.name&&s.jsx("p",{className:"text-xs text-slate-400 mt-3 animate-fade-in",children:T.description})]},T.name))}),s.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-slate-900/40 border border-slate-800/50",children:[s.jsx("p",{className:"text-xs text-slate-500 mb-3 font-medium",children:"Transcription Flow"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs font-mono flex-wrap",children:[s.jsx("span",{className:"px-2 py-1 rounded bg-emerald-500/10 text-emerald-400",children:"Audio chunk"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"px-2 py-1 rounded bg-emerald-500/10 text-emerald-300",children:"Silero VAD"}),s.jsx("span",{className:"text-slate-600",children:" speech?"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 rounded bg-slate-800 text-slate-400",children:"Vosk"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"px-2 py-1 rounded bg-slate-800 text-slate-500 italic",children:"partial (gray)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"px-2 py-1 rounded bg-slate-800 text-white",children:"Whisper"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"px-2 py-1 rounded bg-slate-800 text-white",children:"final (white)"})]})]})]})]})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"The Stdout Corruption Bug",description:"Why JarvisListen writes to a file instead of stdout"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 rounded-lg border border-red-500/20 bg-red-500/5",children:[s.jsx("p",{className:"text-xs text-red-400 font-medium mb-2",children:"Before (broken)"}),s.jsxs("p",{className:"text-xs text-slate-400 mb-3",children:["JarvisListen wrote PCM to stdout. Tauri's shell plugin splits stdout on ",s.jsx("code",{className:"text-red-300",children:"\\n"})," bytes (0x0A). PCM audio naturally contains 0x0A bytes  so binary data got corrupted."]}),s.jsx(Ue,{language:"swift",code:"// PCM data contains 0x0A bytes\\n// Tauri splits on \\\\n  corrupted audio\\nFileHandle.standardOutput.write(pcmData)"})]}),s.jsxs("div",{className:"p-4 rounded-lg border border-emerald-500/20 bg-emerald-500/5",children:[s.jsx("p",{className:"text-xs text-emerald-400 font-medium mb-2",children:"After (fixed)"}),s.jsxs("p",{className:"text-xs text-slate-400 mb-3",children:["JarvisListen writes PCM to a file via ",s.jsx("code",{className:"text-emerald-300",children:"--output"})," flag. No stdout involvement  binary data stays intact."]}),s.jsx(Ue,{language:"swift",code:"// Write directly to file\\n// --output ~/.jarvis/recordings/file.pcm\\nlet handle = FileHandle(forWritingAtPath: path)\\nhandle.write(pcmData)"})]})]})]}),s.jsx(kn,{color:"text-emerald-400",files:[{path:"src-tauri/src/recording.rs",description:"Recording lifecycle  spawn sidecar, manage files, create FIFO"},{path:"src-tauri/src/transcription/manager.rs",description:"Orchestrates hybrid pipeline  distributes audio to providers"},{path:"src-tauri/src/transcription/hybrid_provider.rs",description:"VAD  Vosk  Whisper coordination logic"},{path:"src-tauri/src/transcription/audio_router.rs",description:"Tails PCM file, chunks audio, sends via mpsc"},{path:"src-tauri/src/transcription/vad.rs",description:"Silero VAD  voice activity detection via ONNX runtime"},{path:"jarvis-listen/",description:"Swift CLI  ScreenCaptureKit audio capture"}]})]})}const br=[{name:"YouTube",icon:"",domain:"youtube.com, youtu.be",description:"Scrapes ytInitialPlayerResponse for video metadata",fields:["title","author (channel)","description","duration","image_url (thumbnail)"],extraJson:`{
  "channel_id": "UC...",
  "view_count": "1234567",
  "duration_seconds": 842,
  "keywords": ["rust", "tauri"]
}`,file:"browser/extractors/youtube.rs"},{name:"Medium",icon:"",domain:"medium.com, *.medium.com",description:"Extracts article content via Chrome adapter get_tab_html()",fields:["title","author","description (subtitle)","content_excerpt","published_date"],extraJson:`{
  "read_time": "5 min read",
  "claps": 1234,
  "publication": "Towards Data Science"
}`,file:"browser/extractors/medium.rs"},{name:"Gmail",icon:"",domain:"mail.google.com",description:"Extracts email subject, sender, and body from Gmail UI",fields:["title (subject)","author (sender)","content_excerpt (body preview)"],extraJson:`{
  "sender_email": "user@example.com",
  "thread_id": "abc123",
  "labels": ["inbox", "important"]
}`,file:"browser/extractors/gmail.rs"},{name:"ChatGPT",icon:"",domain:"chatgpt.com",description:"Extracts conversation history from ChatGPT web UI",fields:["title (conversation name)","content_excerpt (last messages)"],extraJson:`{
  "model": "gpt-4",
  "message_count": 12,
  "conversation_id": "abc-123"
}`,file:"browser/extractors/chatgpt.rs"},{name:"Claude Extension",icon:"",domain:"Chrome Extension side panel",description:"Reads Claude Chrome Extension via macOS Accessibility API (AXUIElement)",fields:["title","content_excerpt (conversation)"],extraJson:`{
  "extraction_method": "accessibility_api",
  "panel_type": "side_panel"
}`,file:"browser/extractors/claude_extension.rs"},{name:"Generic",icon:"",domain:"* (fallback)",description:"Falls back for any unrecognized domain  extracts basic page metadata",fields:["title","description (meta tag)","content_excerpt"],extraJson:"{}",file:"browser/extractors/generic.rs"}],Dm=[{label:"Poll Chrome",detail:'AppleScript: tell application "Google Chrome" to get URL of active tab'},{label:"Classify URL",detail:"Match domain against extractor registry"},{label:"Detect Change",detail:"Compare with previous URL  deduplicate by video ID"},{label:"Emit Event",detail:"youtube-video-detected  frontend notification badge"},{label:"Wait 3s",detail:"tokio::time::sleep(Duration::from_secs(3))"}];function Mp(){const[d,w]=me.useState(br[0].name),[T,u]=me.useState(0),v=br.find(E=>E.name===d);return s.jsxs("div",{className:"space-y-10",children:[s.jsxs("section",{children:[s.jsx(Ae,{title:"Browser Observer",description:"Background polling loop  detects when you open a YouTube video in Chrome"}),s.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:Dm.map((E,k)=>s.jsx("button",{onClick:()=>u(k),className:`shrink-0 px-4 py-3 rounded-xl border text-xs transition-all ${T===k?"border-violet-500/40 bg-violet-500/10 text-violet-300 scale-105":"border-slate-800 bg-slate-900/40 text-slate-500 hover:border-slate-700"}`,children:s.jsx("p",{className:"font-medium",children:E.label})},E.label))}),s.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-slate-900/40 border border-slate-800/50 text-xs text-slate-400 animate-fade-in min-h-12",children:[s.jsxs("span",{className:"text-violet-400 font-medium",children:["Step ",T+1,":"]})," ",Dm[T].detail]}),s.jsx("div",{className:"mt-3",children:s.jsx(Ue,{language:"rust",code:`// browser/observer.rs
loop {
    let url = chrome_adapter.get_active_tab_url().await?;
    if is_youtube(&url) {
        let video_id = extract_video_id(&url);
        if !seen_ids.contains(&video_id) {
            seen_ids.insert(video_id);
            app.emit("youtube-video-detected", &gist)?;
        }
    }
    tokio::time::sleep(Duration::from_secs(3)).await;
}`})})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"Extractor Router",description:"6 specialized extractors  domain-based routing with PageGist unified output"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:br.map(E=>s.jsxs("button",{onClick:()=>w(E.name),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${d===E.name?"text-violet-300 bg-violet-500/10":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[s.jsx("span",{children:E.icon}),s.jsx("span",{children:E.name})]},E.name))}),s.jsxs("div",{className:"animate-fade-in p-4 rounded-xl border border-violet-500/20 bg-violet-500/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("span",{className:"text-2xl",children:v.icon}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-sm font-semibold text-violet-300",children:[v.name," Extractor"]}),s.jsx("p",{className:"text-[11px] font-mono text-slate-500",children:v.domain})]})]}),s.jsx("p",{className:"text-xs text-slate-400 mb-4",children:v.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-medium mb-2",children:"PageGist fields populated"}),s.jsx("div",{className:"space-y-1",children:v.fields.map(E=>s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0"}),s.jsx("span",{className:"text-slate-300 font-mono",children:E})]},E))})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-medium mb-2",children:"extra: serde_json::Value"}),s.jsx(Ue,{code:v.extraJson,language:"json"})]})]}),s.jsx("p",{className:"text-[11px] font-mono text-slate-600 mt-3",children:v.file})]})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"PageGist  Unified Type",description:"All extractors output the same struct  the universal language of captured content"}),s.jsx(Ta,{title:"PageGist",icon:"",color:"border-violet-500/20",defaultExpanded:!0,children:s.jsx(Ue,{language:"rust",code:`pub struct PageGist {
    pub url: String,                      // Required  source URL
    pub title: String,                    // Required  page/video/email title
    pub source_type: SourceType,          // YouTube | Article | Chat | Email | Extension | Generic
    pub domain: String,                   // "youtube.com", "medium.com", etc.
    pub author: Option<String>,           // Channel, writer, sender
    pub description: Option<String>,      // Subtitle, meta description
    pub content_excerpt: Option<String>,  // First ~500 chars of content
    pub published_date: Option<String>,   // ISO 8601 if available
    pub image_url: Option<String>,        // Thumbnail, og:image
    pub extra: serde_json::Value,         // Extractor-specific metadata
}`})})]}),s.jsx(kn,{color:"text-violet-400",files:[{path:"src-tauri/src/browser/observer.rs",description:"Background polling  Chrome active tab detection"},{path:"src-tauri/src/browser/tabs.rs",description:"Tab enumeration and SourceType classification"},{path:"src-tauri/src/browser/extractors/mod.rs",description:"Extractor router  domain  extractor mapping"},{path:"src-tauri/src/browser/extractors/youtube.rs",description:"YouTube scraper  ytInitialPlayerResponse parsing"},{path:"src-tauri/src/browser/extractors/claude_extension.rs",description:"macOS Accessibility API extraction"},{path:"src-tauri/src/browser/adapters/chrome.rs",description:"Chrome AppleScript adapter"}]})]})}const Ni=[{name:"check-availability",description:"Verify Apple Intelligence is enabled on this Mac",request:'{"command":"check-availability"}',response:'{"ok":true,"available":true}'},{name:"open-session",description:"Start a new inference session with the 3B model",request:'{"command":"open-session"}',response:'{"ok":true,"session_id":"550e8400-e29b-41d4-a716-446655440000"}'},{name:"message (tags)",description:"Generate 3-5 topic tags from content",request:'{"command":"message","session_id":"550e8400-...","prompt":"Generate 3-5 topic tags for this content.","content":"Article about Rust ownership...","output_format":"string_list"}',response:'{"ok":true,"result":["rust","ownership","memory-safety","systems-programming"]}'},{name:"message (summary)",description:"Generate a one-sentence summary",request:'{"command":"message","session_id":"550e8400-...","prompt":"Summarize in one sentence.","content":"Article about Rust ownership...","output_format":"text"}',response:`{"ok":true,"result":"This article explains how Rust's ownership model ensures memory safety without garbage collection."}`},{name:"close-session",description:"End the inference session and free resources",request:'{"command":"close-session","session_id":"550e8400-..."}',response:'{"ok":true}'}],Dp=[{name:"IntelligenceKitProvider",status:"active",description:"Spawns IntelligenceKit Swift sidecar, communicates via NDJSON over stdin/stdout",tech:"Apple Foundation Models  3B parameter  on-device",requirements:"macOS 26+, Apple Silicon, Apple Intelligence enabled",color:"border-rose-500/40 bg-rose-500/5",textColor:"text-rose-400"},{name:"NoOpProvider",status:"fallback",description:'Returns "unavailable" for all operations  used when AI is not available',tech:"No dependencies",requirements:"Always available (it does nothing)",color:"border-slate-600 bg-slate-800/30",textColor:"text-slate-400"},{name:"MLXProvider",status:"planned",description:"Python MLX sidecar for local LLM inference  Qwen 3 (4B/8B), Llama 3.2 (3B)",tech:"Python  MLX  Apple Silicon GPU",requirements:"macOS, Apple Silicon, Python 3.11+",color:"border-slate-700 bg-slate-900/30",textColor:"text-slate-500"}];function qp(){const[d,w]=me.useState(0),[T,u]=me.useState(!0);return s.jsxs("div",{className:"space-y-10",children:[s.jsxs("section",{children:[s.jsx(Ae,{title:"Provider Architecture",description:"trait IntelProvider  swappable implementations with graceful fallback"}),s.jsx("div",{className:"mb-4",children:s.jsx(Ue,{language:"rust",code:`// intelligence/provider.rs
#[async_trait]
pub trait IntelProvider: Send + Sync {
    async fn check_availability(&self) -> Result<bool, String>;
    async fn generate_tags(&self, content: &str) -> Result<Vec<String>, String>;
    async fn summarize(&self, content: &str) -> Result<String, String>;
}`})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Dp.map(v=>s.jsxs("div",{className:`p-4 rounded-xl border ${v.color} transition-all`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:`text-sm font-semibold ${v.textColor}`,children:v.name}),s.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded-full border ${v.status==="active"?"border-rose-500/30 text-rose-400 bg-rose-500/10":(v.status==="planned","border-slate-600 text-slate-500 bg-slate-800")}`,children:v.status})]}),s.jsx("p",{className:"text-xs text-slate-400 mb-3",children:v.description}),s.jsxs("p",{className:"text-[11px] text-slate-500",children:[s.jsx("span",{className:"text-slate-600",children:"Tech:"})," ",v.tech]}),s.jsxs("p",{className:"text-[11px] text-slate-500 mt-1",children:[s.jsx("span",{className:"text-slate-600",children:"Requires:"})," ",v.requirements]})]},v.name))})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"NDJSON Protocol",description:"Step through the request/response cycle  click each command to see the JSON exchange"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:Ni.map((v,E)=>s.jsx("button",{onClick:()=>w(E),className:`px-3 py-1.5 rounded-lg text-xs font-mono transition-colors ${d===E?"text-rose-300 bg-rose-500/10":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:v.name},v.name))}),s.jsxs("div",{className:"animate-fade-in space-y-3",children:[s.jsx("p",{className:"text-xs text-slate-400",children:Ni[d].description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-rose-400 uppercase tracking-wider font-medium mb-1.5",children:"Request (stdin )"}),s.jsx(Ue,{code:Ni[d].request,language:"json"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-emerald-400 uppercase tracking-wider font-medium mb-1.5",children:"Response ( stdout)"}),s.jsx(Ue,{code:Ni[d].response,language:"json"})]})]})]}),s.jsx("div",{className:"flex items-center justify-center gap-1 mt-4",children:Ni.map((v,E)=>s.jsx("button",{onClick:()=>w(E),className:`w-2 h-2 rounded-full transition-colors ${d===E?"bg-rose-400":"bg-slate-700 hover:bg-slate-600"}`},E))})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"Graceful Degradation",description:"Toggle AI availability  see how the system adapts"}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("button",{onClick:()=>u(!T),className:`relative w-12 h-6 rounded-full transition-colors ${T?"bg-rose-500":"bg-slate-700"}`,children:s.jsx("span",{className:`absolute top-0.5 w-5 h-5 rounded-full bg-white transition-transform ${T?"left-6":"left-0.5"}`})}),s.jsxs("span",{className:`text-sm font-medium ${T?"text-rose-400":"text-slate-500"}`,children:["Apple Intelligence ",T?"Enabled":"Disabled"]})]}),s.jsx("div",{className:`p-4 rounded-xl border transition-all ${T?"border-rose-500/20 bg-rose-500/5":"border-slate-700 bg-slate-800/30"}`,children:T?s.jsxs("div",{className:"space-y-2 text-xs animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400"}),s.jsx("span",{className:"text-slate-300",children:"IntelligenceKitProvider active"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400"}),s.jsx("span",{className:"text-slate-300",children:"Gems auto-enriched on save (tags + summary)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400"}),s.jsx("span",{className:"text-slate-300",children:"Manual enrich button available in GemsPanel"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-400"}),s.jsx("span",{className:"text-slate-300",children:"ai_enrichment JSON populated in gem records"})]})]}):s.jsxs("div",{className:"space-y-2 text-xs animate-fade-in",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-600"}),s.jsx("span",{className:"text-slate-400",children:'NoOpProvider active  all AI calls return "unavailable"'})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-600"}),s.jsx("span",{className:"text-slate-400",children:"Gems saved without enrichment  ai_enrichment is null"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-600"}),s.jsx("span",{className:"text-slate-400",children:"App works normally  no errors, no degraded UX"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-600"}),s.jsx("span",{className:"text-slate-400",children:"Can enrich later when AI becomes available"})]})]})})]}),s.jsx(kn,{color:"text-rose-400",files:[{path:"src-tauri/src/intelligence/mod.rs",description:"Provider factory  checks availability, selects implementation"},{path:"src-tauri/src/intelligence/provider.rs",description:"IntelProvider trait definition"},{path:"src-tauri/src/intelligence/intelligencekit_provider.rs",description:"Sidecar spawn, NDJSON communication, session management"},{path:"src-tauri/src/intelligence/noop_provider.rs",description:"Fallback  returns unavailability for all operations"},{path:"intelligence-kit/",description:"Swift server  Foundation Models, NDJSON protocol"},{path:".kiro/specs/mlx-intelligence-provider/",description:"Spec for planned MLX Python sidecar"}]})]})}const Gp=[{name:"id",type:"String",required:!0,description:"UUID v4  unique identifier"},{name:"source_type",type:"String",required:!0,description:'"YouTube", "Article", "Chat", "Email", "Extension", "Generic"'},{name:"source_url",type:"String",required:!0,description:"Unique constraint  prevents duplicate captures"},{name:"domain",type:"String",required:!0,description:'"youtube.com", "medium.com", etc.'},{name:"title",type:"String",required:!0,description:"Page title, video title, email subject"},{name:"author",type:"Option<String>",required:!1,description:"Channel name, article writer, email sender"},{name:"description",type:"Option<String>",required:!1,description:"Subtitle, meta description, preview"},{name:"content",type:"Option<String>",required:!1,description:"Full or partial content text"},{name:"source_meta",type:"serde_json::Value",required:!0,description:"Extractor-specific fields (from PageGist.extra)"},{name:"captured_at",type:"String",required:!0,description:"ISO 8601 timestamp of capture"},{name:"ai_enrichment",type:"Option<serde_json::Value>",required:!1,description:"AI-generated tags + summary (null if no AI)"}],vr=[{name:"Save (Upsert)",icon:"",description:"Insert or replace by source_url uniqueness  prevents duplicate gems",sql:`INSERT OR REPLACE INTO gems
  (id, source_type, source_url, domain, title, author,
   description, content, source_meta, captured_at, ai_enrichment)
VALUES (?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8, ?9, ?10, ?11)`,rust:`pub async fn save(&self, gem: &Gem) -> Result<(), String> {
    self.conn.execute(
        "INSERT OR REPLACE INTO gems ...",
        params![gem.id, gem.source_type, gem.source_url, ...],
    )?;
    Ok(())
}`},{name:"List",icon:"",description:"Paginated listing ordered by captured_at DESC (newest first)",sql:`SELECT * FROM gems
  ORDER BY captured_at DESC
  LIMIT ?1 OFFSET ?2`,rust:`pub async fn list(&self, limit: u32, offset: u32) -> Result<Vec<Gem>, String> {
    let mut stmt = self.conn.prepare("SELECT * FROM gems ORDER BY ...")?;
    let gems = stmt.query_map(params![limit, offset], |row| { ... })?;
    Ok(gems)
}`},{name:"Search (FTS5)",icon:"",description:"Full-text search across title, description, and content via FTS5",sql:`SELECT gems.* FROM gems
  JOIN gems_fts ON gems.id = gems_fts.rowid
  WHERE gems_fts MATCH ?1
  ORDER BY rank`,rust:`pub async fn search(&self, query: &str) -> Result<Vec<Gem>, String> {
    let mut stmt = self.conn.prepare("SELECT ... JOIN gems_fts ...")?;
    let gems = stmt.query_map(params![query], |row| { ... })?;
    Ok(gems)
}`},{name:"Filter by Tag",icon:"",description:"Exact match on AI-generated tags in the ai_enrichment JSON",sql:`SELECT * FROM gems
  WHERE json_extract(ai_enrichment, '$.tags') LIKE '%"rust"%'
  ORDER BY captured_at DESC`,rust:`pub async fn filter_by_tag(&self, tag: &str) -> Result<Vec<Gem>, String> {
    let pattern = format!("%\\"{}\\"%" , tag);
    let mut stmt = self.conn.prepare("SELECT ... WHERE json_extract ...")?;
    ...
}`},{name:"Delete",icon:"",description:"Remove a gem by its UUID  cascades to FTS5 via trigger",sql:"DELETE FROM gems WHERE id = ?1",rust:`pub async fn delete(&self, id: &str) -> Result<(), String> {
    self.conn.execute("DELETE FROM gems WHERE id = ?1", params![id])?;
    Ok(())
}`}],xr=[{label:"Gem saved",detail:"PageGist converted to Gem with UUID + timestamp",active:!0},{label:"Check AI",detail:"intel.check_availability()  is Apple Intelligence enabled?",active:!0},{label:"Open session",detail:'NDJSON: {"command":"open-session"}  session_id',active:!0},{label:"Generate tags",detail:"Send content  receive 3-5 topic tags",active:!0},{label:"Summarize",detail:"Send content  receive one-sentence summary",active:!0},{label:"Merge + save",detail:"ai_enrichment = { tags, summary, provider, enriched_at }",active:!0}];function Up(){const[d,w]=me.useState(vr[0].name),[T,u]=me.useState(0),[v,E]=me.useState(!1),k=vr.find(R=>R.name===d);function B(){E(!0),setTimeout(()=>E(!1),2e3)}return s.jsxs("div",{className:"space-y-10",children:[s.jsxs("section",{children:[s.jsx(Ae,{title:"Gem Data Model",description:"12 fields  required fields in yellow, optional in gray"}),s.jsx("div",{className:"space-y-1",children:Gp.map(R=>s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg bg-slate-900/40 border border-slate-800/50 text-xs hover:bg-slate-800/40 transition-colors group",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${R.required?"bg-yellow-400":"bg-slate-600"}`}),s.jsx("span",{className:"font-mono text-yellow-300 min-w-32",children:R.name}),s.jsx("span",{className:"font-mono text-slate-500 min-w-36",children:R.type}),s.jsx("span",{className:"text-slate-400 hidden group-hover:inline",children:R.description})]},R.name))}),s.jsx("div",{className:"mt-4",children:s.jsx(Ue,{language:"json",caption:"Example ai_enrichment JSON",code:`{
  "tags": ["rust", "ownership", "memory-safety"],
  "summary": "Explains how Rust's ownership model ensures memory safety.",
  "provider": "intelligencekit",
  "enriched_at": "2024-03-15T14:30:22Z"
}`})})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"SQLite Schema",description:"Two tables  gems (main) + gems_fts (FTS5 virtual table for full-text search)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsx(Ta,{title:"gems",icon:"",color:"border-yellow-500/20",badge:"main table",badgeColor:"text-yellow-500/60",defaultExpanded:!0,children:s.jsx(Ue,{language:"sql",code:`CREATE TABLE gems (
    id TEXT PRIMARY KEY,
    source_type TEXT NOT NULL,
    source_url TEXT NOT NULL UNIQUE,
    domain TEXT NOT NULL,
    title TEXT NOT NULL,
    author TEXT,
    description TEXT,
    content TEXT,
    source_meta TEXT NOT NULL DEFAULT '{}',
    captured_at TEXT NOT NULL,
    ai_enrichment TEXT
);`})}),s.jsx(Ta,{title:"gems_fts",icon:"",color:"border-yellow-500/20",badge:"FTS5 virtual",badgeColor:"text-yellow-500/60",defaultExpanded:!0,children:s.jsx(Ue,{language:"sql",code:`-- Full-text search index
CREATE VIRTUAL TABLE gems_fts
  USING fts5(
    title,
    description,
    content,
    content=gems,
    content_rowid=rowid
);

-- Auto-sync triggers
CREATE TRIGGER gems_ai AFTER INSERT ON gems
  BEGIN INSERT INTO gems_fts(...) ... END;
CREATE TRIGGER gems_ad AFTER DELETE ON gems
  BEGIN INSERT INTO gems_fts(...) ... END;`})})]}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsx("button",{onClick:B,className:"px-4 py-2 rounded-lg bg-yellow-500/10 border border-yellow-500/30 text-yellow-400 text-xs font-medium hover:bg-yellow-500/20 transition-colors",children:"Simulate: Insert a gem"}),v&&s.jsxs("div",{className:"mt-3 animate-fade-in text-xs space-y-1.5",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400",children:[s.jsx("span",{children:"INSERT INTO gems"}),s.jsx("span",{className:"animate-pulse",children:""}),s.jsx("span",{className:"text-slate-400",children:"row added"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-400/70",children:[s.jsx("span",{children:"trigger: gems_ai"}),s.jsx("span",{className:"animate-pulse",children:""}),s.jsx("span",{className:"text-slate-400",children:"INSERT INTO gems_fts"}),s.jsx("span",{className:"animate-pulse",children:""}),s.jsx("span",{className:"text-slate-400",children:"indexed"})]})]})]})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"CRUD Operations",description:"Click an operation to see its SQL query and Rust implementation"}),s.jsx("div",{className:"flex flex-wrap gap-1.5 mb-4",children:vr.map(R=>s.jsxs("button",{onClick:()=>w(R.name),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${d===R.name?"text-yellow-300 bg-yellow-500/10":"text-slate-500 hover:text-slate-300 hover:bg-slate-800/50"}`,children:[s.jsx("span",{children:R.icon}),s.jsx("span",{children:R.name})]},R.name))}),s.jsxs("div",{className:"animate-fade-in space-y-3",children:[s.jsx("p",{className:"text-xs text-slate-400",children:k.description}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-yellow-400 uppercase tracking-wider font-medium mb-1.5",children:"SQL"}),s.jsx(Ue,{code:k.sql,language:"sql"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-yellow-400 uppercase tracking-wider font-medium mb-1.5",children:"Rust"}),s.jsx(Ue,{code:k.rust,language:"rust"})]})]})]})]}),s.jsxs("section",{children:[s.jsx(Ae,{title:"AI Enrichment Pipeline",description:"Step through the enrichment flow  from gem save to AI-powered tags and summary"}),s.jsx("div",{className:"flex items-center gap-1.5 overflow-x-auto pb-2",children:xr.map((R,x)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>u(x),className:`shrink-0 px-3 py-2 rounded-lg border text-xs transition-all ${T===x?"border-yellow-500/40 bg-yellow-500/10 text-yellow-300 scale-105":x<=T?"border-yellow-500/20 bg-yellow-500/5 text-yellow-400/60":"border-slate-800 bg-slate-900/40 text-slate-500"}`,children:R.label}),x<xr.length-1&&s.jsx("span",{className:`mx-1 text-xs ${x<T?"text-yellow-500/40":"text-slate-700"}`,children:""})]},R.label))}),s.jsxs("div",{className:"mt-3 p-3 rounded-lg bg-slate-900/40 border border-slate-800/50 text-xs text-slate-400 animate-fade-in",children:[s.jsxs("span",{className:"text-yellow-400 font-medium",children:["Step ",T+1,":"]})," ",xr[T].detail]})]}),s.jsx(kn,{color:"text-yellow-400",files:[{path:"src-tauri/src/gems/mod.rs",description:"Module exports"},{path:"src-tauri/src/gems/store.rs",description:"GemStore trait  swappable storage backend"},{path:"src-tauri/src/gems/sqlite_store.rs",description:"SQLite + FTS5 implementation with full-text search"},{path:"~/.jarvis/gems.db",description:"SQLite database file on disk"}]})]})}const Lp=[{id:"frontend",title:"Frontend",icon:"",description:"React 19 + TypeScript  14 components, useReducer state, Tauri IPC hooks",color:"border-cyan-500/40",textColor:"text-cyan-400",bgColor:"bg-cyan-500/5",component:Rp},{id:"tauri-bridge",title:"Tauri Bridge",icon:"",description:"37 IPC commands, event system, plugin registry, managed state objects",color:"border-amber-500/40",textColor:"text-amber-400",bgColor:"bg-amber-500/5",component:Op},{id:"audio",title:"Audio Pipeline",icon:"",description:"JarvisListen sidecar  FIFO  hybrid transcription (VAD + Vosk + Whisper)",color:"border-emerald-500/40",textColor:"text-emerald-400",bgColor:"bg-emerald-500/5",component:zp},{id:"browser",title:"Browser & Extractors",icon:"",description:"Chrome observer, 6 content extractors, PageGist unified type",color:"border-violet-500/40",textColor:"text-violet-400",bgColor:"bg-violet-500/5",component:Mp},{id:"intelligence",title:"Intelligence / AI",icon:"",description:"IntelProvider trait, IntelligenceKit sidecar, NDJSON protocol, graceful degradation",color:"border-rose-500/40",textColor:"text-rose-400",bgColor:"bg-rose-500/5",component:qp},{id:"gems",title:"Gems  Knowledge Base",icon:"",description:"SQLite + FTS5 storage, CRUD operations, AI enrichment pipeline",color:"border-yellow-500/40",textColor:"text-yellow-400",bgColor:"bg-yellow-500/5",component:Up}];function Hp({activeLayer:d}){const w=Lp.find(u=>u.id===d);if(!w)return s.jsx("div",{className:"text-slate-500 py-20 text-center",children:"Layer not found"});const T=w.component;return s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("div",{className:`rounded-xl border ${w.color} ${w.bgColor} p-5 mb-8`,children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("span",{className:"text-3xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-bold ${w.textColor}`,children:w.title}),s.jsx("p",{className:"text-sm text-slate-400 mt-0.5",children:w.description})]})]})}),s.jsx(T,{})]})}function Bp({starterCode:d,solution:w,hint:T,language:u,validator:v}){const[E,k]=me.useState(d),[B,R]=me.useState(null),[x,L]=me.useState(!1),[q,ne]=me.useState(!1);function Le(){R(v(E)?"pass":"fail")}function De(){k(d),R(null),L(!1),ne(!1)}return s.jsxs("div",{className:"rounded-lg border border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-slate-900/60 border-b border-slate-800/50",children:[s.jsxs("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-medium",children:[u??"code","  interactive"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("button",{onClick:De,className:"text-[10px] text-slate-500 hover:text-slate-300 transition-colors px-1.5 py-0.5 rounded hover:bg-slate-800",children:"Reset"}),s.jsx("button",{onClick:()=>L(!x),className:"text-[10px] text-amber-500/70 hover:text-amber-400 transition-colors px-1.5 py-0.5 rounded hover:bg-slate-800",children:"Hint"}),s.jsx("button",{onClick:()=>ne(!q),className:"text-[10px] text-slate-500 hover:text-slate-300 transition-colors px-1.5 py-0.5 rounded hover:bg-slate-800",children:"Solution"})]})]}),s.jsx("textarea",{value:E,onChange:Ee=>{k(Ee.target.value),R(null)},className:"w-full bg-slate-950 text-slate-300 font-mono text-xs p-3 resize-y min-h-28 outline-none border-none leading-relaxed",spellCheck:!1}),s.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-900/40 border-t border-slate-800/50",children:[s.jsx("button",{onClick:Le,className:"px-3 py-1 rounded-md bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-medium transition-colors",children:"Run"}),B==="pass"&&s.jsx("span",{className:"text-xs text-emerald-400 font-medium animate-fade-in",children:"Correct!"}),B==="fail"&&s.jsx("span",{className:"text-xs text-red-400 font-medium animate-fade-in",children:"Not quite  try again or check the hint"})]}),x&&s.jsx("div",{className:"px-3 py-2 bg-amber-500/5 border-t border-amber-500/20 animate-fade-in",children:s.jsx("p",{className:"text-xs text-amber-300/80",children:T})}),q&&s.jsxs("div",{className:"border-t border-slate-800/50 animate-fade-in",children:[s.jsx("div",{className:"px-3 py-1.5 bg-slate-900/60",children:s.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-medium",children:"Solution"})}),s.jsx("pre",{className:"px-3 py-2 bg-slate-950 font-mono text-xs text-emerald-300/80 whitespace-pre-wrap",children:w})]})]})}function Yp({question:d,options:w,correctIndex:T,explanation:u}){const[v,E]=me.useState(null),k=v!==null,B=v===T;function R(x){k||E(x)}return s.jsxs("div",{className:"rounded-lg border border-slate-800 bg-slate-900/40 overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 border-b border-slate-800/50",children:s.jsx("p",{className:"text-sm text-slate-200 font-medium",children:d})}),s.jsx("div",{className:"p-3 space-y-1.5",children:w.map((x,L)=>{let q="border-slate-800 bg-slate-900/30 hover:bg-slate-800/50 text-slate-300";return k&&(L===T?q="border-emerald-500/40 bg-emerald-500/10 text-emerald-300":L===v?q="border-red-500/40 bg-red-500/10 text-red-300":q="border-slate-800/50 bg-slate-900/20 text-slate-500"),s.jsxs("button",{onClick:()=>R(L),disabled:k,className:`w-full text-left px-3 py-2 rounded-lg border text-xs transition-all ${q} ${k?"cursor-default":"cursor-pointer"}`,children:[s.jsxs("span",{className:"text-slate-500 mr-2",children:[String.fromCharCode(65+L),"."]}),x]},L)})}),k&&s.jsxs("div",{className:`px-4 py-3 border-t animate-fade-in ${B?"border-emerald-500/20 bg-emerald-500/5":"border-red-500/20 bg-red-500/5"}`,children:[s.jsx("p",{className:`text-xs font-medium mb-1 ${B?"text-emerald-400":"text-red-400"}`,children:B?"Correct!":"Not quite"}),s.jsx("p",{className:"text-xs text-slate-400",children:u})]})]})}function Jp({term:d,explanation:w,example:T,color:u="border-slate-700"}){const[v,E]=me.useState(!1);return s.jsx("div",{className:"cursor-pointer",style:{perspective:"800px"},onClick:()=>E(!v),children:s.jsxs("div",{className:"grid transition-transform duration-500",style:{transformStyle:"preserve-3d",transform:v?"rotateY(180deg)":"rotateY(0deg)"},children:[s.jsxs("div",{className:`rounded-xl border ${u} bg-slate-900/60 p-5 min-h-32 flex flex-col items-center justify-center text-center`,style:{backfaceVisibility:"hidden",gridArea:"1 / 1"},children:[s.jsx("p",{className:"text-base font-semibold text-slate-200 mb-1",children:d}),s.jsx("p",{className:"text-[11px] text-slate-500",children:"Click to reveal"})]}),s.jsxs("div",{className:`rounded-xl border ${u} bg-slate-800/80 p-4 flex flex-col justify-center`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)",gridArea:"1 / 1"},children:[s.jsx("p",{className:"text-xs text-slate-300 leading-relaxed mb-2",children:w}),T&&s.jsx("pre",{className:"text-[11px] font-mono text-slate-400 bg-slate-950/60 rounded-md p-2 whitespace-pre-wrap",children:T})]})]})})}function Vp({leftLabel:d,rightLabel:w,rows:T,color:u="text-indigo-400"}){return s.jsxs("div",{className:"rounded-lg border border-slate-800 overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-3 bg-slate-900/60 border-b border-slate-800",children:[s.jsx("div",{className:"px-3 py-2 text-[10px] text-slate-500 uppercase tracking-wider font-medium"}),s.jsx("div",{className:`px-3 py-2 text-[10px] uppercase tracking-wider font-medium ${u}`,children:d}),s.jsx("div",{className:`px-3 py-2 text-[10px] uppercase tracking-wider font-medium ${u}`,children:w})]}),T.map((v,E)=>s.jsxs("div",{className:`grid grid-cols-3 border-b border-slate-800/50 hover:bg-slate-800/30 transition-colors ${E===T.length-1?"border-b-0":""}`,children:[s.jsx("div",{className:"px-3 py-2.5 text-xs text-slate-400 font-medium",children:v.label}),s.jsx("div",{className:"px-3 py-2.5 text-xs text-slate-300 font-mono",children:v.left}),s.jsx("div",{className:"px-3 py-2.5 text-xs text-slate-300 font-mono",children:v.right})]},v.label))]})}const qm={orange:{border:"border-orange-500/40",text:"text-orange-400",bg:"bg-orange-500/5",dot:"bg-orange-400"},teal:{border:"border-teal-500/40",text:"text-teal-400",bg:"bg-teal-500/5",dot:"bg-teal-400"},blue:{border:"border-blue-500/40",text:"text-blue-400",bg:"bg-blue-500/5",dot:"bg-blue-400"},yellow:{border:"border-yellow-500/40",text:"text-yellow-400",bg:"bg-yellow-500/5",dot:"bg-yellow-400"},slate:{border:"border-slate-500/40",text:"text-slate-400",bg:"bg-slate-500/5",dot:"bg-slate-400"},indigo:{border:"border-indigo-500/40",text:"text-indigo-400",bg:"bg-indigo-500/5",dot:"bg-indigo-400"},cyan:{border:"border-cyan-500/40",text:"text-cyan-400",bg:"bg-cyan-500/5",dot:"bg-cyan-400"}};function Hm(d){return qm[d]??qm.indigo}function Gm(d,w,T){const u=Hm(T);switch(d.type){case"text":return s.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:d.body},w);case"code":return s.jsx(Ue,{code:d.code,language:d.language,caption:d.caption},w);case"interactive-code":return s.jsx(Bp,{starterCode:d.starterCode,solution:d.solution,hint:d.hint,language:d.language,validator:d.validator},w);case"concept-card":return s.jsx(Jp,{term:d.term,explanation:d.explanation,example:d.example,color:u.border},w);case"comparison":return s.jsx(Vp,{leftLabel:d.leftLabel,rightLabel:d.rightLabel,rows:d.rows,color:u.text},w);case"quiz":return s.jsx(Yp,{question:d.question,options:d.options,correctIndex:d.correctIndex,explanation:d.explanation},w);case"diagram":return s.jsx("div",{className:"flex items-center gap-2 flex-wrap py-2",children:d.nodes.map((v,E)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:`px-3 py-2 rounded-lg border ${u.border} ${u.bg} text-xs`,children:[v.icon&&s.jsx("span",{className:"mr-1",children:v.icon}),s.jsx("span",{className:"text-slate-300 font-medium",children:v.label})]}),E<d.nodes.length-1&&d.connections.find(k=>k.from===v.id)&&s.jsxs("div",{className:"flex items-center gap-1 text-slate-600 text-xs shrink-0",children:[s.jsx("span",{children:""}),d.connections.find(k=>k.from===v.id)?.label&&s.jsx("span",{className:"text-[10px] text-slate-500",children:d.connections.find(k=>k.from===v.id).label})]})]},v.id))},w);default:return null}}function ji({guide:d}){const w=Hm(d.color),[T,u]=me.useState(d.sections[0]?.id??""),v=me.useRef({});me.useEffect(()=>{const k=new IntersectionObserver(B=>{for(const R of B)R.isIntersecting&&u(R.target.id)},{rootMargin:"-20% 0px -60% 0px"});for(const B of Object.values(v.current))B&&k.observe(B);return()=>k.disconnect()},[d.id]);function E(k){v.current[k]?.scrollIntoView({behavior:"smooth",block:"start"})}return s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("div",{className:`rounded-xl border ${w.border} ${w.bg} p-5 mb-8`,children:s.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[s.jsx("span",{className:"text-3xl",children:d.icon}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-xl font-bold ${w.text}`,children:d.title}),s.jsx("p",{className:"text-sm text-slate-400 mt-0.5",children:d.subtitle})]})]})}),s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("nav",{className:"hidden lg:block w-48 shrink-0 sticky top-10 self-start",children:[s.jsx("p",{className:"text-[10px] text-slate-600 uppercase tracking-wider font-medium mb-3",children:"Sections"}),s.jsxs("div",{className:"space-y-1",children:[d.sections.map(k=>s.jsxs("button",{onClick:()=>E(k.id),className:`w-full text-left flex items-center gap-2 px-2 py-1.5 rounded text-xs transition-colors ${T===k.id?`${w.text} bg-white/5`:"text-slate-500 hover:text-slate-300"}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${T===k.id?w.dot:"bg-slate-700"}`}),s.jsx("span",{className:"truncate",children:k.title})]},k.id)),s.jsxs("button",{onClick:()=>E("jarvis-connections"),className:`w-full text-left flex items-center gap-2 px-2 py-1.5 rounded text-xs transition-colors ${T==="jarvis-connections"?`${w.text} bg-white/5`:"text-slate-500 hover:text-slate-300"}`,children:[s.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${T==="jarvis-connections"?w.dot:"bg-slate-700"}`}),s.jsx("span",{children:"In Jarvis"})]})]})]}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-12",children:[d.sections.map(k=>s.jsxs("section",{id:k.id,ref:B=>{v.current[k.id]=B},children:[s.jsx("h3",{className:`text-lg font-semibold ${w.text} mb-4 pb-2 border-b ${w.border}`,children:k.title}),s.jsx("div",{className:"space-y-4",children:(()=>{const B=[];let R=[];for(const x of k.content)x.type==="concept-card"?R.push(x):(R.length>0&&(B.push(R),R=[]),B.push([x]));return R.length>0&&B.push(R),B.map((x,L)=>x.length>1||x[0]?.type==="concept-card"?s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:x.map((q,ne)=>Gm(q,ne,d.color))},L):Gm(x[0],L,d.color))})()})]},k.id)),s.jsxs("section",{id:"jarvis-connections",ref:k=>{v.current["jarvis-connections"]=k},children:[s.jsx("h3",{className:`text-lg font-semibold ${w.text} mb-4 pb-2 border-b ${w.border}`,children:"How Jarvis Uses This"}),s.jsx("div",{className:"space-y-2",children:d.jarvisConnections.map(k=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-slate-900/40 border border-slate-800/50",children:[s.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 mt-1.5 ${w.dot}`}),s.jsxs("div",{className:"text-xs",children:[s.jsx("span",{className:`font-medium ${w.text}`,children:k.concept}),s.jsx(Lm,{content:k.description,children:s.jsx("span",{className:"font-mono text-slate-500 ml-2 hover:text-slate-300 transition-colors cursor-default",children:k.file})}),s.jsx("p",{className:"text-slate-400 mt-0.5",children:k.description})]})]},k.file))})]})]})]})]})}const Xp={id:"guide-rust",title:"Rust 101",subtitle:"Build a mini gem notebook from scratch  learn Rust by building, not by reading definitions",color:"orange",icon:"",sections:[{id:"big-picture",title:"What Are We Building?",content:[{type:"text",body:`We're going to build a tiny "gem notebook"  a command-line app where you can save notes, tag them, and search through them. It's a miniature version of what Jarvis does. Along the way, you'll learn Rust not by memorizing definitions, but by needing each concept to build the next feature.`},{type:"diagram",nodes:[{id:"setup",label:"1. Set up project",icon:""},{id:"first",label:"2. First program",icon:""},{id:"data",label:"3. Store data",icon:""},{id:"own",label:"4. Ownership",icon:""},{id:"struct",label:"5. Build a Gem",icon:""},{id:"err",label:"6. Handle errors",icon:""},{id:"trait",label:"7. Shared behavior",icon:""},{id:"async",label:"8. Do many things",icon:""}],connections:[{from:"setup",to:"first"},{from:"first",to:"data"},{from:"data",to:"own"},{from:"own",to:"struct"},{from:"struct",to:"err"},{from:"err",to:"trait"},{from:"trait",to:"async"}]},{type:"text",body:"Each step builds on the last. By the end, you'll understand every Rust concept Jarvis uses  because you'll have used them yourself."}]},{id:"setup",title:"Step 1: Setting Up Your Workshop",content:[{type:"text",body:"Before you can cook, you need a kitchen. Before you can build with Rust, you need to install it and create a project. This takes about 2 minutes."},{type:"code",language:"bash",code:`# Install Rust (one command  it sets up everything)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# Verify it worked
rustc --version
cargo --version`,caption:"Run this in your terminal. Cargo is Rust's tool for building projects  think of it as npm for Rust."},{type:"text",body:"Now create your project. Cargo sets up the folders, creates a starter file, and handles all the boring stuff."},{type:"code",language:"bash",code:`# Create a new project called "gem-notebook"
cargo new gem-notebook
cd gem-notebook

# Run it!
cargo run`,caption:'You should see "Hello, world!"  congratulations, you just compiled and ran a Rust program.'},{type:"text",body:`What just happened? Unlike Python or JavaScript where you run code directly, Rust has a "compile" step. Think of it like this: the compiler reads your recipe, checks it for mistakes, and creates a finished dish (a program) that runs incredibly fast. If the recipe has ANY mistake, it won't even start cooking  that's Rust's safety guarantee.`},{type:"diagram",nodes:[{id:"code",label:"Your code (.rs)",icon:""},{id:"compiler",label:"Compiler checks it",icon:""},{id:"binary",label:"Fast program",icon:""}],connections:[{from:"code",to:"compiler",label:"cargo build"},{from:"compiler",to:"binary",label:"no errors?  output"}]},{type:"text",body:"Open the file `src/main.rs`  that's where your code lives. You'll see one function: `fn main()`. This is the starting point. When you run the program, Rust executes whatever is inside `main`."},{type:"quiz",question:"What does `cargo run` do?",options:["Runs the code directly like Python","Compiles the code into a program, then runs that program","Uploads the code to the cloud","Opens the code in an editor"],correctIndex:1,explanation:"Rust is a compiled language. `cargo run` first compiles your .rs files into a native binary (machine code), then executes it. This compilation step is why Rust catches so many bugs before your program even runs."}]},{id:"first-lines",title:"Step 2: Variables  Labeling Your Boxes",content:[{type:"text",body:`Imagine you're moving houses. You pack things into boxes and put labels on them: "Kitchen stuff", "Books", "Fragile". A variable in programming is exactly that  a labeled box. You put a value inside, and refer to it by the label.`},{type:"code",language:"rust",code:`fn main() {
    // Create a labeled box called "title" with text inside
    let title = "My first gem";
    
    // Create a box called "importance" with a number
    let importance = 5;
    
    // Print them out
    println!("Title: {}", title);
    println!("Importance: {}/10", importance);
}`,caption:"Replace the contents of src/main.rs with this, then run `cargo run`"},{type:"text",body:"Notice something: we used `let` (not `var`, `const`, or anything else). In Rust, `let` creates a variable that CANNOT be changed. It's like writing on a box with permanent marker. Why? Because if things can't change unexpectedly, your program has fewer surprises."},{type:"code",language:"rust",code:`fn main() {
    let title = "My gem";
    title = "Changed!"; // ERROR! Can't change a \`let\` variable
    
    // If you WANT to change it, say so explicitly:
    let mut title = "My gem";  // \`mut\` = "I plan to change this"
    title = "Changed!";        // Now it's OK
    println!("{}", title);
}`,caption:'`mut` is short for "mutable"  meaning changeable. Rust makes you be explicit about what can change.'},{type:"concept-card",term:"let",explanation:"Creates a variable that cannot be changed. Like writing a label in permanent marker. Most variables should be `let`  fewer moving parts means fewer bugs.",example:`let name = "Jarvis";
let version = 2;`},{type:"concept-card",term:"let mut",explanation:"Creates a variable that CAN be changed. Like writing a label in pencil. Use this when you know the value will need to be updated later.",example:`let mut count = 0;
count = count + 1; // OK!`},{type:"concept-card",term:'println!("...", value)',explanation:`Prints text to the screen. The {} is a placeholder that gets replaced with the value. The ! means it's a "macro" (a shortcut that writes more code for you  don't worry about the details yet).`,example:`println!("Hello, {}!", "world");
// Output: Hello, world!`},{type:"interactive-code",language:"rust",starterCode:'// Create two variables:\n// 1. A `let` variable called `gem_title` with any text\n// 2. A `let mut` variable called `tag_count` starting at 0\n// Then change tag_count to 3\n// Print: "Gem: [title] has [count] tags"\n\nfn main() {\n    // your code here\n}',solution:`fn main() {
    let gem_title = "Meeting notes";
    let mut tag_count = 0;
    tag_count = 3;
    println!("Gem: {} has {} tags", gem_title, tag_count);
}`,hint:"Use `let` for the title (it won't change) and `let mut` for the count (it will). Use println! with {} placeholders.",validator:d=>d.includes("let gem_title")&&d.includes("let mut tag_count")&&d.includes("println!")}]},{id:"collections",title:"Step 3: Collections  Your List of Gems",content:[{type:"text",body:'One box is nice, but our notebook needs to hold MANY gems. Imagine a filing cabinet drawer  you can add files, count them, and flip through them. In Rust, this is called a `Vec` (short for "vector"  just a fancy name for a list that can grow).'},{type:"code",language:"rust",code:`fn main() {
    // Create an empty filing cabinet (list)
    let mut gems = Vec::new();
    
    // Add some gems
    gems.push("Meeting with Alice");
    gems.push("Recipe for pasta");
    gems.push("Rust learning notes");
    
    // How many do we have?
    println!("You have {} gems", gems.len());
    
    // Look at the first one
    println!("First gem: {}", gems[0]);
    
    // Go through ALL of them
    for gem in &gems {
        println!("  - {}", gem);
    }
}`,caption:"A Vec is like a list in Python or an array in JavaScript  but it must hold items of the same type"},{type:"text",body:'Notice the `&` before `gems` in the for loop? That\'s a preview of something big. It means "let me LOOK at the gems without taking them." We\'ll understand why this matters in the next step. For now, just know: `&` means "I\'m borrowing this, not taking it."'},{type:"concept-card",term:"Vec<T>",explanation:"A growable list. T is the type of items inside. Vec<String> holds text, Vec<i32> holds whole numbers. You can push items in, remove them, count them, and loop through them.",example:`let mut numbers: Vec<i32> = Vec::new();
numbers.push(10);
numbers.push(20);
// numbers = [10, 20]`},{type:"concept-card",term:"String vs &str",explanation:'Rust has two kinds of text. String is a box of text you OWN (can change it, grow it). &str is a WINDOW into text someone else owns (read-only). "hello" is &str. String::from("hello") is String.',example:`let borrowed: &str = "hello";       // just looking
let owned: String = String::from("hello"); // I own this`},{type:"interactive-code",language:"rust",starterCode:`// Build a list of 3 tags for a gem
// Then print how many tags there are
// Then print each tag on its own line

fn main() {
    // your code here
}`,solution:`fn main() {
    let mut tags = Vec::new();
    tags.push("work");
    tags.push("important");
    tags.push("meeting");
    println!("{} tags:", tags.len());
    for tag in &tags {
        println!("  #{}", tag);
    }
}`,hint:"Create a `let mut tags = Vec::new()`, push 3 strings in, use .len() to count, and a for loop to print each one.",validator:d=>d.includes("Vec::new()")&&d.includes("push(")&&d.includes(".len()")&&d.includes("for ")},{type:"quiz",question:"Why does the list need to be `let mut`?",options:["Because Rust requires all variables to be mut","Because we're adding items to it  that changes it","Because Vec is always mutable","It doesn't  let would work fine"],correctIndex:1,explanation:"When you push() an item into a Vec, you're changing the list. Rust requires you to declare that intent upfront with `mut`. If you try to push into a `let` Vec, the compiler will refuse  it's protecting you from accidental changes."}]},{id:"ownership",title:"Step 4: Ownership  Why Rust Is Different",content:[{type:"text",body:"This is the ONE concept that makes Rust different from every other language. It takes 10 minutes to understand and saves you from entire categories of bugs. Let's start with a story."},{type:"text",body:"Imagine you have a physical notebook  one single copy. You give it to your friend Alice. Now YOU don't have it anymore. You can't write in it. You can't read it. Alice has it. This is OWNERSHIP in Rust. When you give a value to someone else, you no longer have it."},{type:"code",language:"rust",code:`fn main() {
    let notebook = String::from("My precious notes");
    
    let alice = notebook;  // Alice now OWNS the notebook
    
    // This would FAIL  you gave it away!
    // println!("{}", notebook);
    
    // Only Alice can use it now
    println!("{}", alice);
}`,caption:'Try uncommenting the println  the compiler will tell you: "value used after move"'},{type:"text",body:'But wait  what if Alice just needs to READ your notebook for a minute? You don\'t want to give it away permanently. You want to LEND it. In Rust, this is called "borrowing" and you write it with `&`.'},{type:"code",language:"rust",code:`fn main() {
    let notebook = String::from("My precious notes");
    
    // LEND the notebook (borrow with &)
    let alice = &notebook;
    
    // You STILL have it!
    println!("Mine: {}", notebook);
    println!("Alice sees: {}", alice);
}`,caption:'& means "borrow"  Alice can look, but you still own it'},{type:"text",body:"And what if Alice needs to WRITE in your notebook? That's more risky  what if someone else is reading it at the same time? Rust has a rule: only ONE person can write at a time. You express this with `&mut`."},{type:"code",language:"rust",code:`fn main() {
    let mut notebook = String::from("My notes");
    
    // Lend it for writing (only one at a time!)
    let alice = &mut notebook;
    alice.push_str(" + Alice's addition");
    
    println!("{}", alice);
}`,caption:'&mut means "borrow for writing"  only one borrower can write at a time'},{type:"concept-card",term:"Move (give away)",explanation:"When you assign a value to another variable (or pass it to a function), the original can't use it anymore. Like handing someone your physical notebook.",example:`let a = String::from("hello");
let b = a;  // a is GONE
// a is no longer valid here`},{type:"concept-card",term:"Borrow (&)",explanation:"Lend your value temporarily. The borrower can LOOK but not change. Multiple borrowers can look at the same time.",example:`let a = String::from("hello");
let b = &a; // borrowing
println!("{} {}", a, b); // both work!`},{type:"concept-card",term:"Mutable borrow (&mut)",explanation:"Lend your value for WRITING. Only one person can do this at a time. And nobody else can even read while someone is writing.",example:`let mut a = String::from("hello");
let b = &mut a;
b.push_str(" world");`},{type:"text",body:"Why does this matter? In other languages, two parts of your program can modify the same data at the same time. This causes bugs that are INCREDIBLY hard to find  data corruption, crashes, security holes. Rust makes these bugs IMPOSSIBLE by checking ownership at compile time. Your program won't even build if there's a conflict."},{type:"comparison",leftLabel:"Other languages",rightLabel:"Rust",rows:[{label:"Who owns data?",left:"Anyone, nobody checks",right:"Exactly one owner, enforced"},{label:"Two writers?",left:"Allowed (causes bugs)",right:"Compiler error (prevented)"},{label:"Use after delete?",left:"Crash at runtime",right:"Compiler error (prevented)"},{label:"Memory cleanup?",left:"Garbage collector (slow) or manual (error-prone)",right:"Automatic when owner goes away"},{label:"When bugs found?",left:"When users complain",right:"When you try to compile"}]},{type:"interactive-code",language:"rust",starterCode:`// This code is broken. Fix it using borrowing (&)
// The goal: both print statements should work

fn main() {
    let gem = String::from("Important meeting notes");
    let backup = gem;
    println!("Original: {}", gem);
    println!("Backup: {}", backup);
}`,solution:`fn main() {
    let gem = String::from("Important meeting notes");
    let backup = &gem;
    println!("Original: {}", gem);
    println!("Backup: {}", backup);
}`,hint:"The problem is `let backup = gem`  this MOVES the value. Change it to `let backup = &gem` to BORROW instead.",validator:d=>d.includes("&gem")&&d.includes("println!")&&!d.includes(".clone()")},{type:"quiz",question:'You have `let notebook = String::from("notes");` and then `let copy = notebook;`. What happens if you try to use `notebook` after this?',options:["It works fine  both variables have the value",'Compiler error  notebook was "moved" to copy and is no longer valid',"Runtime crash","It prints an empty string"],correctIndex:1,explanation:"This is Rust's ownership in action. When you assign notebook to copy, the ownership MOVES. notebook is no longer valid. The compiler catches this before your program even runs. To keep both, use borrowing: `let copy = &notebook;`"}]},{id:"structs",title:"Step 5: Structs  Designing Your Gem",content:[{type:"text",body:'So far our gems are just text strings. But a real gem has a title, content, tags, and maybe a rating. We need a way to group related information together  like a form with multiple fields. In Rust, this is called a `struct` (short for "structure").'},{type:"text",body:'Think of a struct like a template for an ID card. The template says "every card has a Name, Photo, and Birthday." Each actual card fills in those fields differently. The struct defines the shape; each instance fills it in.'},{type:"code",language:"rust",code:`// The TEMPLATE: what does a Gem look like?
struct Gem {
    title: String,
    content: String,
    tags: Vec<String>,
}

fn main() {
    // Create an actual gem from the template
    let gem = Gem {
        title: String::from("Rust ownership"),
        content: String::from("Every value has exactly one owner"),
        tags: vec![String::from("rust"), String::from("learning")],
    };
    
    println!("Gem: {}", gem.title);
    println!("Tags: {:?}", gem.tags);
}`,caption:"A struct groups related data together. Access fields with dot notation: gem.title"},{type:"text",body:'Now let\'s attach BEHAVIOR to our gem. What can a gem DO? It can describe itself, count its tags, add a tag. We put these actions in an `impl` block ("implementation"). Think of the struct as the blueprint and impl as the instruction manual.'},{type:"code",language:"rust",code:`struct Gem {
    title: String,
    content: String,
    tags: Vec<String>,
}

// The INSTRUCTION MANUAL for Gem
impl Gem {
    // Create a new gem (like a factory)
    fn new(title: &str, content: &str) -> Gem {
        Gem {
            title: String::from(title),
            content: String::from(content),
            tags: Vec::new(),
        }
    }
    
    // Describe yourself (&self = "look at me but don't change me")
    fn summary(&self) -> String {
        format!("{} ({} tags)", self.title, self.tags.len())
    }
    
    // Add a tag (&mut self = "I need to change myself")
    fn add_tag(&mut self, tag: &str) {
        self.tags.push(String::from(tag));
    }
}

fn main() {
    let mut gem = Gem::new("Rust notes", "Learning ownership today");
    gem.add_tag("rust");
    gem.add_tag("learning");
    println!("{}", gem.summary());
    // Output: Rust notes (2 tags)
}`,caption:"Notice: summary uses &self (read-only) but add_tag uses &mut self (needs to modify). Ownership in action!"},{type:"concept-card",term:"&self",explanation:"Used in methods that only LOOK at the struct's data. Borrows the struct as read-only. Most methods use this.",example:`fn summary(&self) -> String {
    // can read self.title but can't change it
}`},{type:"concept-card",term:"&mut self",explanation:"Used in methods that CHANGE the struct's data. Borrows the struct for writing. The instance must be declared with `let mut`.",example:`fn add_tag(&mut self, tag: &str) {
    self.tags.push(String::from(tag));
}`},{type:"interactive-code",language:"rust",starterCode:`// Add a method called \`is_tagged\` to Gem
// It takes &self and a tag: &str
// Returns true if self.tags contains that tag
// Hint: self.tags.contains(&String::from(tag))

struct Gem {
    title: String,
    tags: Vec<String>,
}

impl Gem {
    fn new(title: &str) -> Gem {
        Gem { title: String::from(title), tags: Vec::new() }
    }
    
    fn add_tag(&mut self, tag: &str) {
        self.tags.push(String::from(tag));
    }
    
    // Add is_tagged here
}`,solution:`struct Gem {
    title: String,
    tags: Vec<String>,
}

impl Gem {
    fn new(title: &str) -> Gem {
        Gem { title: String::from(title), tags: Vec::new() }
    }
    
    fn add_tag(&mut self, tag: &str) {
        self.tags.push(String::from(tag));
    }
    
    fn is_tagged(&self, tag: &str) -> bool {
        self.tags.contains(&String::from(tag))
    }
}`,hint:"The method takes &self (just reading) and returns a bool. Use self.tags.contains(&String::from(tag)) to check.",validator:d=>d.includes("fn is_tagged")&&d.includes("&self")&&d.includes("-> bool")}]},{id:"error-handling",title:"Step 6: When Things Go Wrong",content:[{type:"text",body:`Your gem notebook needs to save to a file. But what if the file can't be created? What if the disk is full? Most languages deal with this using "exceptions"  surprise problems that blow up your program if you forget to handle them. Rust takes a different approach: it makes you handle problems BEFORE they happen.`},{type:"text",body:`Imagine ordering food at a restaurant. In most languages, you say "bring me pasta" and HOPE it works  if the kitchen is out of pasta, the waiter screams and flips the table (that's an exception). In Rust, the waiter hands you a box that either contains your pasta OR a note saying "sorry, out of pasta." You MUST open the box and check before eating.`},{type:"concept-card",term:"Result<T, E>",explanation:"A box with two possible contents: Ok(value) if things worked, or Err(problem) if they didn't. You MUST check which one you got  the compiler won't let you ignore it.",example:`// This might fail  returns Result
let file = std::fs::read_to_string("gems.txt");
// file is Ok("contents...") or Err(an error)`},{type:"concept-card",term:"Option<T>",explanation:"Like Result but simpler: either Some(value) or None. Used when something might not exist  like searching for a gem that might not be in your notebook.",example:`// Looking for a gem  might not exist
let found: Option<&Gem> = gems.iter()
    .find(|g| g.title == "Rust notes");
// found is Some(gem) or None`},{type:"code",language:"rust",code:`use std::fs;

fn main() {
    // Try to read a file  this might fail!
    let result = fs::read_to_string("gems.txt");
    
    // You MUST handle both cases
    match result {
        Ok(contents) => {
            println!("File contents: {}", contents);
        }
        Err(error) => {
            println!("Couldn't read file: {}", error);
        }
    }
}`,caption:"`match` forces you to handle success AND failure. The compiler won't let you skip either case."},{type:"text",body:'Writing `match` every time is verbose. Rust gives you a shortcut: the `?` operator. It means "if this failed, pass the error up to whoever called me  let them deal with it." It\'s like saying "if the kitchen is out of pasta, tell the customer I couldn\'t make their order."'},{type:"code",language:"rust",code:`use std::fs;

// This function MIGHT fail  notice the Result return type
fn load_gems() -> Result<String, std::io::Error> {
    let contents = fs::read_to_string("gems.txt")?;  // ? = pass error up
    Ok(contents)
}

fn main() {
    match load_gems() {
        Ok(data) => println!("Loaded: {}", data),
        Err(e) => println!("Failed to load: {}", e),
    }
}`,caption:"The ? after read_to_string means: if it fails, return the error immediately. No need for a match here."},{type:"quiz",question:"Why is Rust's Result<T, E> better than exceptions (try/catch)?",options:["It's faster","The compiler FORCES you to handle errors  you can't accidentally forget","It uses less memory","It makes error messages prettier"],correctIndex:1,explanation:"With exceptions (try/catch), you can forget to handle an error  it'll crash at runtime when a user hits it. With Result, the compiler refuses to build your program until you handle every possible failure. Bugs caught at compile time can't hurt your users."},{type:"interactive-code",language:"rust",starterCode:`// Complete the function: look up a gem by title
// If found, return Some(gem_title)
// If not found, return None

fn find_gem(gems: &Vec<String>, title: &str) -> Option<String> {
    // Hint: use a for loop or .iter().find()
}`,solution:`fn find_gem(gems: &Vec<String>, title: &str) -> Option<String> {
    for gem in gems {
        if gem == title {
            return Some(gem.clone());
        }
    }
    None
}`,hint:"Loop through the gems. If you find a match, return Some(gem.clone()). After the loop, return None.",validator:d=>d.includes("Some(")&&d.includes("None")&&d.includes("Option<")}]},{id:"traits",title:"Step 7: Traits  Shared Abilities",content:[{type:"text",body:`Our gem notebook is growing. Now imagine we want different KINDS of gems: text notes, audio recordings, web links. They're all different, but they all need a "summarize" ability. How do we say "all of these must be able to summarize themselves"?`},{type:"text",body:`Think of a trait like a job requirement. A job posting says: "Must be able to drive, speak English, and use Excel." It doesn't care WHO you are  a college student, a retiree, a robot. As long as you can do those things, you qualify. A trait says: "Any type that wants to be a Gem must be able to summarize itself and count its tags."`},{type:"code",language:"rust",code:`// The JOB REQUIREMENTS: what must every gem type be able to do?
trait Summarizable {
    fn summarize(&self) -> String;
    fn tag_count(&self) -> usize;
}

// A text gem
struct TextGem {
    title: String,
    body: String,
    tags: Vec<String>,
}

// An audio gem
struct AudioGem {
    title: String,
    duration_secs: u32,
    transcript: String,
    tags: Vec<String>,
}

// Both FULFILL the requirements differently:
impl Summarizable for TextGem {
    fn summarize(&self) -> String {
        format!("{}: {}...", self.title, &self.body[..50.min(self.body.len())])
    }
    fn tag_count(&self) -> usize { self.tags.len() }
}

impl Summarizable for AudioGem {
    fn summarize(&self) -> String {
        format!("{}: {}s audio recording", self.title, self.duration_secs)
    }
    fn tag_count(&self) -> usize { self.tags.len() }
}`,caption:"Two different types, one shared contract. You can call .summarize() on either one."},{type:"text",body:`This is EXACTLY how Jarvis works. It has an "IntelProvider" trait  the job requirements for any AI backend. OpenAI and Apple's on-device AI are completely different, but they both fulfill the same contract: summarize text, generate tags. Jarvis doesn't care which one you use. It just calls .summarize() and the right implementation runs.`},{type:"diagram",nodes:[{id:"trait",label:"trait IntelProvider",icon:""},{id:"openai",label:"OpenAI (cloud)",icon:""},{id:"apple",label:"Apple on-device",icon:""}],connections:[{from:"trait",to:"openai",label:"implements"},{from:"trait",to:"apple",label:"implements"}]},{type:"quiz",question:"What's the benefit of using a trait like IntelProvider instead of just writing separate functions?",options:["Traits are faster","You can swap implementations without changing the code that uses them","Traits use less memory","Rust requires all functions to be in traits"],correctIndex:1,explanation:"Jarvis can switch from OpenAI to Apple's on-device AI by changing ONE line of configuration. All the code that calls .summarize() and .tag() doesn't change at all  it just works with whoever fulfills the trait contract."},{type:"interactive-code",language:"rust",starterCode:`// Define a trait called \`Displayable\` with one method:
// fn display(&self) -> String
// Then implement it for this struct:

struct Note {
    title: String,
    body: String,
}

// Define the trait and implement it here
// display should return: "Note: [title] - [body]"`,solution:`trait Displayable {
    fn display(&self) -> String;
}

struct Note {
    title: String,
    body: String,
}

impl Displayable for Note {
    fn display(&self) -> String {
        format!("Note: {} - {}", self.title, self.body)
    }
}`,hint:"First write `trait Displayable { fn display(&self) -> String; }`  that's the contract. Then write `impl Displayable for Note { ... }` to fulfill it.",validator:d=>d.includes("trait Displayable")&&d.includes("impl Displayable for Note")&&d.includes("fn display")}]},{id:"async",title:"Step 8: Async  Waiting Without Freezing",content:[{type:"text",body:"Our gem notebook now needs to talk to the internet  saving to a cloud backup, or calling an AI to summarize. But network requests are SLOW (100ms-2s). If your program just... stops... and waits... the user stares at a frozen screen. That's terrible."},{type:"text",body:"Think about ordering coffee. You walk up, order, and then... do you stand at the counter staring at the barista until your coffee is ready? No! You sit down, check your phone, maybe chat with a friend. When the coffee is ready, the barista calls your name. That's async programming."},{type:"diagram",nodes:[{id:"order",label:"Start request",icon:""},{id:"wait",label:"Do other work",icon:""},{id:"ready",label:"Response arrives",icon:""},{id:"use",label:"Use the result",icon:""}],connections:[{from:"order",to:"wait",label:"don't freeze"},{from:"wait",to:"ready",label:".await wakes up"},{from:"ready",to:"use"}]},{type:"code",language:"rust",code:`// Without async: FROZEN while waiting
fn save_to_cloud(gem: &Gem) -> Result<(), Error> {
    let response = http_client.post(url).send(); // BLOCKED! Nothing else can happen
    // ... user is staring at a frozen app for 2 seconds
}

// With async: keep working while waiting
async fn save_to_cloud(gem: &Gem) -> Result<(), Error> {
    let response = http_client.post(url).send().await; // go do other stuff, come back when ready
    // ... app stays responsive the whole time
}`,caption:'`.await` means "start this, and come back to me when it\'s done  in the meantime, handle other tasks"'},{type:"text",body:"Jarvis uses async EVERYWHERE. When you hit the record button, it simultaneously: captures audio, monitors the browser, updates the UI, and keeps the app responsive. Without async, each of these would have to wait for the others to finish. With async, they all make progress together."},{type:"concept-card",term:"async fn",explanation:'Marks a function as "this might need to wait for something slow." The function can pause and resume without blocking everything else.',example:`async fn summarize(text: &str) -> String {
    let result = ai.process(text).await;
    result
}`},{type:"concept-card",term:".await",explanation:`"Start this task and come back when it's done." Like placing your coffee order and sitting down. You'll be notified when it's ready.`,example:`let summary = summarize(text).await;
// While waiting, other async tasks ran`},{type:"concept-card",term:"Tokio",explanation:'The "coffee shop manager"  it schedules all the async tasks, wakes them up when their data arrives, and makes sure nothing gets stuck. Jarvis uses Tokio as its async runtime.',example:`#[tokio::main]
async fn main() {
    // Now you can use .await in main
}`},{type:"quiz",question:'In Jarvis, when you click "Record", what would happen WITHOUT async?',options:["Recording would be faster","The app would freeze while capturing audio  no UI updates, no cancel button, nothing until recording finishes","Multiple recordings would start at once","The recording would save automatically"],correctIndex:1,explanation:`Without async, the app would block on audio capture. The UI would freeze  you couldn't see a timer, couldn't click "Stop", couldn't even close the window. Async lets Jarvis capture audio, update the UI, and listen for your stop click all at the same time.`}]},{id:"modules",title:"Step 9: Modules  Organizing Your Code",content:[{type:"text",body:"Your gem notebook has grown: structs, traits, error handling, async functions. Having everything in one file is like keeping every document you own in a single drawer. Eventually you can't find anything. Modules are Rust's filing system."},{type:"text",body:"Think of your house. You don't keep your toothbrush in the kitchen. You have rooms: kitchen for cooking, bathroom for hygiene, bedroom for sleeping. Modules are rooms for your code."},{type:"code",language:"bash",code:`# Your project structure
gem-notebook/
  src/
    main.rs          # Front door  the entry point
    gems/
      mod.rs          # Room directory  "gems room contains..."
      types.rs        # Gem struct definition
      store.rs        # Save/load gems to file
    intelligence/
      mod.rs          # "intelligence room contains..."
      summarize.rs    # AI summarization logic`,caption:'Each folder is a module. mod.rs is the "table of contents" for that module.'},{type:"code",language:"rust",code:`// src/main.rs  the front door
mod gems;          // "I have a gems room"  loads gems/mod.rs
mod intelligence;  // "I have an intelligence room"

use gems::Gem;     // "Bring the Gem type into this room"
use intelligence::summarize;

fn main() {
    let gem = Gem::new("Notes", "Some content");
    let summary = summarize(&gem.content);
    println!("{}", summary);
}`,caption:"`mod` declares a room exists. `use` brings items from that room into the current scope."},{type:"text",body:"Jarvis uses this exact structure. Its backend has rooms for: commands (what the frontend can ask for), gems (storage and search), intelligence (AI summaries), browser (web extraction), and recording (audio capture). Each room is self-contained but they can share items using `pub` (public  visible to other rooms)."},{type:"diagram",nodes:[{id:"lib",label:"lib.rs (front door)",icon:""},{id:"cmd",label:"commands/",icon:""},{id:"gems",label:"gems/",icon:""},{id:"intel",label:"intelligence/",icon:""},{id:"browser",label:"browser/",icon:""},{id:"rec",label:"recording/",icon:""}],connections:[{from:"lib",to:"cmd",label:"mod"},{from:"lib",to:"gems",label:"mod"},{from:"lib",to:"intel",label:"mod"},{from:"lib",to:"browser",label:"mod"},{from:"lib",to:"rec",label:"mod"}]},{type:"concept-card",term:"mod",explanation:`"This room exists." Tells Rust to look for the module's code in a matching file or folder.`,example:`mod gems;      // loads gems.rs or gems/mod.rs
mod recording; // loads recording.rs`},{type:"concept-card",term:"use",explanation:'"Bring this item into my room." Like carrying a tool from the garage to the kitchen.',example:`use crate::gems::Gem;
use crate::intelligence::IntelProvider;`},{type:"concept-card",term:"pub",explanation:'"This is visible outside my room." Without pub, items are private  only code in the same module can see them.',example:`pub struct Gem { ... }   // others can see
struct InternalHelper { ... } // private`},{type:"quiz",question:"Why is `pub` (public) important?",options:["It makes the code run faster","Without it, nothing in one module can be used by another module  everything is private by default","It's required for all structs","It publishes the code to the internet"],correctIndex:1,explanation:"Rust makes everything private by default. Only items marked `pub` can be used from other modules. This is intentional  it forces you to design clean boundaries between parts of your code, exposing only what's needed."}]}],jarvisConnections:[{concept:"Structs & Ownership",file:"src-tauri/src/lib.rs",description:"The AppState struct holds all of Jarvis's shared data (gem store, recording state, AI provider). It uses ownership concepts like Arc and Mutex to safely share across the app."},{concept:"Traits for Swappable AI",file:"src-tauri/src/intelligence/provider.rs",description:"The IntelProvider trait defines what any AI backend must do. OpenAI and Apple's IntelligenceKit both implement it  Jarvis doesn't care which one is active."},{concept:"Error Handling with Result",file:"src-tauri/src/commands.rs",description:"Every command returns Result. If anything fails (file not found, network error, sidecar crash), the error flows back to the frontend as a clear message."},{concept:"Async Everywhere",file:"src-tauri/src/recording.rs",description:"Recording uses async to simultaneously: spawn the audio sidecar, read its output, monitor for errors, and emit events to the UI  all without freezing."},{concept:"Module Organization",file:"src-tauri/src/gems/sqlite_store.rs",description:"The gems module is split into types, storage, and search. Each file handles one concern. The module's mod.rs re-exports the public items."}]};function Qp(){return s.jsx(ji,{guide:Xp})}const Zp={id:"guide-tauri",title:"Tauri 101",subtitle:"Turn your Rust code into a desktop app with a real UI  the framework that powers Jarvis",color:"teal",icon:"",sections:[{id:"big-picture",title:"What Are We Building?",content:[{type:"text",body:"In Rust 101, you built a gem notebook that runs in a terminal  black screen, typed commands, no buttons. That's fine for developers, but real users want to click things. They want a window with a nice UI. Tauri is how you give your Rust program a face."},{type:"text",body:"By the end of this guide, you'll understand how Tauri connects a pretty web UI to a powerful Rust backend  and exactly how Jarvis uses this to be a desktop app that captures audio, extracts web content, and manages gems, all through a visual interface."},{type:"diagram",nodes:[{id:"problem",label:"1. The problem",icon:""},{id:"arch",label:"2. Two worlds",icon:""},{id:"setup",label:"3. Set it up",icon:""},{id:"cmd",label:"4. Talk to Rust",icon:""},{id:"state",label:"5. Shared memory",icon:""},{id:"events",label:"6. Live updates",icon:""},{id:"plugins",label:"7. Add powers",icon:""},{id:"config",label:"8. The blueprint",icon:""}],connections:[{from:"problem",to:"arch"},{from:"arch",to:"setup"},{from:"setup",to:"cmd"},{from:"cmd",to:"state"},{from:"state",to:"events"},{from:"events",to:"plugins"},{from:"plugins",to:"config"}]}]},{id:"the-problem",title:"Step 1: The Problem  Why Can't Rust Just Show a Window?",content:[{type:"text",body:`Rust is incredible at crunching data, talking to hardware, and being fast. But building a pretty UI with buttons, animations, and layouts? That's what the web (HTML/CSS/JavaScript) has spent 30 years perfecting. So instead of reinventing UI from scratch, Tauri says: "Let the web do what it's good at (UI), and let Rust do what IT's good at (everything else)."`},{type:"text",body:"Think of a restaurant. The dining room (UI) is where customers sit  it's pretty, comfortable, with menus and nice lighting. The kitchen (Rust) is where the real work happens  cooking, prepping, storing food. The waiter (Tauri) carries requests from dining room to kitchen and brings the food back. Nobody expects the chef to also decorate the restaurant."},{type:"comparison",leftLabel:"Tauri",rightLabel:"Electron",rows:[{label:"What it is",left:"Rust backend + web UI",right:"Node.js backend + web UI"},{label:"How big is the app?",left:"~3-10 MB",right:"~150+ MB (bundles a whole browser!)"},{label:"Memory usage",left:"~30-50 MB",right:"~100-300 MB"},{label:"Browser included?",left:"No  uses the one your OS already has",right:"Yes  ships an entire Chromium copy"},{label:"Backend speed",left:"Rust (very fast)",right:"JavaScript (much slower)"},{label:"Who uses it?",left:"Jarvis, 1Password, Cody",right:"VS Code, Slack, Discord"}]},{type:"text",body:`The big insight: your Mac already has a web browser built in (Safari/WebKit). Tauri says "just use that to show the UI" instead of bundling an entire browser. That's why a Tauri app is 3 MB and an Electron app is 150 MB.`},{type:"quiz",question:"Why is a Tauri app so much smaller than an Electron app?",options:["Tauri compresses files better","Tauri skips bundling a browser  it uses the one already on your computer","Tauri doesn't support images or CSS","Electron includes extra features nobody needs"],correctIndex:1,explanation:"Electron bundles Chromium (~150MB) inside every app. That's like every restaurant building its own road to get there. Tauri uses your OS's built-in webview (Safari's engine on Mac)  the road already exists."}]},{id:"two-worlds",title:"Step 2: Two Worlds, One App",content:[{type:"text",body:"A Tauri app is literally two separate programs running together. The Frontend is a web page (React, HTML, CSS) that handles everything you see  buttons, text, animations. The Backend is a Rust program that handles everything you DON'T see  file access, network calls, data processing. They live in different worlds and talk through a bridge."},{type:"diagram",nodes:[{id:"user",label:"You (user)",icon:""},{id:"ui",label:"Frontend (React)",icon:""},{id:"bridge",label:"IPC Bridge",icon:""},{id:"rust",label:"Backend (Rust)",icon:""},{id:"os",label:"Your Computer",icon:""}],connections:[{from:"user",to:"ui",label:"clicks button"},{from:"ui",to:"bridge",label:'"save this gem"'},{from:"bridge",to:"rust",label:"passes the request"},{from:"rust",to:"os",label:"writes to disk"}]},{type:"text",body:"Back to our restaurant analogy: the frontend is the dining room (you see it, you interact with it). The backend is the kitchen (hidden, does the real work). IPC (Inter-Process Communication) is the waiter  carrying orders from your table to the kitchen, and bringing food back."},{type:"concept-card",term:"Frontend",explanation:"The part you see and click. Built with web tech (HTML, CSS, JavaScript/React). Runs inside a small browser window (webview). Can't access files, network, or hardware directly  it has to ask the backend.",example:`A button that says "Start Recording"
A list showing your saved gems
A search bar for finding gems`},{type:"concept-card",term:"Backend",explanation:"The part you don't see. Written in Rust. Has full access to your computer  files, network, processes, hardware. Does all the heavy lifting: saving data, calling APIs, spawning sidecars.",example:`Saving a gem to the SQLite database
Spawning the audio capture sidecar
Calling OpenAI for summarization`},{type:"concept-card",term:"IPC (the bridge)",explanation:`Inter-Process Communication. The messenger between frontend and backend. Frontend says invoke("save_gem", data) and gets back a result. Like calling a waiter  you don't walk into the kitchen yourself.`,example:`// Frontend asks the backend:
await invoke("save_gem", { title: "Notes" })
// Backend processes it, returns a result`},{type:"text",body:"This separation is also a SECURITY feature. The web UI can't just read your files or run programs  it has to go through the Rust backend, which decides what's allowed. It's like having a bouncer between the public (UI) and the private (your computer)."}]},{id:"setup",title:"Step 3: Setting It Up",content:[{type:"text",body:"Before building anything, you need the Tauri CLI. Since Tauri is built on Rust, you install it through Cargo (Rust's package manager from Rust 101). The CLI creates projects, runs the dev server, and builds your final app."},{type:"code",language:"bash",code:`# Step 1: Install the Tauri CLI
cargo install tauri-cli --version "^2"

# Verify it's installed
cargo tauri --version
# tauri-cli 2.x.x`,caption:'The --version "^2" ensures you get Tauri 2. It compiles from source, so the first install takes a couple of minutes.'},{type:"text",body:"Now create a project. The CLI asks a few questions: project name, frontend template (Vanilla, React, Vue, etc.), and language (JavaScript or TypeScript). For learning, pick Vanilla + JavaScript  the simplest option, no build tools needed."},{type:"code",language:"bash",code:`# Step 2: Create a new Tauri 2 project
cargo tauri init
# It asks: project name, window title, frontend dev URL, frontend dist path
# Accept defaults for now

# Or use the interactive scaffolder (creates the full folder structure):
npm create tauri-app@latest
# Pick: Vanilla, JavaScript

# Step 3: Run it!
cd learn_tauri
cargo tauri dev`,caption:"`cargo tauri dev` compiles the Rust backend, serves the frontend, and opens the app window."},{type:"text",body:"Here's what the scaffolder created  the real folder structure of a Tauri 2 project:"},{type:"code",language:"bash",code:`learn_tauri/
 src/                          # FRONTEND (what the user sees)
    index.html                # The web page
    main.js                   # JavaScript  calls Rust commands
    styles.css                # Styling

 src-tauri/                    # BACKEND (Rust  the real engine)
    src/
       main.rs               # Entry point (just calls lib.rs)
       lib.rs                # App setup  plugins, state, commands
    capabilities/
       default.json          # Permissions  what the app is allowed to do
    tauri.conf.json           # App config (name, window, sidecars)
    Cargo.toml                # Rust dependencies`,caption:"src/ is vanilla HTML/JS. src-tauri/ is Rust. They talk through the Tauri bridge."},{type:"text",body:"Key Tauri 2 difference: there's a capabilities/ folder. This is Tauri 2's permission system. Your app declares exactly what it's allowed to do  like an app asking for camera or location permission on your phone. We'll cover this more in the Configuration section."},{type:"quiz",question:"In a Tauri project, where do you write code that handles saving a file to disk?",options:["src/main.js (the frontend JavaScript)","src-tauri/src/ (the Rust backend)","src/index.html","src-tauri/tauri.conf.json"],correctIndex:1,explanation:"File operations are backend work  the frontend JavaScript can't touch the filesystem directly. You'd write a Rust command in src-tauri/src/ and the frontend would call it through the Tauri bridge."}]},{id:"commands",title:"Step 4: Commands  How the UI Talks to Rust",content:[{type:"text",body:'This is the most important concept in Tauri. A "command" is a Rust function that the frontend can call. Think of it as a waiter: you (the frontend) write your order on a slip, the waiter (Tauri) carries it to the kitchen (Rust), the kitchen processes it and sends back the result.'},{type:"text",body:`Let's build two commands: "greet" (takes a name, returns a greeting) and "add_numbers" (takes two numbers, returns the sum). You need to touch exactly 3 files:`},{type:"diagram",nodes:[{id:"cmd",label:"commands.rs",icon:""},{id:"lib",label:"lib.rs",icon:""},{id:"main",label:"main.js",icon:""}],connections:[{from:"cmd",to:"lib",label:"1. write  2. register"},{from:"lib",to:"main",label:"3. call from frontend"}]},{type:"text",body:`FILE 1  src-tauri/src/commands.rs (create this file)
This is the kitchen. Write the actual functions that do the work. The #[tauri::command] tag tells Tauri "the frontend is allowed to call this."`},{type:"code",language:"rust",code:`// src-tauri/src/commands.rs

#[tauri::command]
pub fn greet(name: String) -> String {
    format!("Hello, {}! Welcome to Jarvis.", name)
}

#[tauri::command]
pub fn add_numbers(a: i32, b: i32) -> i32 {
    a + b
}`,caption:"src-tauri/src/commands.rs  each #[tauri::command] function becomes callable from JavaScript"},{type:"text",body:`FILE 2  src-tauri/src/lib.rs
This is the restaurant's menu. You REGISTER commands here. If a command isn't listed, the frontend can't call it  even if the function exists in commands.rs.`},{type:"code",language:"rust",code:`// src-tauri/src/lib.rs

mod commands;  // "I have a commands.rs file"

use commands::{greet, add_numbers};

pub fn run() {
    tauri::Builder::default()
        .invoke_handler(tauri::generate_handler![
            greet,        // frontend can call this
            add_numbers,  // and this
        ])
        .run(tauri::generate_context!())
        .expect("error while running tauri application");
}`,caption:"src-tauri/src/lib.rs  generate_handler! is the menu of available commands"},{type:"text",body:`FILE 3  src/main.js
This is the dining room. The customer places orders using invoke(). In Tauri 2, when you set "withGlobalTauri": true in tauri.conf.json, the invoke function is available on window.__TAURI__  no npm packages needed.`},{type:"code",language:"javascript",code:`// src/main.js

// Tauri 2 exposes its API on window.__TAURI__
// (enabled by "withGlobalTauri": true in tauri.conf.json)
const { invoke } = window.__TAURI__.core;

async function greet() {
  // Call the Rust function!
  const greeting = await invoke("greet", { name: "Ankit" });
  document.querySelector("#greet-msg").textContent = greeting;
  // Shows: "Hello, Ankit! Welcome to Jarvis."
}

async function add() {
  const sum = await invoke("add_numbers", { a: 10, b: 32 });
  document.querySelector("#add-result").textContent = \`10 + 32 = \${sum}\`;
  // Shows: "10 + 32 = 42"
}`,caption:"src/main.js  invoke() sends a request to Rust and returns the result. No npm install needed!"},{type:"text",body:`That's the complete loop. Three files, three roles:

 commands.rs  Write the function (the kitchen recipe)
 lib.rs  Register the function (put it on the menu)
 main.js  Call the function (place the order)

Miss any step and it won't work. Jarvis has ~37 commands  all following this exact same pattern.`},{type:"text",body:'Note: if you use a framework like React with npm, you can also install @tauri-apps/api and use import { invoke } from "@tauri-apps/api/core" instead of window.__TAURI__. Both work  Jarvis uses the npm approach since it uses React.'},{type:"interactive-code",language:"javascript",starterCode:`// You've written a Rust command called "search_gems"
// that takes { query: String } and returns Vec<String>
//
// Write the JavaScript invoke() call.
// Search for "rust notes" and log the results.
const { invoke } = window.__TAURI__.core;

async function search() {
  // Your code here
}`,solution:`const { invoke } = window.__TAURI__.core;

async function search() {
  const results = await invoke("search_gems", {
    query: "rust notes",
  });
  console.log(results);
}`,hint:'Use await invoke("command_name", { param: value }). The Rust Vec<String> comes back as a JavaScript array of strings.',validator:d=>d.includes("invoke")&&d.includes("search_gems")&&d.includes("query")},{type:"quiz",question:'You wrote a #[tauri::command] function called "delete_gem" in commands.rs but forgot to add it to generate_handler! in lib.rs. What happens when JavaScript calls invoke("delete_gem")?',options:["It works anyway  Tauri auto-discovers commands","It silently does nothing","The invoke() returns a rejected Promise  command not found","The app crashes"],correctIndex:2,explanation:"Tauri only executes commands explicitly listed in generate_handler!. The function exists in Rust but the frontend can't reach it. This is a security feature  you control exactly what the UI can do. Always: write it, register it, then call it."}]},{id:"state",title:"Step 5: State  The Shared Fridge",content:[{type:"text",body:'Commands do work  but they need ACCESS to things. The `create_gem` command needs the database connection. The `start_recording` command needs the audio sidecar handle. Where do all these shared resources live? In Tauri\'s "state"  a shared fridge that every command can reach into.'},{type:"text",body:"In our restaurant analogy: every chef needs access to the same fridge, the same pantry, the same oven. You don't give each chef their own fridge. You have ONE shared kitchen with shared equipment. Tauri's state is that shared kitchen."},{type:"code",language:"rust",code:`// Define what's in the shared kitchen (state)
struct AppState {
    gem_store: Mutex<GemStore>,          // the database (one shared copy)
    recording: Mutex<RecordingStatus>,   // is audio recording active?
    ai_provider: RwLock<Option<Box<dyn IntelProvider>>>,  // the AI engine
}

// Put it in the kitchen (register with Tauri)
tauri::Builder::default()
    .manage(AppState { /* ... */ })   // <-- "here's the shared fridge"
    .invoke_handler(/* commands */)`,caption:".manage() registers the shared state. Every command can now access it."},{type:"code",language:"rust",code:`// A command reaches into the shared fridge
#[tauri::command]
async fn create_gem(
    state: State<'_, AppState>,  // <-- "give me access to the fridge"
    title: String,
    content: String,
) -> Result<String, String> {
    // Lock the gem store (only one command can use it at a time)
    let store = state.gem_store.lock().unwrap();
    store.save(title, content).map_err(|e| e.to_string())
}`,caption:`State<'_, AppState> is Tauri's way of saying "this command needs the shared state"`},{type:"text",body:'Notice the `Mutex` wrapper? Remember from Rust 101: multiple commands might run at the same time (on different threads). Mutex is like a "take a number" system at the deli counter  only one command can access the gem store at a time. This prevents two commands from writing to the database simultaneously and corrupting data.'},{type:"concept-card",term:".manage(state)",explanation:"Registers shared data with Tauri. Like stocking the kitchen fridge before the restaurant opens. You do this once at startup.",example:`tauri::Builder::default()
    .manage(MyState { db: open_database() })`},{type:"concept-card",term:"State<'_, T>",explanation:'A command parameter that says "I need access to the shared state." Tauri automatically provides it  you just declare it as a parameter.',example:`#[tauri::command]
fn my_cmd(state: State<'_, AppState>) {
    let data = state.db.lock().unwrap();
}`},{type:"quiz",question:"Why is the gem store wrapped in Mutex inside AppState?",options:["To encrypt the database","Because two commands might try to write to the database at the same time  Mutex ensures only one can access it at a time","Because Rust requires all structs to use Mutex","To make the state persistent across app restarts"],correctIndex:1,explanation:'Imagine two users click "Save Gem" at the exact same moment. Without Mutex, both commands would try to write to SQLite simultaneously  corrupting data. Mutex makes them take turns, like a bathroom lock.'}]},{id:"events",title:"Step 6: Events  Live Updates",content:[{type:"text",body:`Commands work like a question-and-answer: the frontend asks, the backend responds. But what about things that happen WITHOUT the frontend asking? Like: "the recording just finished" or "transcription is 50% done." The backend needs a way to TAP the frontend on the shoulder. That's events.`},{type:"text",body:`Think about ordering a pizza for delivery. You don't call the restaurant every 30 seconds asking "is it ready yet?" Instead, the delivery app SENDS YOU a notification: "Your pizza is being prepared", "Out for delivery", "Arrived!" Events work the same way.`},{type:"diagram",nodes:[{id:"rust",label:"Rust Backend",icon:""},{id:"event",label:'emit("recording-done")',icon:""},{id:"ui",label:"React UI",icon:""},{id:"update",label:'Shows "Done!"',icon:""}],connections:[{from:"rust",to:"event",label:"something happened!"},{from:"event",to:"ui",label:"listener fires"},{from:"ui",to:"update",label:"updates screen"}]},{type:"code",language:"rust",code:`// BACKEND: Send a notification to the frontend
// "Hey UI, the recording just finished!"
app_handle.emit("recording-done", RecordingResult {
    duration_secs: 45,
    file_path: "/tmp/recording.wav".to_string(),
}).unwrap();`,caption:"emit() sends an event from Rust to the frontend  the frontend doesn't need to ask for it"},{type:"code",language:"typescript",code:`// FRONTEND: Listen for the notification
import { listen } from "@tauri-apps/api/event";

// "Whenever the backend says recording is done, run this code"
const unlisten = await listen("recording-done", (event) => {
  const result = event.payload;
  showNotification(\`Recording done! \${result.duration_secs}s\`);
});

// Later, when you don't need it anymore:
unlisten();  // stop listening`,caption:"listen() subscribes to events. It returns a cleanup function to stop listening."},{type:"comparison",leftLabel:"Commands (invoke)",rightLabel:"Events (emit/listen)",rows:[{label:"Direction",left:"Frontend  Backend  Frontend",right:"Backend  Frontend"},{label:"Who starts it?",left:"Frontend asks",right:"Backend notifies"},{label:"Pattern",left:"Request / Response",right:"Fire and forget"},{label:"Analogy",left:"Asking the waiter a question",right:"The kitchen rings the bell"},{label:"Jarvis example",left:'invoke("create_gem")',right:'emit("transcription-progress")'}]},{type:"text",body:`Jarvis uses events heavily for recording: "recording started", "audio level update", "transcription 30% done", "transcription complete." Without events, the UI would have no idea what's happening in the background  it would just freeze with a spinner.`},{type:"quiz",question:"When would you use an event instead of a command?",options:["When the frontend needs data from the backend","When the backend needs to push updates to the frontend without being asked","When you want to save a file","When the app starts"],correctIndex:1,explanation:'Commands are "frontend asks, backend answers." Events are "backend tells the frontend something happened." Use events for progress updates, state changes, and notifications  things the backend initiates.'}]},{id:"plugins",title:"Step 7: Plugins  Adding Superpowers",content:[{type:"text",body:"Tauri keeps your app locked down by default  the frontend can't access the filesystem, can't spawn processes, can't show native dialogs. You have to explicitly add these capabilities through plugins. Think of it like installing apps on a new phone  it starts with nothing, and you add what you need."},{type:"text",body:"Why this restriction? Security. A web page shouldn't be able to read your files or run programs without permission. Tauri makes you opt-in to each capability, so your app only has the powers it actually needs."},{type:"concept-card",term:"tauri-plugin-shell",explanation:"The ability to run external programs. Jarvis NEEDS this to launch its Swift sidecars (JarvisListen for audio, IntelligenceKit for AI). Without this plugin, no sidecar would start.",example:`// In lib.rs:
.plugin(tauri_plugin_shell::init())

// Now you can spawn processes:
app.shell().sidecar("jarvis-listen").spawn()`},{type:"concept-card",term:"tauri-plugin-dialog",explanation:"Native file-picker dialogs (Open, Save). The OS-native ones, not web-style file inputs. Used when exporting gems or choosing an audio file.",example:`.plugin(tauri_plugin_dialog::init())

// Shows a real macOS file picker`},{type:"concept-card",term:"tauri-plugin-notification",explanation:'Send native OS notifications  the ones that appear in your notification center. Jarvis uses this to tell you "Recording complete!" even when the app is in the background.',example:`.plugin(tauri_plugin_notification::init())

// Shows a macOS notification bubble`},{type:"code",language:"rust",code:`// Plugins are installed in the builder chain  like adding
// appliances to your kitchen before opening the restaurant
tauri::Builder::default()
    .plugin(tauri_plugin_shell::init())         // can run programs
    .plugin(tauri_plugin_dialog::init())        // can show file pickers
    .plugin(tauri_plugin_notification::init())  // can send notifications
    .manage(app_state)                          // shared state
    .invoke_handler(tauri::generate_handler![   // commands
        create_gem, start_recording, /* ... */
    ])`,caption:"Each .plugin() line adds one superpower. Without it, that capability doesn't exist."},{type:"quiz",question:"What happens if Jarvis tries to spawn the JarvisListen sidecar but tauri-plugin-shell is NOT installed?",options:["It works anyway  Rust can always spawn processes","The app crashes on startup","The spawn call fails with a permission error  the capability wasn't enabled","The sidecar runs but can't communicate back"],correctIndex:2,explanation:"Without the shell plugin, Tauri doesn't have the capability to spawn external processes. The call would fail. This is intentional  apps should only have the powers they explicitly declare. It's the principle of least privilege."}]},{id:"configuration",title:"Step 8: Configuration  The Blueprint",content:[{type:"text",body:"Every Tauri app has a `tauri.conf.json` file  the master blueprint. It tells Tauri: what's your app called? How big should the window be? What security rules apply? What sidecars should be bundled? Think of it as the building permit for your app."},{type:"code",language:"json",code:`{
  "productName": "Jarvis",
  "identifier": "com.jarvis.app",
  "build": {
    "devUrl": "http://localhost:1420",
    "frontendDist": "../dist"
  },
  "app": {
    "windows": [
      {
        "title": "Jarvis",
        "width": 1200,
        "height": 800
      }
    ],
    "security": {
      "csp": "default-src 'self'; connect-src 'self' https://api.openai.com"
    }
  },
  "bundle": {
    "externalBin": [
      "binaries/jarvis-listen",
      "binaries/intelligence-kit"
    ]
  }
}`,caption:"Jarvis's tauri.conf.json (simplified). Each section controls a different aspect of the app."},{type:"concept-card",term:"externalBin (sidecars)",explanation:"Lists executables that get bundled WITH your app. When you build the app, Tauri copies these binaries into the package so they're available at runtime. Jarvis bundles two Swift programs here.",example:`"externalBin": [
  "binaries/jarvis-listen",
  "binaries/intelligence-kit"
]`},{type:"concept-card",term:"CSP (Content Security Policy)",explanation:"Security rules for the web UI. Controls what websites the frontend can talk to. Jarvis allows connections to OpenAI's API but blocks everything else  preventing malicious scripts from sending your data somewhere bad.",example:`"csp": "default-src 'self'; connect-src 'self' https://api.openai.com"`},{type:"concept-card",term:"devUrl vs frontendDist",explanation:"During development, the frontend runs on a local dev server (localhost:1420). In production, Tauri loads the built files from the dist/ folder. This setting tells Tauri where to look.",example:`"devUrl": "http://localhost:1420"  // dev
"frontendDist": "../dist"          // production`},{type:"text",body:"Everything comes together in this one file. When you run `tauri build`, it reads this blueprint and creates a distributable app: the Rust backend compiled to native code, the frontend bundled as HTML/CSS/JS, sidecars copied in, all wrapped in a macOS .app (or Windows .exe)."},{type:"diagram",nodes:[{id:"conf",label:"tauri.conf.json",icon:""},{id:"build",label:"tauri build",icon:""},{id:"app",label:"Jarvis.app",icon:""}],connections:[{from:"conf",to:"build",label:"reads blueprint"},{from:"build",to:"app",label:"creates package"}]}]},{id:"putting-together",title:"The Full Picture",content:[{type:"text",body:`Let's trace one complete action through the entire Tauri stack: you click "Start Recording" in Jarvis.`},{type:"diagram",nodes:[{id:"click",label:"1. Click button",icon:""},{id:"invoke",label:"2. invoke()",icon:""},{id:"cmd",label:"3. Rust command",icon:""},{id:"state",label:"4. Check state",icon:""},{id:"plugin",label:"5. Shell plugin",icon:""},{id:"sidecar",label:"6. Spawn sidecar",icon:""},{id:"event",label:"7. Emit events",icon:""},{id:"ui",label:"8. UI updates",icon:""}],connections:[{from:"click",to:"invoke",label:"frontend"},{from:"invoke",to:"cmd",label:"IPC bridge"},{from:"cmd",to:"state",label:"lock mutex"},{from:"state",to:"plugin",label:"need to spawn"},{from:"plugin",to:"sidecar",label:"JarvisListen"},{from:"sidecar",to:"event",label:"audio ready"},{from:"event",to:"ui",label:"show recording"}]},{type:"text",body:'(1) You click the record button. (2) React calls invoke("start_recording"). (3) Tauri routes it to the Rust start_recording command. (4) The command checks AppState  is anything already recording? (5) It uses the shell plugin to spawn JarvisListen. (6) The Swift sidecar starts capturing audio. (7) Rust emits "recording-started" event. (8) React hears the event and shows the recording indicator. All of this happens in milliseconds.'},{type:"quiz",question:'Which Tauri concepts does the "Start Recording" flow use?',options:["Only commands","Commands + state + plugins + events  all of them","Only events","Only the configuration file"],correctIndex:1,explanation:"One button click touches every concept: invoke (command), State (check recording status), plugin (shell for sidecar), and events (notify the UI). That's the power of Tauri  each piece has a clear job and they compose together."}]}],jarvisConnections:[{concept:"The Builder Chain",file:"src-tauri/src/lib.rs",description:'The entire Tauri app is configured here: plugins  state  commands  run. This is the "kitchen setup" that happens before the restaurant opens.'},{concept:"Commands (~37 total)",file:"src-tauri/src/commands.rs",description:"Every action the frontend can trigger: create/search/delete gems, start/stop recording, extract from browser, configure AI provider, and more."},{concept:"Events (recording status)",file:"src-tauri/src/recording.rs",description:"Recording emits events as the state changes: started  capturing audio  transcription progress  done. The React UI subscribes to these."},{concept:"Configuration + Sidecars",file:"src-tauri/tauri.conf.json",description:"Declares the app name, window size, security CSP, and bundles the JarvisListen + IntelligenceKit Swift sidecars."},{concept:"Frontend invocations",file:"src/App.tsx",description:"The React frontend uses invoke() to call Rust commands and listen() to subscribe to backend events. Every button click goes through this bridge."}]};function Kp(){return s.jsx(ji,{guide:Zp})}const Ip={id:"guide-react",title:"React + TypeScript 101",subtitle:"Build interactive UIs by describing what you want  the framework behind Jarvis's frontend",color:"blue",icon:"",sections:[{id:"big-picture",title:"What Are We Building?",content:[{type:"text",body:"In Tauri 101 you built a frontend with plain HTML and JavaScript  writing document.querySelector, manually updating text, wiring up event listeners. That works for 4 buttons, but Jarvis has dozens of screens, forms, lists, modals, and live-updating data. Managing all that with plain JS becomes a tangled mess. React solves this."},{type:"text",body:`We're going to build a "Gem Viewer"  a small React app that shows a list of gems, lets you add new ones, search through them, and tag them. Along the way you'll learn every React + TypeScript concept that Jarvis uses.`},{type:"diagram",nodes:[{id:"setup",label:"1. Setup",icon:""},{id:"comp",label:"2. Components",icon:""},{id:"jsx",label:"3. JSX",icon:""},{id:"props",label:"4. Props",icon:""},{id:"state",label:"5. State",icon:""},{id:"events",label:"6. Events",icon:""},{id:"lists",label:"7. Lists",icon:""},{id:"ts",label:"8. TypeScript",icon:""},{id:"hooks",label:"9. Hooks",icon:""}],connections:[{from:"setup",to:"comp"},{from:"comp",to:"jsx"},{from:"jsx",to:"props"},{from:"props",to:"state"},{from:"state",to:"events"},{from:"events",to:"lists"},{from:"lists",to:"ts"},{from:"ts",to:"hooks"}]}]},{id:"core-idea",title:"Step 1: The Core Idea  UI = f(data)",content:[{type:"text",body:`With plain JavaScript, you tell the browser STEP BY STEP what to change: "find this element, change its text, add a class, remove that child." It's like giving someone driving directions turn by turn.`},{type:"text",body:`React flips this. You DESCRIBE what the screen should look like given some data, and React figures out what needs to change. It's like giving someone an address  they use GPS to figure out the route. You say "show 3 gems" and React handles adding/removing the right HTML elements.`},{type:"comparison",leftLabel:"Plain JavaScript",rightLabel:"React",rows:[{label:"Approach",left:"Tell the browser what to DO",right:"Describe what the screen should LOOK LIKE"},{label:"Update a list",left:"Find the <ul>, create <li>, append it",right:"Change the data array, React updates the DOM"},{label:"Show/hide",left:'element.style.display = "none"',right:"Just don't include it in the output"},{label:"Analogy",left:"Turn-by-turn directions",right:"Give the destination, GPS handles the route"},{label:"Bug risk",left:"Easy to forget an update",right:"Screen always matches the data"}]},{type:"code",language:"javascript",code:`// PLAIN JS: Step-by-step instructions
const li = document.createElement("li");
li.textContent = "New gem";
li.className = "gem-item";
document.querySelector("#gem-list").appendChild(li);
// What if the list doesn't exist yet? What if we need to
// also update the count? Easy to forget something.`,caption:"Imperative: you manage every DOM change yourself"},{type:"code",language:"typescript",code:`// REACT: Describe what the screen should look like
function GemList({ gems }) {
  return (
    <div>
      <p>{gems.length} gems</p>
      <ul>
        {gems.map(gem => <li key={gem.id}>{gem.title}</li>)}
      </ul>
    </div>
  );
}
// The count and list ALWAYS match. Add a gem to the
// array  React updates both automatically.`,caption:"Declarative: describe the result, React handles the DOM changes"},{type:"quiz",question:"You have a list of 5 gems displayed. The user adds a 6th gem. In React, what do you do?",options:["Find the <ul> element and append a new <li>","Add the gem to the data array  React re-renders the list automatically","Reload the entire page","Manually update the count and the list separately"],correctIndex:1,explanation:"In React, you just update the data. React compares what the screen SHOULD look like (6 gems) with what it currently shows (5 gems), and makes the minimal DOM changes needed. You never touch the DOM directly."}]},{id:"setup",title:"Step 2: Setting Up Your React Project",content:[{type:"text",body:`We'll use Vite (pronounced "veet")  a fast build tool that sets up React + TypeScript for you. It's what the Jarvis visualizer uses, and it's the modern standard for React projects.`},{type:"code",language:"bash",code:`# Create a new React + TypeScript project
npm create vite@latest gem-viewer -- --template react-ts

# Go into it and install dependencies
cd gem-viewer
npm install

# Start the dev server (with hot-reload!)
npm run dev`,caption:"Open http://localhost:5173 in your browser. You should see a React starter page."},{type:"code",language:"bash",code:`gem-viewer/
 src/
    App.tsx          # Your main component (start here)
    main.tsx         # Entry point (mounts React)
    App.css          # Styles
 index.html           # The HTML shell
 package.json         # Dependencies
 tsconfig.json        # TypeScript settings
 vite.config.ts       # Build tool config`,caption:"You'll spend 99% of your time in src/. App.tsx is where the action starts."},{type:"text",body:"Open src/App.tsx  delete everything in it. We're starting from scratch. Replace it with this:"},{type:"code",language:"typescript",code:`// src/App.tsx
function App() {
  return (
    <div>
      <h1>Gem Viewer</h1>
      <p>My gem collection</p>
    </div>
  )
}

export default App`,caption:"Your first React component. Save the file  the browser updates instantly (hot-reload)."},{type:"text",body:"Wait  is that HTML inside JavaScript?! Yes. That weird mix of HTML-in-JS is called JSX, and it's the key idea behind React. Let's understand it."}]},{id:"components",title:"Step 3: Components  LEGO Blocks for Your UI",content:[{type:"text",body:`Think about LEGO. You don't build a castle from one giant piece  you snap together small, reusable blocks. React works the same way. A "component" is a small, reusable piece of UI. A button is a component. A search bar is a component. A gem card is a component. Your whole app is components inside components.`},{type:"diagram",nodes:[{id:"app",label:"App",icon:""},{id:"header",label:"Header",icon:""},{id:"search",label:"SearchBar",icon:""},{id:"list",label:"GemList",icon:""},{id:"card",label:"GemCard (x3)",icon:""}],connections:[{from:"app",to:"header"},{from:"app",to:"search"},{from:"app",to:"list"},{from:"list",to:"card"}]},{type:"text",body:"A component is just a function that returns what should appear on screen. That's it. The function name IS the component name, and it must start with a capital letter."},{type:"code",language:"typescript",code:`// A component is just a function that returns UI
function Header() {
  return (
    <header>
      <h1>Gem Viewer</h1>
      <p>Your knowledge collection</p>
    </header>
  )
}

function SearchBar() {
  return (
    <div>
      <input placeholder="Search gems..." />
    </div>
  )
}

// Use them like custom HTML tags!
function App() {
  return (
    <div>
      <Header />
      <SearchBar />
    </div>
  )
}

export default App`,caption:"Components snap together like LEGO. <Header /> and <SearchBar /> are your custom building blocks."},{type:"concept-card",term:"Component",explanation:"A function that returns a piece of UI (JSX). Think of it as a custom HTML tag that you define. Components must start with a capital letter: Header, GemCard, SearchBar.",example:`function GemCard() {
  return <div className="card">A gem!</div>
}`},{type:"concept-card",term:"JSX",explanation:"The HTML-like syntax inside JavaScript. It LOOKS like HTML but it's actually JavaScript that creates elements. Key differences: use className instead of class, and you can embed JavaScript with {curly braces}.",example:`return (
  <div className="card">
    <p>{2 + 2}</p>  {/* Shows: 4 */}
  </div>
)`},{type:"quiz",question:"Why do we split the UI into many small components instead of writing one big function?",options:["React requires it  you can't have one big component","Same reason you use functions instead of one giant script: reusability, readability, easier debugging","Small components are faster","TypeScript requires separate components"],correctIndex:1,explanation:"A SearchBar component can be reused on different pages. A GemCard component can be debugged in isolation. When something breaks, you know exactly which piece to look at. Same principle as functions in any language."}]},{id:"props",title:"Step 4: Props  Giving Data to Components",content:[{type:"text",body:`A GemCard that always shows the same text is useless. We need to GIVE it data: "here's the title, here's the content, here are the tags." Props (short for "properties") are how you pass data from a parent component to a child. Think of props as the order slip you hand to the chef  "make THIS dish with THESE ingredients."`},{type:"code",language:"typescript",code:`// The component receives props as a parameter
function GemCard({ title, content, tags }) {
  return (
    <div className="card">
      <h3>{title}</h3>
      <p>{content}</p>
      <div>
        {tags.map(tag => (
          <span key={tag} className="tag">#{tag}</span>
        ))}
      </div>
    </div>
  )
}

// Pass data when using the component
function App() {
  return (
    <div>
      <GemCard
        title="Rust Ownership"
        content="Every value has exactly one owner"
        tags={["rust", "learning"]}
      />
      <GemCard
        title="Tauri Commands"
        content="Use invoke() to call Rust from JS"
        tags={["tauri", "ipc"]}
      />
    </div>
  )
}`,caption:"Same component, different data. Two GemCards showing different gems."},{type:"text",body:`Notice the {curly braces}? Inside JSX, anything in {} is JavaScript. So {title} displays the value of the title variable, and {tags.map(...)} runs JavaScript to create elements for each tag. Text like "Rust Ownership" is just a string  no braces needed because it's not a variable.`},{type:"concept-card",term:"Props",explanation:"Data passed from parent to child. The parent decides WHAT to show, the child decides HOW to show it. Props flow ONE way: down. A child can't change its own props.",example:`<GemCard title="My Gem" tags={["work"]} />
// GemCard receives { title, tags }`},{type:"concept-card",term:"{curly braces} in JSX",explanation:'"Switch to JavaScript mode." Anything inside {} is evaluated as JavaScript. Use it to display variables, do math, call functions, or write conditions.',example:`<p>{user.name}</p>        {/* variable */}
<p>{2 + 2}</p>            {/* math: 4 */}
<p>{isNew ? "New!" : ""}</p> {/* condition */}`},{type:"interactive-code",language:"typescript",starterCode:`// Create a TagBadge component that receives
// a "label" prop and displays it as #label
// Then use it: <TagBadge label="rust" />

function TagBadge(/* what goes here? */) {
  return (
    // what goes here?
  )
}`,solution:`function TagBadge({ label }: { label: string }) {
  return (
    <span className="tag">#{label}</span>
  )
}`,hint:"The function takes { label } as a parameter (destructured from props). Return a <span> that shows #{label}.",validator:d=>d.includes("TagBadge")&&d.includes("label")&&d.includes("#")}]},{id:"state",title:"Step 5: State  Memory That Triggers Updates",content:[{type:"text",body:`Props are data that comes from OUTSIDE (the parent passes it). But what about data that changes INSIDE a component? Like a counter, a search query being typed, or whether a dropdown is open. This is "state"  the component's own memory. When state changes, React automatically re-renders the component.`},{type:"text",body:"Think of a light switch. It has a state: on or off. When you flip it (change the state), the light changes (the UI updates). You don't manually rewire the light every time  the switch TRIGGERS the change. That's what React state does."},{type:"code",language:"typescript",code:`// src/App.tsx
import { useState } from "react"

function App() {
  // useState returns: [current value, function to change it]
  const [count, setCount] = useState(0)
  //       ^         ^                 ^
  //    the value  the updater    starting value

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  )
}
// Every time you click, setCount updates the value,
// React re-renders, and the <p> shows the new count.
// You never touch the DOM.`,caption:"useState is the most fundamental React hook. The UI always reflects the current state."},{type:"text",body:"Let's build something real  a search filter for our gems:"},{type:"code",language:"typescript",code:`import { useState } from "react"

const ALL_GEMS = [
  { id: 1, title: "Rust Ownership", tags: ["rust"] },
  { id: 2, title: "Tauri Commands", tags: ["tauri"] },
  { id: 3, title: "React State", tags: ["react"] },
]

function App() {
  const [query, setQuery] = useState("")

  // Filter gems based on what's typed
  const filtered = ALL_GEMS.filter(gem =>
    gem.title.toLowerCase().includes(query.toLowerCase())
  )

  return (
    <div>
      <input
        placeholder="Search gems..."
        value={query}
        onChange={(e) => setQuery(e.target.value)}
      />
      <p>{filtered.length} results</p>
      {filtered.map(gem => (
        <div key={gem.id}>{gem.title}</div>
      ))}
    </div>
  )
}`,caption:'Type "rust"  setQuery updates  React re-renders  only matching gems show. The whole UI stays in sync automatically.'},{type:"concept-card",term:"useState(initialValue)",explanation:"Creates a piece of state. Returns [value, setter]. Call the setter to update the value and trigger a re-render. Never modify the value directly  always use the setter.",example:`const [name, setName] = useState("")
const [items, setItems] = useState([])
const [isOpen, setIsOpen] = useState(false)`},{type:"concept-card",term:"Re-render",explanation:"When state changes, React calls your component function again with the new state. It compares the old and new output, and updates only the DOM elements that actually changed. This is fast  React doesn't recreate everything."},{type:"quiz",question:"Why can't you just write `count = count + 1` instead of `setCount(count + 1)`?",options:["JavaScript doesn't allow reassignment","Changing a variable directly doesn't tell React to re-render  the screen wouldn't update","setCount is faster","TypeScript prevents direct assignment"],correctIndex:1,explanation:"React doesn't watch your variables. It only knows to update the screen when you call the setter (setCount). If you just change the variable, React has no idea anything happened  the screen stays frozen on the old value."}]},{id:"events",title:"Step 6: Events  Responding to Clicks, Types, and Submits",content:[{type:"text",body:'In plain HTML you write onclick="doSomething()". In React you write onClick={doSomething}  camelCase and a function reference (not a string). Events are how your UI responds to the user: clicks, typing, form submissions, keyboard shortcuts.'},{type:"code",language:"typescript",code:`function GemForm() {
  const [title, setTitle] = useState("")
  const [content, setContent] = useState("")

  function handleSubmit(e: React.FormEvent) {
    e.preventDefault()  // Don't reload the page!
    console.log("New gem:", title, content)
    setTitle("")   // Clear the form
    setContent("")
  }

  return (
    <form onSubmit={handleSubmit}>
      <input
        value={title}
        onChange={(e) => setTitle(e.target.value)}
        placeholder="Gem title"
      />
      <textarea
        value={content}
        onChange={(e) => setContent(e.target.value)}
        placeholder="Gem content"
      />
      <button type="submit">Add Gem</button>
    </form>
  )
}`,caption:"A controlled form: React owns the input values. onChange updates state, state updates the input."},{type:"text",body:`Notice the pattern: the input's VALUE comes from state, and onChange UPDATES the state. This is called a "controlled input"  React is the single source of truth. The input always shows exactly what's in state. This prevents the input and your data from getting out of sync.`},{type:"comparison",leftLabel:"Plain HTML",rightLabel:"React",rows:[{label:"Click",left:'onclick="fn()"',right:"onClick={fn}"},{label:"Typing",left:'oninput="fn()"',right:"onChange={fn}"},{label:"Submit",left:'onsubmit="fn()"',right:"onSubmit={fn}"},{label:"Naming",left:"lowercase",right:"camelCase"},{label:"Value",left:"String of code",right:"Function reference"}]},{type:"interactive-code",language:"typescript",starterCode:`// Build a toggle button that switches between
// "Recording" and "Stopped"
// Hint: use useState with a boolean
import { useState } from "react"

function RecordButton() {
  // your code here
}`,solution:`import { useState } from "react"

function RecordButton() {
  const [isRecording, setIsRecording] = useState(false)

  return (
    <button onClick={() => setIsRecording(!isRecording)}>
      {isRecording ? "Recording..." : "Start Recording"}
    </button>
  )
}`,hint:'Create a boolean state: const [isRecording, setIsRecording] = useState(false). Toggle it onClick. Show different text with a ternary: {isRecording ? "Recording..." : "Start"}.',validator:d=>d.includes("useState")&&d.includes("onClick")&&d.includes("isRecording")}]},{id:"lists",title:"Step 7: Lists  Displaying Many Gems",content:[{type:"text",body:"Our gem viewer needs to show a LIST of gems  not just one or two hardcoded ones. In React, you use .map() to turn an array of data into an array of components. Think of it as a factory conveyor belt: data goes in one side, UI pieces come out the other."},{type:"code",language:"typescript",code:`const gems = [
  { id: 1, title: "Rust Ownership", tags: ["rust"] },
  { id: 2, title: "Tauri Commands", tags: ["tauri"] },
  { id: 3, title: "React State", tags: ["react"] },
]

function GemList() {
  return (
    <ul>
      {gems.map(gem => (
        <li key={gem.id}>
          <strong>{gem.title}</strong>
          {gem.tags.map(tag => (
            <span key={tag}> #{tag}</span>
          ))}
        </li>
      ))}
    </ul>
  )
}`,caption:".map() converts each data item into a JSX element. The key prop helps React track which items changed."},{type:"concept-card",term:"key prop",explanation:"A unique identifier for each item in a list. React uses it to track which items were added, removed, or moved. Without keys, React re-renders the entire list on every change (slow). With keys, it only updates what changed.",example:`{items.map(item => (
  <div key={item.id}>  {/* unique! */}
    {item.name}
  </div>
))}`},{type:"text",body:"Now let's combine everything  a list with an add form:"},{type:"code",language:"typescript",code:`import { useState } from "react"

function App() {
  const [gems, setGems] = useState([
    { id: 1, title: "Rust Ownership" },
    { id: 2, title: "Tauri Commands" },
  ])
  const [newTitle, setNewTitle] = useState("")

  function addGem() {
    if (!newTitle.trim()) return
    setGems([...gems, {
      id: Date.now(),  // simple unique ID
      title: newTitle,
    }])
    setNewTitle("")  // clear the input
  }

  return (
    <div>
      <h1>Gem Viewer ({gems.length})</h1>
      <input
        value={newTitle}
        onChange={e => setNewTitle(e.target.value)}
        placeholder="New gem title"
      />
      <button onClick={addGem}>Add</button>
      <ul>
        {gems.map(gem => (
          <li key={gem.id}>{gem.title}</li>
        ))}
      </ul>
    </div>
  )
}`,caption:"The full pattern: state holds the list, form adds to it, .map() renders it. Everything stays in sync."},{type:"text",body:`Notice: we don't do gems.push(newGem). In React, you never mutate state directly. Instead, you create a NEW array with the spread operator: [...gems, newGem]. This tells React "something changed" and triggers a re-render. If you push() onto the existing array, React won't know anything happened.`},{type:"quiz",question:"Why do we write setGems([...gems, newGem]) instead of gems.push(newGem)?",options:["push() is slower","TypeScript doesn't allow push()","React only re-renders when you call the setter with a NEW value  push() modifies the same array in place, so React sees no change","Spread syntax is newer JavaScript"],correctIndex:2,explanation:"React compares the old and new values. If you push() onto the same array, the reference hasn't changed  React thinks nothing happened. By creating a new array with [...gems, newGem], React sees a different reference and re-renders."}]},{id:"typescript",title:"Step 8: TypeScript  Catching Mistakes Before They Happen",content:[{type:"text",body:"JavaScript lets you pass ANYTHING to a component. A number where a string was expected? A missing field? You won't find out until the app crashes in a user's browser. TypeScript adds a safety net: you describe the SHAPE of your data, and the editor tells you about mistakes BEFORE you even run the code."},{type:"text",body:"It's like building with LEGO. Without TypeScript, any piece fits in any hole  you only find out it's wrong when the structure collapses. With TypeScript, each piece has a specific shape  the wrong piece simply won't snap in."},{type:"code",language:"typescript",code:`// Define the SHAPE of a gem
type Gem = {
  id: number
  title: string
  content: string
  tags: string[]
}

// Now the component KNOWS what it receives
function GemCard({ gem }: { gem: Gem }) {
  return (
    <div>
      <h3>{gem.title}</h3>
      <p>{gem.content}</p>
      {gem.tags.map(tag => <span key={tag}>#{tag}</span>)}
    </div>
  )
}

// TypeScript catches mistakes BEFORE running:
<GemCard gem={{ id: 1, title: "Rust" }} />
// Error: Property 'content' is missing!
// Error: Property 'tags' is missing!`,caption:"TypeScript catches the missing fields in your EDITOR  before the code even runs."},{type:"concept-card",term:"type",explanation:`Describes the shape of data. Like a blueprint that says "a Gem MUST have an id (number), title (string), content (string), and tags (array of strings)." Any data that doesn't match gets flagged immediately.`,example:`type Gem = {
  id: number
  title: string
  tags: string[]
}`},{type:"concept-card",term:"string, number, boolean",explanation:"The basic types. string for text, number for any number (integer or decimal), boolean for true/false. Arrays use the type followed by []: string[] is an array of strings.",example:`let name: string = "Jarvis"
let count: number = 42
let active: boolean = true
let tags: string[] = ["rust", "tauri"]`},{type:"concept-card",term:"Props typing",explanation:"You describe what props a component accepts. This way TypeScript tells you if you forget a required prop or pass the wrong type.",example:`type Props = {
  title: string
  count: number
  onClose?: () => void  // ? = optional
}
function Modal({ title, count, onClose }: Props) {}`},{type:"comparison",leftLabel:"JavaScript",rightLabel:"TypeScript",rows:[{label:"Wrong prop type",left:"Crashes at runtime",right:"Red squiggly in editor"},{label:"Missing prop",left:'Shows "undefined"',right:"Compiler error"},{label:"Autocomplete",left:"Limited",right:"Full  knows every field"},{label:"Refactoring",left:"Scary (might break things)",right:"Safe (compiler finds all usages)"},{label:"Learning cost",left:"None",right:"Small  just add type annotations"}]},{type:"quiz",question:"What's the biggest practical benefit of TypeScript in a React project?",options:["The code runs faster","You get autocompletion and catch bugs in your editor before running the code","It makes the bundle smaller","It's required for React to work"],correctIndex:1,explanation:"TypeScript gives you instant feedback. Type gem. and your editor shows every available field. Pass the wrong prop? Red underline immediately. Rename a field? The compiler shows every place that needs updating. It's like spell-check for your code."}]},{id:"hooks",title:"Step 9: Custom Hooks  Reusable Logic",content:[{type:"text",body:`You'll notice patterns repeating: "fetch data, store it in state, show loading while waiting." Instead of copy-pasting this logic into every component, you extract it into a custom hook  a function that starts with "use" and bundles up reusable stateful logic.`},{type:"text",body:`Think of hooks like kitchen gadgets. useState is a basic knife  you use it everywhere. A custom hook is a specialized tool: "useGems" handles all the gem-fetching logic so your component just says "give me the gems" and doesn't worry about how.`},{type:"code",language:"typescript",code:`// A custom hook  extracts reusable logic
function useGems() {
  const [gems, setGems] = useState<Gem[]>([])
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    // Fetch gems from the Tauri backend
    invoke<Gem[]>("get_all_gems").then(data => {
      setGems(data)
      setLoading(false)
    })
  }, [])  // [] means "run once when component first appears"

  function addGem(title: string, content: string) {
    invoke<Gem>("create_gem", { title, content }).then(gem => {
      setGems([...gems, gem])
    })
  }

  return { gems, loading, addGem }
}

// Component is now clean and simple
function App() {
  const { gems, loading, addGem } = useGems()

  if (loading) return <p>Loading...</p>

  return (
    <div>
      <h1>{gems.length} Gems</h1>
      {gems.map(gem => <GemCard key={gem.id} gem={gem} />)}
    </div>
  )
}`,caption:"useGems handles all the data logic. The component just uses the data. Clean separation."},{type:"concept-card",term:"useEffect",explanation:"Runs code AFTER the component renders. Used for: fetching data, setting up listeners, timers. The second argument (dependency array) controls WHEN it re-runs. Empty [] = run once on mount.",example:`useEffect(() => {
  fetchData()   // runs after first render
}, [])          // [] = only once

useEffect(() => {
  search(query) // runs when query changes
}, [query])     // re-run if query changes`},{type:"concept-card",term:"Custom hook (use___)",explanation:'A function starting with "use" that bundles stateful logic. It can use useState, useEffect, and other hooks inside it. Components call it to get the data/functions without knowing the internals.',example:`function useRecording() {
  const [isRecording, setIsRecording] = useState(false)
  function start() { /* ... */ }
  function stop() { /* ... */ }
  return { isRecording, start, stop }
}`},{type:"text",body:`Jarvis uses this exact pattern. The useRecording hook manages all recording state and Tauri command calls. The RecordButton component just calls start() and stop()  it doesn't know about invoke(), sidecars, or audio processing. Clean separation of "what to show" (component) from "how to do it" (hook).`},{type:"quiz",question:"Why extract logic into a custom hook instead of putting it all in the component?",options:["Hooks are faster than component code","React requires all logic to be in hooks","Reusability: multiple components can use the same hook, and it keeps components focused on UI only","Hooks have better error handling"],correctIndex:2,explanation:"useRecording could be used in RecordButton, RecordingStatus, AND a keyboard shortcut handler  all sharing the same logic. Each component stays simple: it just receives data and renders UI. The hook handles the complexity."}]}],jarvisConnections:[{concept:"Components (tree structure)",file:"src/App.tsx",description:"The root component that composes Header, RecordButton, GemList, and other children. The whole UI is a tree of nested components."},{concept:"State + Events (recording)",file:"src/components/RecordButton.tsx",description:"Uses state to track recording status (idle / recording / processing) and onClick to start/stop. The button label and color change automatically based on state."},{concept:"Custom hook (useRecording)",file:"src/hooks/useRecording.ts",description:"Bundles all recording logic: invoke Tauri commands, listen for events, manage state. The RecordButton component just calls start() and stop()."},{concept:"TypeScript types",file:"src/types.ts",description:"Defines Gem, RecordingStatus, IntelProvider, and other types. Every component and hook is fully typed  the editor catches mistakes immediately."},{concept:"Props + Lists (gem display)",file:"src/components/GemList.tsx",description:"Receives an array of gems as props, maps over them to render GemCard components. Each card receives a single gem as props."}]};function Wp(){return s.jsx(ji,{guide:Ip})}const Fp={id:"guide-spec",title:"Spec-Driven Development 101",subtitle:"Requirements first, code second  how Jarvis builds features without guessing",color:"indigo",icon:"",sections:[{id:"the-problem",title:"1  The Problem: Building Without a Map",content:[{type:"text",body:`Imagine you're building a house. You could just start nailing boards together and figure it out as you go. Or you could draw a blueprint first.

Most software starts the first way  someone says "add a search feature," a developer jumps into code, and three days later everyone argues about whether it should search titles only or full content too. The feature gets rewritten twice.

**Spec-driven development is the blueprint approach.** Before you write a single line of code, you write down:
- What the user needs (requirements)
- How the system will do it (design)
- What to build first, second, third (tasks)

This isn't busywork. It's how Jarvis ships features that work the first time.`},{type:"concept-card",term:"Spec-Driven Development",explanation:"Write down what you're building before you build it. A spec is a blueprint  it describes the WHAT and HOW before any code exists.",example:"Before building the Gems feature, Jarvis wrote 9 requirements, a design doc with architecture diagrams, and 12 implementation tasks  all before touching Rust or TypeScript."},{type:"concept-card",term:"Why not just start coding?",explanation:"Without a spec, you discover requirements WHILE coding. That means rewriting, breaking things, and arguing about scope. With a spec, you discover problems on paper where fixes are free.",example:'"Should search_gems return full content or a preview?"  Answering this in a spec takes 30 seconds. Answering it after building takes refactoring the API, the frontend, and the tests.'}]},{id:"three-files",title:"2  The Three Files: requirements  design  tasks",content:[{type:"text",body:`Every feature in Jarvis lives in a folder with exactly three files. Think of them as three layers of zoom:

**requirements.md**  The "WHAT" (zoom out)
What does the user need? What should happen when they click a button? This is written from the user's perspective.

**design.md**  The "HOW" (zoom in)
What structs, traits, and components will we build? What's the architecture? This is written from the developer's perspective.

**tasks.md**  The "DO" (hands on keyboard)
A checklist of implementation steps in dependency order. Each task references which requirements it satisfies.`},{type:"diagram",nodes:[{id:"req",label:"requirements.md",icon:"",color:"#818cf8"},{id:"des",label:"design.md",icon:"",color:"#6366f1"},{id:"tasks",label:"tasks.md",icon:"",color:"#4f46e5"},{id:"code",label:"Code",icon:"",color:"#22c55e"}],connections:[{from:"req",to:"des",label:"informs"},{from:"des",to:"tasks",label:"breaks into"},{from:"tasks",to:"code",label:"guides"}]},{type:"text",body:`In Jarvis, these live at:
\`\`\`
.kiro/specs/
 jarvis-gems/
    requirements.md     What the user needs
    design.md            How we'll build it
    tasks.md             Step-by-step checklist
 jarvis-browser-vision/
    requirements.md
    design.md
    tasks.md
 jarvis-listen/
    ...
 (13 specs total)
\`\`\`

Every feature  gems, browser vision, transcription, settings, the Claude extension extractor  has its own spec folder. No exceptions.`}]},{id:"requirements",title:"3  Writing Requirements: The WHAT",content:[{type:"text",body:`A requirement answers one question: **"What should happen from the user's perspective?"**

Every requirement in Jarvis follows the same template:

1. **User Story**  One sentence: "As a [who], I want [what], so that [why]"
2. **Acceptance Criteria**  A numbered list of SHALL/SHALL NOT rules

Let's look at a real requirement from the Jarvis Gems feature:`},{type:"code",language:"markdown",code:`### Requirement 3: Save Gem

**User Story:** As a JARVIS user, I want to save an extracted
gist as a Gem with one click, so that I can build my personal
knowledge collection.

#### Acceptance Criteria

1. THE System SHALL expose a \`save_gem\` Tauri command that
   accepts a PageGist and persists it via the GemStore trait
2. THE System SHALL generate a UUID v4 as the gem's \`id\`
3. THE System SHALL record the current timestamp as
   \`captured_at\` in ISO 8601 format
4. WHEN a gem with the same \`source_url\` already exists,
   THE System SHALL update (upsert) rather than duplicate
5. THE \`save_gem\` command SHALL return the saved Gem to
   the frontend
6. WHEN the save fails, THE System SHALL return a
   descriptive error message`,caption:"From .kiro/specs/jarvis-gems/requirements.md  Requirement 3"},{type:"text",body:`Notice the pattern:

- **SHALL** = must do this, non-negotiable
- **WHEN...SHALL** = if this happens, then do that
- Each criterion is testable  you can check it off when the code does exactly this

The user story tells you WHY. The acceptance criteria tell you WHAT, precisely. No ambiguity.`},{type:"concept-card",term:"User Story",explanation:'"As a [role], I want [capability], so that [benefit]." Forces you to think about WHO needs this and WHY  not just what to build.',example:'"As a JARVIS user, I want to search my gems by keyword, so that I can quickly find relevant knowledge."'},{type:"concept-card",term:"Acceptance Criteria",explanation:'Numbered SHALL statements that define exactly what "done" means. If all criteria pass, the requirement is met. No opinions, no grey areas.',example:'"THE search SHALL match against title, description, and content fields"  you know exactly which fields to index.'},{type:"concept-card",term:"SHALL vs SHOULD vs MAY",explanation:"SHALL = mandatory, must implement. SHOULD = recommended, implement if possible. MAY = optional, nice to have. Jarvis uses SHALL for everything critical."},{type:"quiz",question:'Why does Requirement 3 say "upsert rather than duplicate" for same source_url?',options:["To save disk space","To prevent the user from having two copies of the same article  update the existing one instead","Because SQLite can't handle duplicates","To make the code simpler"],correctIndex:1,explanation:"If you save a gem from the same YouTube video twice, you want the latest version  not two entries cluttering your collection. The requirement catches this edge case before anyone writes code."}]},{id:"design",title:"4  Writing Design Docs: The HOW",content:[{type:"text",body:`Requirements say WHAT. The design doc says HOW.

A design doc translates user-facing requirements into developer-facing architecture. It answers:
- What structs/types will we create?
- How do the pieces connect?
- What's the data flow?
- What are the error cases?

Here's how the Gems design doc breaks down Requirement 1 (Storage Trait Abstraction):`},{type:"code",language:"markdown",code:`## Architecture

### Layer Responsibilities

**Frontend Layer**
- GistCard: Displays extracted gist with "Save Gem" button
- GemsPanel: Browsable/searchable list of saved gems

**Command Layer**
- Tauri commands depend on GemStore trait (via Arc<dyn GemStore>)
- Commands map between frontend types (PageGist) and
  storage types (Gem)
- Commands handle UUID generation, timestamp recording

**Storage Abstraction Layer**
- GemStore trait: Defines async interface for all operations
- Gem struct: Backend-agnostic data model

**Implementation Layer**
- SqliteGemStore: Default implementation using SQLite + FTS5`,caption:"From .kiro/specs/jarvis-gems/design.md"},{type:"text",body:`See how the design doc introduces **layers**? The requirement just said "save a gem." The design doc says:

1. The **frontend** calls a Tauri command
2. The **command** converts a PageGist  Gem and calls a trait method
3. The **trait** is abstract  any backend can implement it
4. The **SQLite implementation** is just one option

This layering means you can swap SQLite for a cloud API later without touching the frontend or commands. The design doc is where you make these decisions  not mid-coding.`},{type:"comparison",leftLabel:"requirements.md",rightLabel:"design.md",rows:[{label:"Audience",left:"Product owner / user",right:"Developer building it"},{label:"Language",left:"User stories + SHALL rules",right:"Structs, traits, data flows"},{label:"Answers",left:"WHAT should happen?",right:"HOW will we build it?"},{label:"Example",left:'"Save a gem with one click"',right:"GistCard  save_gem cmd  GemStore trait  SqliteGemStore"},{label:"Changes when...",left:"User needs change",right:"Architecture changes"}]}]},{id:"tasks",title:"5  Writing Tasks: The DO",content:[{type:"text",body:`Tasks are the checklist you follow with your hands on the keyboard. Each task:
- Describes exactly what to create or change
- References which requirements it satisfies
- Is ordered by dependency (build the foundation first)

Here's a real snippet from the Gems tasks:`},{type:"code",language:"markdown",code:`- [x] 1. Set up Gems module structure and dependencies
  - Create \`src/gems/\` directory with mod.rs, store.rs,
    sqlite_store.rs
  - Add dependencies to Cargo.toml: async-trait, uuid,
    rusqlite, dirs, chrono
  - Export gems module in src/lib.rs
  - _Requirements: 1.1, 1.6, 2.1_

- [x] 2. Implement GemStore trait and core data types
  - [x] 2.1 Define Gem and GemPreview structs in store.rs
  - [x] 2.2 Define GemStore trait in store.rs
    - Add async_trait annotation
    - Define methods: save, get, list, search, delete
    - _Requirements: 1.1, 1.2_

- [x] 3. Implement SqliteGemStore
  - [x] 3.1 Create SqliteGemStore struct
  - [x] 3.2 Implement schema initialization
  - [x] 3.3 Write unit tests for schema
  - [x] 3.4 Implement GemStore::save method`,caption:"From .kiro/specs/jarvis-gems/tasks.md"},{type:"text",body:`Notice the pattern:

- **Dependency order**: You can't implement save (task 3.4) before defining the trait (task 2.2)
- **Traceability**: Each task says which requirement it fulfills (_Requirements: 1.1, 1.6_)
- **Checkboxes**: As you finish each task, you check it off. Progress is visible.
- **Sub-tasks**: Complex tasks break into numbered sub-steps (3.1, 3.2, 3.3...)

When you come back to this spec a month later, the tasks file tells you exactly where you left off.`},{type:"concept-card",term:"Traceability",explanation:'Every task links back to a requirement number. This means you can trace any line of code back to a user need. Nothing gets built "because it seemed cool"  everything exists for a reason.',example:'Task 3.2 (schema initialization) links to Requirements 2.3 and 2.4. If someone asks "why do we have an FTS5 table?" you can trace it back to Requirement 5: full-text search.'},{type:"concept-card",term:"Dependency Order",explanation:"Tasks are ordered so each one builds on the previous. You never start a task that depends on something not yet built.",example:"You can't implement the GemsPanel UI (task 6) until the Tauri commands exist (task 4) and the SQLite store works (task 3)."}]},{id:"real-workflow",title:"6  Real Workflow: How Gems Was Built",content:[{type:"text",body:"Let's walk through exactly how the Gems feature went from idea to working code using specs. This is the actual sequence that happened:"},{type:"text",body:`**Step 1: Write requirements.md**

Someone said: "I want to save extracted gists so I can find them later."

That one sentence became 9 requirements:
- Req 1: Storage trait abstraction (so we can swap backends later)
- Req 2: SQLite implementation (default backend)
- Req 3: Save gem
- Req 4: List gems
- Req 5: Search gems
- Req 6: Delete gem
- Req 7: Save button in Browser Tool
- Req 8: Gems Panel UI
- Req 9: Don't break existing features

Each with precise acceptance criteria. This took maybe an hour. It saved days of "wait, should search include content or just titles?" debates later.`},{type:"text",body:`**Step 2: Write design.md**

The design doc decided:
- Use a trait so backends are swappable  GemStore trait
- SQLite + FTS5 for the default  SqliteGemStore
- Commands map PageGist  Gem (don't change existing types)
- Frontend gets a GemsPanel component

Key decision captured in the design: "Commands depend on the GemStore trait via Arc<dyn GemStore>, NOT on any concrete implementation." This one sentence shaped the entire architecture.`},{type:"text",body:`**Step 3: Write tasks.md**

12 tasks in dependency order. Start with module structure, then trait definition, then SQLite implementation, then Tauri commands, then frontend. Each task references requirements.

**Step 4: Code**

Now  and only now  open the editor. Follow the tasks top to bottom. Check off each one. When you're done, every requirement is satisfied because every task traces back to one.`},{type:"diagram",nodes:[{id:"idea",label:'Idea: "save gists"',icon:"",color:"#fbbf24"},{id:"reqs",label:"9 Requirements",icon:"",color:"#818cf8"},{id:"design",label:"Architecture",icon:"",color:"#6366f1"},{id:"tasks",label:"12 Tasks",icon:"",color:"#4f46e5"},{id:"code",label:"Working Code",icon:"",color:"#22c55e"},{id:"ship",label:"Ship It",icon:"",color:"#10b981"}],connections:[{from:"idea",to:"reqs",label:"~1 hour"},{from:"reqs",to:"design",label:"~1 hour"},{from:"design",to:"tasks",label:"~30 min"},{from:"tasks",to:"code",label:"follow checklist"},{from:"code",to:"ship",label:"all tasks "}]}]},{id:"spec-evolution",title:"7  Spec Evolution: When Requirements Change",content:[{type:"text",body:`Features evolve. The first version ships, users give feedback, and you need v2. Spec-driven development handles this gracefully  you don't throw away the old spec, you write a new one that references it.

Jarvis Browser Vision is the perfect example:`},{type:"comparison",leftLabel:"Browser Vision v1",rightLabel:"Browser Vision v2",rows:[{label:"Observer start",left:'Manual  user clicks "Start" in YouTube section',right:"Auto  starts on app launch, runs in background"},{label:"YouTube detection",left:"Detect URL, fetch full page HTML (~2-3s)",right:"Detect URL, quick oEmbed fetch (~200ms), then full page on demand"},{label:"Notification",left:'"YouTube video detected"',right:`"You're watching: [Title]. Would you like a gist?"`},{label:"Dedup",left:"Compare against last URL only",right:"HashSet of seen video IDs  never re-notify for same video"},{label:"User action",left:"Switch to YouTube section manually",right:"Click notification  Jarvis foregrounds with section open"},{label:"Settings",left:"None",right:"Toggle observer on/off, persisted to settings.json"}]},{type:"text",body:`Both versions have their own spec folder:
\`\`\`
.kiro/specs/
 jarvis-browser-vision/        v1 spec
    requirements.md
    design.md
    tasks.md
 jarvis-browser-vision-v2/     v2 spec (references v1)
    requirements.md
    design.md
    tasks.md
\`\`\`

The v2 requirements.md starts by explaining what changed from v1:

> "In v1, the user had to manually open the YouTube section and start the observer. In v2, JARVIS automatically observes Chrome in the background from the moment the app launches."

This gives anyone reading the spec full context: what existed before, what changed, and why.`},{type:"concept-card",term:"Spec Versioning",explanation:"When a feature evolves significantly, create a new spec folder (v2) rather than rewriting v1. This preserves the history of decisions and makes it easy to understand how the feature grew.",example:"jarvis-browser-vision/ stays unchanged as a historical record. jarvis-browser-vision-v2/ describes the evolution. Anyone can read both to understand the full journey."}]},{id:"glossary",title:"8  Naming Things: The Glossary",content:[{type:"text",body:`Every Jarvis spec starts with a **Glossary** section. This isn't just decoration  it's one of the most important parts.

When you're building software, confusion about names causes real bugs. If one developer calls it a "gist" and another calls it an "extraction" and a third calls it a "summary," the code becomes inconsistent  and eventually, someone uses the wrong variable.

The glossary establishes the official vocabulary for a feature:`},{type:"code",language:"markdown",code:`## Glossary

- **Gem**: A persistent knowledge unit extracted from a
  browser source. Contains structured metadata (title,
  author, source type, domain) plus the full extracted
  content.

- **GemStore**: A Rust trait defining the storage interface
  for gems. Operations: save, list, search, delete, get.
  Implementations are swappable.

- **PageGist**: The existing in-memory struct returned by
  extractors. A PageGist becomes a Gem when the user
  saves it.

- **FTS5**: SQLite's full-text search extension. Enables
  fast keyword search across gem titles, descriptions,
  and content.`,caption:"From .kiro/specs/jarvis-gems/requirements.md  Glossary"},{type:"text",body:`Now everyone on the team  including AI tools  knows:
- A **PageGist** is temporary (in-memory)
- A **Gem** is persistent (saved to database)
- A PageGist *becomes* a Gem when saved
- **GemStore** is the abstract interface, not a concrete database

No confusion. No "did you mean the gist or the gem?" conversations. The code mirrors the glossary: the struct is literally called \`Gem\`, the trait is literally called \`GemStore\`.`},{type:"quiz",question:"Why is the glossary at the TOP of the spec, before requirements?",options:["Alphabetical order","So you understand the vocabulary before reading the rules that use it","It's optional, doesn't matter where it goes","To make the document longer"],correctIndex:1,explanation:'If you read "THE System SHALL expose a save_gem command that accepts a PageGist and persists it via the GemStore trait" without knowing what PageGist or GemStore mean, the requirement is gibberish. The glossary defines the language first.'}]},{id:"try-it",title:"9  Try It: Write a Mini Spec",content:[{type:"text",body:`Let's practice. Imagine you're adding a **"Favorites"** feature to Jarvis  users can star their favorite gems for quick access.

Here's your exercise: Write a requirement for the "favorite a gem" action using the pattern you've learned.`},{type:"interactive-code",language:"markdown",starterCode:`### Requirement: Favorite a Gem

**User Story:** As a ______, I want to ______,
so that ______.

#### Acceptance Criteria

1. THE System SHALL ...
2. WHEN ______, THE System SHALL ...
3. THE ______ command SHALL return ...`,solution:`### Requirement: Favorite a Gem

**User Story:** As a JARVIS user, I want to mark a gem
as a favorite, so that I can quickly find my most
important knowledge.

#### Acceptance Criteria

1. THE System SHALL expose a \`toggle_favorite\` Tauri
   command that accepts a gem \`id\` and a \`favorite\`
   boolean
2. WHEN favorite is true, THE System SHALL mark the gem
   as favorited in the GemStore
3. WHEN favorite is false, THE System SHALL remove the
   favorite mark
4. THE \`toggle_favorite\` command SHALL return the
   updated Gem to the frontend
5. THE \`list_gems\` command SHALL accept an optional
   \`favorites_only\` filter parameter`,hint:"Follow the pattern: User Story (who/what/why), then SHALL statements for each behavior. Think about: what command name? what happens when you favorite? what happens when you un-favorite? how do you find favorites later?",validator:d=>{const w=d.toLowerCase();return w.includes("user story")&&w.includes("shall")&&w.includes("acceptance criteria")}},{type:"text",body:"Now try writing a task that implements your requirement:"},{type:"interactive-code",language:"markdown",starterCode:`## Task: Implement Favorite Gem

- [ ] 1. Add \`favorite\` field to ...
  - _Requirements: ..._

- [ ] 2. Implement \`toggle_favorite\` ...
  - _Requirements: ..._

- [ ] 3. Update frontend ...
  - _Requirements: ..._`,solution:`## Task: Implement Favorite Gem

- [ ] 1. Add \`favorite\` field to Gem struct and database
  - Add \`is_favorite: bool\` to Gem struct (default false)
  - Add \`is_favorite\` INTEGER column to gems table
  - Run migration to add column to existing databases
  - _Requirements: 1_

- [ ] 2. Implement toggle_favorite Tauri command
  - Add \`toggle_favorite(id: String, favorite: bool)\`
    command in commands.rs
  - Update the gem's is_favorite field in SqliteGemStore
  - Return the updated Gem
  - _Requirements: 1, 2, 3, 4_

- [ ] 3. Update list_gems to support favorites filter
  - Add optional \`favorites_only: bool\` parameter
  - When true, add WHERE is_favorite = 1 to query
  - _Requirements: 5_

- [ ] 4. Add favorite button to gem card in frontend
  - Add star icon toggle to each gem card
  - Call toggle_favorite on click
  - Add "Favorites" filter toggle to GemsPanel
  - _Requirements: 1, 5_`,hint:"Tasks should be in dependency order: database change first, then backend command, then frontend. Each task should reference which requirement number it satisfies.",validator:d=>{const w=d.toLowerCase();return w.includes("requirements")&&(w.includes("- [")||w.includes("-["))&&w.includes("favorite")}}]},{id:"all-specs",title:"10  The Full Picture: All 13 Jarvis Specs",content:[{type:"text",body:"Every feature in Jarvis was built with a spec. Here's the complete map  13 spec folders, each with requirements  design  tasks:"},{type:"diagram",nodes:[{id:"app",label:"jarvis-app",icon:"",color:"#6366f1"},{id:"listen",label:"jarvis-listen",icon:"",color:"#f59e0b"},{id:"transcribe",label:"jarvis-transcribe",icon:"",color:"#f59e0b"},{id:"whisper",label:"jarvis-whisperkit",icon:"",color:"#f59e0b"},{id:"browser",label:"browser-vision",icon:"",color:"#3b82f6"},{id:"browserv2",label:"browser-vision-v2",icon:"",color:"#3b82f6"},{id:"gems",label:"jarvis-gems",icon:"",color:"#8b5cf6"},{id:"medium",label:"medium-extractor",icon:"",color:"#10b981"},{id:"claude",label:"claude-extension",icon:"",color:"#10b981"},{id:"settings",label:"jarvis-settings",icon:"",color:"#64748b"},{id:"intel",label:"intelligence-kit",icon:"",color:"#ec4899"},{id:"inteli",label:"intel-integration",icon:"",color:"#ec4899"},{id:"mlx",label:"mlx-intelligence",icon:"",color:"#ec4899"}],connections:[{from:"listen",to:"transcribe",label:"audio  text"},{from:"transcribe",to:"whisper",label:"uses"},{from:"browser",to:"browserv2",label:"evolved to"},{from:"browserv2",to:"gems",label:"saves to"},{from:"medium",to:"gems",label:"saves to"},{from:"claude",to:"gems",label:"saves to"},{from:"intel",to:"inteli",label:"integrates via"},{from:"inteli",to:"mlx",label:"provides"}]},{type:"text",body:`**Audio pipeline**: jarvis-listen  jarvis-transcribe  jarvis-whisperkit
Three specs that together define how Jarvis captures and transcribes audio.

**Browser pipeline**: browser-vision  browser-vision-v2
How Jarvis observes Chrome and detects content. v2 adds auto-start and smart notifications.

**Extractors**: medium-extractor, claude-extension-extractor
Each extractor has its own spec defining how it parses a specific content source.

**Storage**: jarvis-gems
The persistence layer where all extracted knowledge is saved and searched.

**Intelligence**: intelligence-kit  intelligence-kit-integration  mlx-intelligence
The AI layer  how Jarvis processes and understands content.

**Core**: jarvis-app, jarvis-settings
The application shell and user preferences.

Every box in this diagram has a folder in \`.kiro/specs/\` with three files. That's 13 features  3 files = 39 documents guiding the entire codebase.`},{type:"quiz",question:'If you wanted to add a "Twitter/X extractor" to Jarvis, what would you do FIRST?',options:["Start writing the Rust code for scraping tweets","Create .kiro/specs/jarvis-twitter-extractor/ with requirements.md, design.md, and tasks.md","Ask a designer to mockup the UI","Add a new Tauri command called extract_tweet"],correctIndex:1,explanation:"Spec first, code second. Create the spec folder, write the requirements (what tweets to extract, what metadata to capture), the design (how to scrape, what structs), and the tasks (implementation checklist). Then code."}]}],jarvisConnections:[{concept:"Requirements Document",file:".kiro/specs/jarvis-gems/requirements.md",description:"Real example: 9 requirements with user stories and acceptance criteria for the Gems feature"},{concept:"Design Document",file:".kiro/specs/jarvis-gems/design.md",description:"Real example: Architecture with trait abstraction, layer diagram, and data models"},{concept:"Tasks Checklist",file:".kiro/specs/jarvis-gems/tasks.md",description:"Real example: 12 ordered tasks with sub-steps and requirement traceability"},{concept:"Spec Evolution (v1)",file:".kiro/specs/jarvis-browser-vision/requirements.md",description:"Browser Vision v1: manual observer start, basic YouTube detection"},{concept:"Spec Evolution (v2)",file:".kiro/specs/jarvis-browser-vision-v2/requirements.md",description:"Browser Vision v2: auto-start, oEmbed, smart notifications  see how specs evolve"}]};function $p(){return s.jsx(ji,{guide:Fp})}const Pp={id:"guide-sidecar",title:"The Sidecar Pattern 101",subtitle:"Build a tiny helper program that runs alongside your app  then see how Jarvis uses two of them",color:"teal",icon:"",sections:[{id:"big-picture",title:"What Are We Building?",content:[{type:"text",body:`You're going to build something simple: a Python script that counts words. Then you'll write a Rust program that starts that Python script, sends it text, and reads back the word count.

Two programs. Running at the same time. Talking to each other.

That's the sidecar pattern. And it's exactly how Jarvis works  except instead of counting words, Jarvis's sidecars capture microphone audio (Swift) and run AI models (Python).`},{type:"diagram",nodes:[{id:"idea",label:"1. The idea",icon:""},{id:"build",label:"2. Build a helper",icon:""},{id:"spawn",label:"3. Start it from Rust",icon:""},{id:"talk",label:"4. Send & receive",icon:""},{id:"watch",label:"5. Watch for problems",icon:""},{id:"bug",label:"6. A real bug story",icon:""},{id:"bundle",label:"7. Ship it together",icon:""},{id:"jarvis",label:"8. How Jarvis does it",icon:""}],connections:[{from:"idea",to:"build"},{from:"build",to:"spawn"},{from:"spawn",to:"talk"},{from:"talk",to:"watch"},{from:"watch",to:"bug"},{from:"bug",to:"bundle"},{from:"bundle",to:"jarvis"}]},{type:"text",body:`By the end, you'll understand:
- Why your main app sometimes needs a helper program
- How to start one, talk to it, and shut it down
- Why some data breaks when sent the wrong way (a real Jarvis debugging story)
- How Jarvis bundles Swift and Python helpers inside a desktop app`}]},{id:"the-idea",title:"Step 1: Why Would You Run TWO Programs?",content:[{type:"text",body:`Imagine you run a bakery. You're great at making bread. But one day a customer wants a wedding cake. You COULD learn cake decorating from scratch  buy new tools, practice for months. Or you could call your friend who's already a cake decorator and say: "Hey, I'll handle the bread, you handle the cake. We'll work side by side in my kitchen."

That friend is a **sidecar**  a separate worker who runs alongside you, doing a job you can't (or shouldn't) do yourself.

In software, the same thing happens. Your main program is great at some things but terrible at others:`},{type:"text",body:`**Jarvis (Rust)** is great at: managing windows, handling commands, storing data, coordinating everything.

**Jarvis (Rust)** is NOT great at: capturing microphone audio on macOS (Apple designed those tools for Swift), or running AI models (the ML world runs on Python).

So Jarvis calls two friends:
- **JarvisListen**  a Swift program that captures audio
- **IntelligenceKit**  a Python program that runs AI models

They run side by side. Jarvis is the boss (starts them, tells them what to do, shuts them down). The helpers do their specialized jobs.`},{type:"concept-card",term:"Sidecar",explanation:"A separate program that runs alongside your main program. Your main program starts it, sends it work, and shuts it down when done. They're two independent programs cooperating.",example:"Your Rust app starts a Python script. The Python script runs AI inference. Your Rust app sends text and receives summaries. When the user closes the app, Rust tells Python to shut down."},{type:"concept-card",term:"Process",explanation:"A program that's currently running. When you open Chrome, that's a process. When you open Spotify, that's another process. Each process has its own memory and runs independently. If one crashes, the others keep going.",example:"If you force-quit Spotify, Chrome doesn't crash. They're separate processes. Same with sidecars  if the Python helper crashes, your Rust app stays alive."},{type:"quiz",question:"Why does Jarvis use a Swift HELPER for audio capture instead of doing it all in Rust?",options:["Rust is too slow for audio","Apple built audio capture tools for Swift  using them from Rust would be extremely complex and fragile","Swift is faster than Rust","Tauri requires Swift for audio"],correctIndex:1,explanation:`Apple's audio capture APIs (AVFoundation) are designed for Swift and Objective-C. You CAN call them from Rust, but it requires writing dangerous "unsafe" bridge code that's hard to maintain. A Swift sidecar lets you use Apple's tools the way Apple intended.`}]},{id:"build-helper",title:"Step 2: Build the Helper (Python Word Counter)",content:[{type:"text",body:`Let's start with the helper program. It's intentionally tiny  just a Python script that:
1. Waits for a line of text
2. Counts the words
3. Sends back the count
4. Repeats until told to stop

Create a file called \`word_counter.py\`:`},{type:"code",language:"python",code:`# word_counter.py  our sidecar helper
import sys
import json

# Read one line at a time from stdin (standard input)
# "stdin" is like a mailbox  the main program drops
# messages in, we pick them up
for line in sys.stdin:
    line = line.strip()  # remove the newline character

    # If the main program says "quit", we stop
    if line == "quit":
        break

    # Parse the incoming JSON message
    try:
        request = json.loads(line)
        text = request.get("text", "")
        word_count = len(text.split())

        # Send back a JSON response on stdout (standard output)
        # "stdout" is our mailbox going the OTHER direction
        response = {"ok": True, "count": word_count}
        print(json.dumps(response), flush=True)

    except json.JSONDecodeError:
        # If we can't understand the message, say so
        error = {"ok": False, "error": "Invalid JSON"}
        print(json.dumps(error), flush=True)`,caption:"FILE: word_counter.py  A tiny helper that counts words in text"},{type:"text",body:'Let\'s test it by hand. Open a terminal and run:\n```bash\npython3 word_counter.py\n```\n\nNow type this and press Enter:\n```\n{"text": "hello world how are you"}\n```\n\nYou should see:\n```\n{"ok": true, "count": 5}\n```\n\nType `quit` to stop. Congratulations  you just built a sidecar! It sits there, waiting for work, processing it, and sending results back.'},{type:"concept-card",term:"stdin (Standard Input)",explanation:"A text channel where a program RECEIVES input. Think of it as the program's inbox. When you type in the terminal, you're writing to stdin. When another program spawns this one, IT writes to stdin instead of you.",example:'You typed {"text": "hello world"} and pressed Enter. That text went through stdin into word_counter.py. Later, your Rust program will write to stdin instead of you typing.'},{type:"concept-card",term:"stdout (Standard Output)",explanation:"A text channel where a program SENDS output. Think of it as the program's outbox. print() in Python writes to stdout. The main program reads from this channel to get responses.",example:'word_counter.py used print() to send {"ok": true, "count": 5}. That went to stdout, which appeared in your terminal. Later, your Rust program will read from stdout instead of it showing on screen.'},{type:"concept-card",term:"JSON (JavaScript Object Notation)",explanation:"A text format for structured data. Key-value pairs wrapped in curly braces. Both humans and programs can read it easily. Perfect for sending messages between programs.",example:'{"text": "hello world", "count": 2}  keys are "text" and "count", values are the string and the number.'},{type:"text",body:`Notice the protocol: one JSON message per line. This format has a name  **NDJSON** (Newline-Delimited JSON). Each message is a complete JSON object, followed by a newline character (\\n). It's dead simple:
- Write one JSON object
- Add \\n at the end
- That's one message

Jarvis's IntelligenceKit uses exactly this same pattern to exchange AI commands.`},{type:"concept-card",term:"NDJSON (Newline-Delimited JSON)",explanation:"A super simple protocol: one JSON object per line. Send a message = write JSON + press Enter. Receive a message = read one line. No headers, no framing, no complexity.",example:`Line 1: {"command":"summarize","text":"..."}  request
Line 2: {"ok":true,"result":"..."}  response
Each line is one complete message.`}]},{id:"spawn-from-rust",title:"Step 3: Start the Helper from Rust",content:[{type:"text",body:`Now comes the interesting part. Instead of YOU typing into the Python script, your Rust program will do it.

The Rust program will:
1. **Spawn** (start) the Python script as a child process
2. Write to its stdin (send commands)
3. Read from its stdout (get responses)
4. Kill it when done

First, set up the Rust project:`},{type:"code",language:"bash",code:`# Create a new Rust project
cargo new sidecar-demo
cd sidecar-demo

# Copy word_counter.py into this folder
cp ../word_counter.py .`,caption:"Set up the project  Rust code + Python helper side by side"},{type:"text",body:"Now write the Rust code that starts the Python script and talks to it. Open `src/main.rs`:"},{type:"code",language:"rust",code:`// src/main.rs  the main program that controls the sidecar
use std::io::{BufRead, BufReader, Write};
use std::process::{Command, Stdio};

fn main() {
    //  Step 1: SPAWN the helper 
    // Command::new starts a new process, like double-clicking
    // an app. We start "python3" and tell it to run our script.
    //
    // Stdio::piped() means "I want to write to its stdin and
    // read from its stdout, like plugging in pipes between us"
    let mut child = Command::new("python3")
        .arg("word_counter.py")
        .stdin(Stdio::piped())    // we'll write TO the helper
        .stdout(Stdio::piped())   // we'll read FROM the helper
        .spawn()                  // actually start it!
        .expect("Failed to start Python helper");

    // Take ownership of the stdin/stdout pipes
    let mut stdin = child.stdin.take()
        .expect("Failed to get stdin");
    let stdout = child.stdout.take()
        .expect("Failed to get stdout");
    let mut reader = BufReader::new(stdout);

    println!("Helper started! Sending some text...");

    //  Step 2: TALK to the helper 
    // Send a JSON command (write to stdin)
    let command = r#"{"text": "the quick brown fox jumps"}"#;
    writeln!(stdin, "{}", command)
        .expect("Failed to write to helper");

    // Read the JSON response (read one line from stdout)
    let mut response = String::new();
    reader.read_line(&mut response)
        .expect("Failed to read from helper");

    println!("Sent: {}", command);
    println!("Got back: {}", response.trim());

    // Send another one!
    let command2 = r#"{"text": "hello"}"#;
    writeln!(stdin, "{}", command2)
        .expect("Failed to write to helper");

    let mut response2 = String::new();
    reader.read_line(&mut response2)
        .expect("Failed to read from helper");

    println!("Sent: {}", command2);
    println!("Got back: {}", response2.trim());

    //  Step 3: KILL the helper 
    // Tell it to quit gracefully
    writeln!(stdin, "quit")
        .expect("Failed to send quit");

    // Wait for the process to finish
    let status = child.wait()
        .expect("Failed to wait for helper");

    println!("Helper exited with: {}", status);
}`,caption:"FILE: src/main.rs  Rust program that spawns, talks to, and kills the Python helper"},{type:"text",body:`Run it:
\`\`\`bash
cargo run
\`\`\`

You should see:
\`\`\`
Helper started! Sending some text...
Sent: {"text": "the quick brown fox jumps"}
Got back: {"ok": true, "count": 5}
Sent: {"text": "hello"}
Got back: {"ok": true, "count": 1}
Helper exited with: exit status: 0
\`\`\`

That's it. Two programs, different languages, talking to each other through pipes. This is the sidecar pattern.`},{type:"concept-card",term:"spawn()",explanation:'Starts a new process. Like double-clicking an app  it creates a running program. The "parent" process (your Rust app) can control the "child" process (the Python script)  send it data, read its output, or kill it.',example:'Command::new("python3").arg("word_counter.py").spawn() starts Python running your script. Returns a handle you can use to talk to it or stop it.'},{type:"concept-card",term:"Stdio::piped()",explanation:`Connects your program's stdin/stdout to the child process with a "pipe"  like a tube between two rooms. You write into one end, the child reads from the other end. Without piped(), the child's output would just appear in your terminal.`,example:"Without piped(): Python's print() shows up in your terminal. With piped(): Python's print() gets captured by your Rust program so it can read and process the output."},{type:"concept-card",term:"Child Process",explanation:'A process started BY another process. The starter is the "parent," the started one is the "child." The parent can wait for the child to finish, send it signals, or kill it. If the parent exits, the child may be cleaned up by the OS.',example:`Your Rust program (parent) spawns Python (child). Rust controls Python's lifetime. When Rust sends "quit," Python exits. If Rust crashes, the OS cleans up the orphaned Python process.`},{type:"quiz",question:"What does Stdio::piped() do when spawning a child process?",options:["Makes the child process run faster","Connects the parent's write end to the child's stdin, and the child's stdout to the parent's read end  like plugging pipes between them","Saves the child's output to a file","Prevents the child from printing anything"],correctIndex:1,explanation:"piped() creates a connection between the two processes. The parent writes into one end of the pipe  data comes out the child's stdin. The child writes to stdout  data comes out the parent's read end. Two-way communication through pipes."}]},{id:"watch-for-problems",title:"Step 4: Watch for Problems",content:[{type:"text",body:`Our demo works, but it's fragile. What if the Python script crashes? What if it takes forever to respond? What if the file doesn't exist?

A real sidecar manager handles four things that can go wrong:`},{type:"text",body:`**1. Spawn failure**  The helper program doesn't exist or can't start.

Imagine you call your cake decorator friend but their phone is disconnected. You need to handle this gracefully instead of panicking.`},{type:"code",language:"rust",code:`// Instead of .expect() which crashes your program...
let child = Command::new("python3")
    .arg("word_counter.py")
    .spawn();

// ...handle the error gracefully
match child {
    Ok(child) => println!("Helper started!"),
    Err(e) => {
        println!("Couldn't start helper: {}", e);
        println!("Is Python installed? Is the script there?");
        return;  // exit gracefully, don't crash
    }
}`,caption:"Handle the case where the helper can't start"},{type:"text",body:`**2. Crash**  The helper starts but dies unexpectedly.

Your cake decorator shows up but faints halfway through. You need to detect this and tell the customer.`},{type:"code",language:"rust",code:`// After the helper finishes (or crashes), check how it exited
let status = child.wait().expect("Failed to wait");

if status.success() {
    println!("Helper finished normally");
} else {
    // Non-zero exit code = something went wrong
    println!("Helper crashed! Exit code: {:?}", status.code());
    // Tell the user something went wrong
}`,caption:"Detect crashes by checking the exit code"},{type:"text",body:`**3. Hang**  The helper is alive but stops responding. It's stuck.

Your cake decorator is in the kitchen but staring at the wall. No cake is coming out. You can't wait forever.

The fix is a **timeout**  if no response comes within a certain time, give up and report an error. Jarvis uses 30-second timeouts:`},{type:"code",language:"rust",code:`// Jarvis's approach: wrap every read with a timeout
// (This uses tokio, Rust's async runtime)

// "Give me a response within 30 seconds, or fail"
let result = tokio::time::timeout(
    Duration::from_secs(30),
    reader.read_line(&mut response)
).await;

match result {
    Ok(Ok(_)) => println!("Got response: {}", response),
    Ok(Err(e)) => println!("Read error: {}", e),
    Err(_) => println!("Helper didn't respond in 30s  it's hung!"),
}`,caption:"Timeouts prevent waiting forever for a stuck helper"},{type:"text",body:`**4. Permission error**  The helper tries to do something the OS won't allow.

Your cake decorator tries to use your oven but you haven't given them the key. On macOS, this happens with microphone access, screen recording, and file access.

Jarvis detects this by scanning the helper's error output (stderr) for keywords:`},{type:"code",language:"rust",code:`// JarvisListen (the audio sidecar) writes errors to stderr
// Jarvis reads stderr and looks for permission-related words

if error_text.contains("permission")
    || error_text.contains("Microphone")
    || error_text.contains("Screen Recording")
{
    // Show the user a friendly message:
    // "Please open System Settings > Privacy and
    //  allow Jarvis to use the microphone"
    show_permission_prompt();
}`,caption:"Detect permission errors by scanning the helper's error output"},{type:"concept-card",term:"stderr (Standard Error)",explanation:"A third channel (besides stdin and stdout) specifically for error messages. Programs write errors here so they don't get mixed up with normal output. The parent can read stderr separately to detect problems.",example:`stdout says {"ok": true, "count": 5} (normal output). stderr says "Warning: low memory" (error/diagnostic output). Reading them separately means errors don't corrupt your data.`},{type:"concept-card",term:"Exit Code",explanation:`A number a process returns when it finishes. 0 means "everything went fine." Any other number means "something went wrong." It's like a thumbs up (0) or thumbs down (non-zero).`,example:"Your Python script finishes normally  exit code 0. Python crashes with an exception  exit code 1. Your Rust program checks this number to know if the helper succeeded."},{type:"concept-card",term:"Timeout",explanation:"A maximum time you're willing to wait for a response. If the response doesn't come in time, you stop waiting and treat it as a failure. Prevents your program from freezing forever when a helper gets stuck.",example:'Jarvis sends "summarize this article" to IntelligenceKit. If no response comes in 30 seconds, Jarvis stops waiting and shows an error message to the user.'},{type:"quiz",question:"Your sidecar is alive but hasn't responded for 2 minutes. What happened and what should you do?",options:["It's working fine, just be patient","It's probably hung (stuck). Use a timeout to stop waiting and report the failure.","Kill your own program and restart everything","Send it more requests to wake it up"],correctIndex:1,explanation:`A process that's alive but not responding is "hung." The fix is timeouts  set a maximum wait time (Jarvis uses 30 seconds). When the timeout fires, stop waiting, report the error, and optionally restart the helper.`}]},{id:"binary-bug",title:"Step 5: The Bug  When Pipes Break (A Real Jarvis Story)",content:[{type:"text",body:`Everything we've built so far uses stdin/stdout pipes with text messages. JSON goes in, JSON comes out. This works perfectly.

But there's a trap. A real one that bit Jarvis.

**The story**: JarvisListen (the Swift audio helper) captures microphone audio. The original plan was simple  have it write the raw audio bytes to stdout, and Jarvis reads them. Same pattern as our word counter, right?

**The bug**: The audio was corrupted. Sometimes fine, sometimes garbled. Completely unpredictable.

**It took hours to find the cause.** Here's what happened:`},{type:"text",body:`Audio data is **binary**  raw numbers representing sound waves. These numbers can be anything from 0 to 255 (for each byte).

One of those numbers is **10**. In decimal, ten. In hexadecimal, 0x0A.

Here's the problem: the number 10 is ALSO the code for a **newline character** (\\n). When you press Enter on your keyboard, that's byte 10.

Tauri's shell plugin reads stdout as TEXT. It splits the stream into "lines" whenever it sees byte 10 (newline). This is perfect for JSON messages  each line is one message.

But audio data isn't text. The byte 10 appears constantly in audio  it's just a normal sound wave value. So when JarvisListen sent audio through stdout:`},{type:"code",language:"text",code:`Audio bytes sent by JarvisListen:
[05] [12] [0A] [7F] [33] [0A] [01] [44]
                              
          byte 10!          byte 10!
       (sounds like        (sounds like
        quiet hum)          quiet hum)

What Tauri's shell plugin saw:
"Oh, I see newlines! Let me split into lines!"

Line 1: [05] [12]                     missing [0A]!
Line 2: [7F] [33]                     missing [0A]!
Line 3: [01] [44]

The audio bytes [0A] were EATEN by the text splitter.
The audio waveform was corrupted.`,caption:"Binary byte 10 looks like a newline to text-mode readers  audio gets scrambled"},{type:"diagram",nodes:[{id:"swift",label:"JarvisListen",icon:"",color:"#f59e0b"},{id:"stdout",label:"stdout (text mode)",icon:"",color:"#ef4444"},{id:"tauri",label:'Tauri splits on "\\n"',icon:"",color:"#ef4444"},{id:"rust",label:"Jarvis gets fragments",icon:"",color:"#f59e0b"},{id:"broken",label:"Broken audio!",icon:"",color:"#ef4444"}],connections:[{from:"swift",to:"stdout",label:"raw audio bytes"},{from:"stdout",to:"tauri",label:"splits on byte 10"},{from:"tauri",to:"rust",label:"chunks with missing bytes"},{from:"rust",to:"broken",label:"audio is garbled!"}]},{type:"text",body:`**The fix**: Don't send binary data through text pipes. Instead, JarvisListen writes audio to a **file** (specifically a FIFO  a special kind of file that works like a pipe but handles binary safely).

stdout is now ONLY used for text messages (errors, warnings). Audio goes through the file where no newline-splitting happens.`},{type:"code",language:"rust",code:`// BEFORE (broken):
// Audio sent through stdout  Tauri splits on byte 10
let (rx, child) = sidecar.spawn()?;
while let Some(CommandEvent::Stdout(chunk)) = rx.recv() {
    process_audio(chunk); // broken! bytes missing!
}

// AFTER (fixed):
// Audio written to a file, stdout only for text
let sidecar = sidecar.args(["--output", "/tmp/audio.fifo"]);
let (rx, child) = sidecar.spawn()?;

// Read audio from the file  binary-safe, no splitting
let mut file = File::open("/tmp/audio.fifo")?;
let mut buf = [0u8; 3200];
while file.read(&mut buf) > 0 {
    process_audio(buf); // works! all bytes intact!
}`,caption:"The fix: binary data goes through files, text goes through stdin/stdout"},{type:"concept-card",term:"Binary vs Text",explanation:"Text data uses characters (letters, numbers, punctuation). Binary data is raw bytes  any value from 0-255. Text pipes assume certain bytes have special meaning (like 10 = newline). Binary data doesn't  10 is just the number ten. Sending binary through text pipes corrupts it.",example:'JSON text: {"count": 5}  safe through text pipes. Audio bytes: [05, 0A, 7F]  NOT safe, because 0A gets treated as a newline.'},{type:"concept-card",term:"FIFO (First In First Out / Named Pipe)",explanation:"A special file on disk that works like a pipe  one program writes, another reads. Data flows through it without being stored on disk. Unlike stdin/stdout, it doesn't do any text processing, so binary data passes through safely.",example:"JarvisListen writes audio bytes to /tmp/audio.fifo. AudioRouter opens the same path and reads the bytes. Data flows through the FIFO without any modification  no newline splitting, no corruption."},{type:"text",body:`**The lesson**: Pick the right communication channel for your data type.

- **Text data (JSON, commands)**  stdin/stdout pipes with NDJSON. Simple and reliable.
- **Binary data (audio, images, files)**  File or FIFO. No text processing to corrupt your bytes.

Our word counter uses JSON (text)  stdin/stdout is perfect.
JarvisListen sends audio (binary)  needs a file/FIFO instead.`},{type:"quiz",question:"Why does IntelligenceKit (the AI sidecar) use stdin/stdout successfully, while JarvisListen (the audio sidecar) cannot?",options:["IntelligenceKit is written in Python, JarvisListen is in Swift","IntelligenceKit sends JSON text (safe through text pipes). JarvisListen sends raw binary audio (corrupted by text pipes that split on newlines).","IntelligenceKit is faster","JarvisListen sends too much data"],correctIndex:1,explanation:"It's about the DATA, not the language. JSON is text  newlines are actual message separators. Audio is binary  byte 10 is a sound sample, not a newline. Text pipes work for text. Binary needs a different channel."}]},{id:"bundling",title:"Step 6: Ship It  Bundling Helpers Inside Your App",content:[{type:"text",body:`In our demo, word_counter.py sits next to our Rust code and we run it with \`python3 word_counter.py\`. That works on YOUR computer because you have Python installed.

But when you ship a desktop app to users, they might not have Python (or Swift, or whatever language your helper is written in). You need to bundle the helper INSIDE your app so it "just works."

Tauri solves this with a feature called **externalBin**:`},{type:"code",language:"json",code:`// tauri.conf.json  tell Tauri what helpers to bundle
{
  "bundle": {
    "externalBin": [
      "binaries/JarvisListen",
      "binaries/IntelligenceKit"
    ]
  }
}`,caption:'This config tells Tauri: "put these programs inside the app bundle"'},{type:"text",body:`The helpers are pre-compiled into standalone executables (no Python or Swift runtime needed). They live in a \`binaries/\` folder:

\`\`\`
src-tauri/
 binaries/
    JarvisListen-aarch64-apple-darwin     for M1/M2 Macs
    JarvisListen-x86_64-apple-darwin      for Intel Macs
    IntelligenceKit-aarch64-apple-darwin
    IntelligenceKit-x86_64-apple-darwin
\`\`\`

Notice the suffixes  **aarch64** (ARM chips like M1) and **x86_64** (Intel chips). Tauri automatically picks the right one for the user's computer.

Then in Rust, instead of \`Command::new("python3")\`, you use Tauri's sidecar API:`},{type:"code",language:"rust",code:`// In our demo, we did:
Command::new("python3").arg("word_counter.py").spawn()

// In Jarvis, Tauri finds the right binary automatically:
let sidecar = app_handle
    .shell()
    .sidecar("JarvisListen")  // Tauri finds the right binary
    .unwrap();

let sidecar_with_args = sidecar.args([
    "--mono",
    "--sample-rate", "16000",
    "--output", "/tmp/audio.fifo",
]);

let (rx, child) = sidecar_with_args.spawn().unwrap();
// rx = receiver for monitoring events (errors, crashes)
// child = handle to kill it later`,caption:`Tauri's sidecar() finds the bundled binary  no "is Python installed?" worries`},{type:"concept-card",term:"externalBin",explanation:`A Tauri config that says "bundle these executables inside my app." When the app is packaged, Tauri copies them into the .app bundle. At runtime, sidecar() finds the right binary for the user's CPU architecture.`,example:'On an M1 Mac, sidecar("JarvisListen") resolves to JarvisListen-aarch64-apple-darwin inside the app bundle. On Intel, it resolves to JarvisListen-x86_64-apple-darwin.'},{type:"text",body:`You also need to give your app **permission** to run external programs. Tauri's security model requires you to explicitly allow it:

\`\`\`json
// capabilities/default.json
{
  "permissions": ["shell:allow-execute"]
}
\`\`\`

Without this, Tauri blocks sidecar spawning. This is deliberate  a desktop app shouldn't run arbitrary programs unless you specifically allow it.`}]},{id:"in-jarvis",title:"Step 7: How Jarvis Uses Two Sidecars",content:[{type:"text",body:"Now that you've built a sidecar from scratch, let's see how Jarvis uses the same pattern at scale. Jarvis has two sidecars, each with a different communication style:"},{type:"comparison",leftLabel:"JarvisListen (Swift)",rightLabel:"IntelligenceKit (Python)",rows:[{label:"What it does",left:"Captures microphone audio",right:"Runs AI models (summarize, tag)"},{label:"Language",left:"Swift (Apple's language)",right:"Python (ML ecosystem)"},{label:"Data it sends",left:"Raw audio bytes (binary)",right:"JSON commands/responses (text)"},{label:"Communication",left:"Writes to a FIFO file",right:"stdin/stdout with NDJSON"},{label:"Why this channel?",left:"Binary audio breaks text pipes",right:"JSON text works perfectly in text pipes"},{label:"Managed by",left:"RecordingManager (recording.rs)",right:"IntelligenceKitProvider"}]},{type:"text",body:"Here's the real NDJSON code from IntelligenceKit  notice how similar it is to our word counter demo:"},{type:"code",language:"rust",code:`// intelligencekit_provider.rs  real Jarvis code
// Compare this to our word counter demo!

// What Jarvis sends (like our {"text": "..."})
#[derive(Serialize)]
struct NdjsonCommand {
    command: String,            // "summarize", "tag", etc.
    content: Option<String>,    // the text to process
    output_format: Option<String>,
}

// What IntelligenceKit replies (like our {"ok": true, "count": 5})
#[derive(Deserialize)]
struct NdjsonResponse {
    ok: bool,
    result: Option<String>,
    error: Option<String>,
}

// Send a command, get a response  same pattern as our demo!
async fn send_command(&self, cmd: NdjsonCommand)
    -> Result<NdjsonResponse, String>
{
    let json = serde_json::to_string(&cmd)?;

    // Write JSON + newline to stdin (same as our writeln!)
    let stdin = state.stdin.as_mut().unwrap();
    stdin.write_all(json.as_bytes()).await?;
    stdin.write_all(b"\\n").await?;
    stdin.flush().await?;

    // Read one line from stdout (same as our read_line)
    // BUT with a 30-second timeout (our demo didn't have this)
    let mut response_line = String::new();
    let stdout = state.stdout.as_mut().unwrap();

    tokio::time::timeout(
        Duration::from_secs(30),
        stdout.read_line(&mut response_line)
    ).await??;

    serde_json::from_str(&response_line)
}`,caption:"Real Jarvis code  same spawn + write + read pattern as our demo, plus timeouts"},{type:"diagram",nodes:[{id:"ui",label:"React UI",icon:"",color:"#3b82f6"},{id:"tauri",label:"Tauri Bridge",icon:"",color:"#6366f1"},{id:"rust",label:"Rust Core",icon:"",color:"#f59e0b"},{id:"recorder",label:"RecordingManager",icon:"",color:"#f59e0b"},{id:"intel",label:"IntelligenceKitProvider",icon:"",color:"#f59e0b"},{id:"listen",label:"JarvisListen (Swift)",icon:"",color:"#10b981"},{id:"mlx",label:"IntelligenceKit (Python)",icon:"",color:"#10b981"}],connections:[{from:"ui",to:"tauri",label:"invoke()"},{from:"tauri",to:"rust",label:"commands"},{from:"rust",to:"recorder",label:"manages"},{from:"rust",to:"intel",label:"manages"},{from:"recorder",to:"listen",label:"spawn + FIFO"},{from:"intel",to:"mlx",label:"spawn + NDJSON"}]},{type:"text",body:`**Four languages, one app:**

- **TypeScript** (React)  what the user sees and clicks
- **Rust** (Tauri)  the brain  coordinates everything, manages sidecars
- **Swift** (JarvisListen)  the ears  captures audio via macOS microphone APIs
- **Python** (IntelligenceKit)  the intelligence  runs ML models (summarize, tag, classify)

The frontend never knows that Swift and Python exist. It just calls Tauri commands like \`invoke("start_recording")\`. Rust handles starting the right sidecar, talking to it, watching for errors, and cleaning up.`}]},{id:"try-it",title:"Step 8: Try It  Extend the Word Counter",content:[{type:"text",body:"Let's extend our word counter sidecar to also count characters. Add a new command to the Python helper:"},{type:"interactive-code",language:"python",starterCode:`# Add this to word_counter.py
# When the command is "char_count", count characters instead

request = json.loads(line)
command = request.get("command", "word_count")

if command == "word_count":
    count = len(text.split())
    response = {"ok": True, "count": count}
elif command == "______":
    count = ______
    response = {"ok": True, "______": count}
else:
    response = {"ok": False, "error": "Unknown command"}

print(json.dumps(response), flush=True)`,solution:`# Add this to word_counter.py
# When the command is "char_count", count characters instead

request = json.loads(line)
command = request.get("command", "word_count")

if command == "word_count":
    count = len(text.split())
    response = {"ok": True, "count": count}
elif command == "char_count":
    count = len(text)
    response = {"ok": True, "chars": count}
else:
    response = {"ok": False, "error": "Unknown command"}

print(json.dumps(response), flush=True)`,hint:'The new command is "char_count". To count characters in Python, use len(text). Send back the count with a key like "chars".',validator:d=>{const w=d.toLowerCase();return w.includes("char_count")&&w.includes("len(text)")}},{type:"text",body:"Now write the Rust code to send the new command:"},{type:"interactive-code",language:"rust",starterCode:`// Send a char_count command from Rust
let command = r#"{"command": "______", "text": "hello world"}"#;
writeln!(stdin, "{}", command)?;

let mut response = String::new();
reader.read_line(&mut response)?;
println!("Character count: {}", response.trim());`,solution:`// Send a char_count command from Rust
let command = r#"{"command": "char_count", "text": "hello world"}"#;
writeln!(stdin, "{}", command)?;

let mut response = String::new();
reader.read_line(&mut response)?;
println!("Character count: {}", response.trim());
// Output: {"ok": true, "chars": 11}`,hint:'Fill in the command name to match what you added in the Python script  "char_count".',validator:d=>d.includes("char_count")},{type:"text",body:`**What you just learned:**

1. A sidecar is just a helper program that runs alongside your main app
2. You start it with \`spawn()\`, talk to it through stdin/stdout, and stop it when done
3. Use **NDJSON** (JSON lines) for text-based communication between processes
4. Use **files/FIFOs** for binary data  never send binary through text pipes
5. Always handle failures: spawn errors, crashes, hangs (timeouts), and permission issues
6. Bundle helpers inside your app with Tauri's \`externalBin\` so users don't need to install anything

You've now built the same pattern Jarvis uses to coordinate Swift audio capture and Python AI inference  from scratch.`}]}],jarvisConnections:[{concept:"RecordingManager (sidecar lifecycle)",file:"jarvis-app/src-tauri/src/recording.rs",description:"Manages JarvisListen sidecar: spawn with args, monitor stderr for errors, detect crashes, SIGTERM shutdown"},{concept:"IntelligenceKit Provider (NDJSON)",file:"jarvis-app/src-tauri/src/intelligence/intelligencekit_provider.rs",description:"Same spawn + stdin/stdout pattern as our demo, but with 30s timeouts and async/await"},{concept:"Sidecar config (externalBin)",file:"jarvis-app/src-tauri/tauri.conf.json",description:"Declares JarvisListen and IntelligenceKit as bundled external binaries with architecture suffixes"},{concept:"Audio routing (binary-safe)",file:"jarvis-app/src-tauri/src/transcription/audio_router.rs",description:"Creates a FIFO for binary audio data  the fix for the stdout corruption bug"},{concept:"MLX Provider (Python sidecar)",file:"jarvis-app/src-tauri/src/intelligence/mlx_provider.rs",description:"Another Python sidecar using the same spawn + communicate + shutdown pattern"}]};function eg(){return s.jsx(ji,{guide:Pp})}function tg({onNavigate:d}){return s.jsxs("div",{className:"animate-fade-in",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-slate-100 mb-3",children:"Jarvis Architecture Visualizer"}),s.jsx("p",{className:"text-lg text-slate-400 max-w-2xl",children:"Explore the architecture. Learn the stack. Understand the system."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-12",children:wr.map(w=>s.jsxs("button",{onClick:()=>d({part:w.part,section:w.items[0].id}),className:"group text-left p-5 rounded-xl bg-slate-900/60 border border-slate-800 hover:border-slate-700 hover:bg-slate-800/60 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("span",{className:"text-2xl",children:w.icon}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["Part ",w.part]}),s.jsx("h3",{className:"text-sm font-semibold text-slate-200 group-hover:text-slate-100",children:w.label})]})]}),s.jsxs("p",{className:"text-xs text-slate-500",children:[w.items.length," ",w.items.length===1?"section":"sections"]})]},w.part))}),s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-slate-500",children:[s.jsxs("span",{children:[s.jsx("strong",{className:"text-slate-300",children:"6"})," layers"]}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-slate-300",children:"37"})," commands"]}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-slate-300",children:"13"})," specs"]}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-slate-300",children:"8"})," guides"]}),s.jsxs("span",{children:[s.jsx("strong",{className:"text-slate-300",children:"14"})," components"]})]}),s.jsxs("div",{className:"mt-10 p-4 rounded-lg bg-slate-900/40 border border-slate-800/50",children:[s.jsx("p",{className:"text-xs text-slate-500 mb-2 font-medium uppercase tracking-wider",children:"Suggested path"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 flex-wrap",children:[s.jsx("span",{className:"text-indigo-400",children:"Big Picture"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-amber-400",children:"Layers"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-emerald-400",children:"Data Flows"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-violet-400",children:"Spec Map"}),s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-rose-400",children:"101 Guides"})]})]})]})}function Um({title:d,icon:w,color:T}){return s.jsxs("div",{className:"animate-fade-in flex flex-col items-center justify-center py-32",children:[s.jsx("span",{className:"text-5xl mb-4",children:w}),s.jsx("h2",{className:`text-2xl font-bold mb-2 ${T}`,children:d}),s.jsx("p",{className:"text-slate-500 text-sm",children:"Coming in the next phase"})]})}const ag=new Set(["frontend","tauri-bridge","audio","browser","intelligence","gems"]);function ng(d,w){if(d.part===0)return s.jsx(tg,{onNavigate:w});if(d.part===2&&ag.has(d.section))return s.jsx(Hp,{activeLayer:d.section});if(d.part===5)switch(d.section){case"guide-rust":return s.jsx(Qp,{});case"guide-tauri":return s.jsx(Kp,{});case"guide-react":return s.jsx(Wp,{});case"guide-spec":return s.jsx($p,{});case"guide-sidecar":return s.jsx(eg,{})}const T=wr.find(v=>v.part===d.part),u=T?.items.find(v=>v.id===d.section);return!T||!u?s.jsx(Um,{title:"Not Found",icon:"",color:"text-slate-400"}):s.jsx(Um,{title:u.label,icon:u.icon,color:u.color})}function ig(){const[d,w]=me.useState(Sp);return s.jsxs("div",{className:"flex min-h-screen",children:[s.jsx(wp,{activeView:d,onNavigate:w}),s.jsx("main",{className:"flex-1 ml-70 min-h-screen",children:s.jsx("div",{className:"max-w-5xl mx-auto px-8 py-10",children:ng(d,w)})})]})}xp.createRoot(document.getElementById("root")).render(s.jsx(me.StrictMode,{children:s.jsx(ig,{})}));
